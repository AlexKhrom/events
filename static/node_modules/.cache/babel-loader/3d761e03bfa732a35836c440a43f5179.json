{"remainingRequest":"/Users/mac/go/src/events/static/node_modules/thread-loader/dist/cjs.js!/Users/mac/go/src/events/static/node_modules/babel-loader/lib/index.js!/Users/mac/go/src/events/static/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mac/go/src/events/static/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/go/src/events/static/src/components/SignUp.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/go/src/events/static/src/components/SignUp.vue","mtime":1660242031297},{"path":"/Users/mac/go/src/events/static/babel.config.js","mtime":1653650336335},{"path":"/Users/mac/go/src/events/static/node_modules/cache-loader/dist/cjs.js","mtime":1656160197065},{"path":"/Users/mac/go/src/events/static/node_modules/thread-loader/dist/cjs.js","mtime":1656160197065},{"path":"/Users/mac/go/src/events/static/node_modules/babel-loader/lib/index.js","mtime":1656160197672},{"path":"/Users/mac/go/src/events/static/node_modules/cache-loader/dist/cjs.js","mtime":1656160197065},{"path":"/Users/mac/go/src/events/static/node_modules/vue-loader/lib/index.js","mtime":1656160198005}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL21hYy9nby9zcmMvZXZlbnRzL3N0YXRpYy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcmVnZW5lcmF0b3JSdW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYWMvZ28vc3JjL2V2ZW50cy9zdGF0aWMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50ZXN0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmRvdC1hbGwuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuc3RpY2t5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBDb2RlIGZyb20gIkAvY29tcG9uZW50cy9Db2RlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJzaWduVXAiLAogIGNvbXBvbmVudHM6IHsKICAgIENvZGU6IENvZGUKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB2YWxpZDogdHJ1ZSwKICAgICAgc2hvdzogZmFsc2UsCiAgICAgIHBhZ2U6ICdzaWduVXAnLAogICAgICBsb2dpbjogJycsCiAgICAgIGVtYWlsOiAnJywKICAgICAgY29kZTogJycsCiAgICAgIGxvZ2luUnVsZXM6IFtmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiAhIXYgfHwgJ0xvZ2luIGlzIHJlcXVpcmVkJzsKICAgICAgfSwgZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gdiAmJiB2Lmxlbmd0aCA8PSA2IHx8ICdMb2dpbiBtdXN0IGJlIGxlc3MgdGhhbiA0IGNoYXJhY3RlcnMnOwogICAgICB9XSwKICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICBwYXNzd29yZFJ1bGVzOiBbZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gISF2IHx8ICdQYXNzd29yZCBpcyByZXF1aXJlZCc7CiAgICAgIH0sIGZ1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuIHYgJiYgdi5sZW5ndGggPD0gMTAgfHwgJ1Bhc3N3b3JkIG11c3QgYmUgbGVzcyB0aGFuIDEwIGNoYXJhY3RlcnMnOwogICAgICB9XSwKICAgICAgY29kZVJ1bGVzOiBbZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gISF2IHx8ICdjb2RlIGlzIHJlcXVpcmVkJzsKICAgICAgfSwgZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gdiAmJiB2Lmxlbmd0aCA9PT0gNCB8fCAnY29kZSBtdXN0IGJlIDQgY2hhcmFjdGVycyc7CiAgICAgIH1dLAogICAgICBlbWFpbFJ1bGVzOiBbZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gISF2IHx8ICdFLW1haWwgaXMgcmVxdWlyZWQnOwogICAgICB9LCBmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiAvLitALitcLi4rLy50ZXN0KHYpIHx8ICdFLW1haWwgbXVzdCBiZSB2YWxpZCc7CiAgICAgIH1dCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgY2hhbmdlUGFnZTogZnVuY3Rpb24gY2hhbmdlUGFnZShwYWdlKSB7CiAgICAgIGNvbnNvbGUubG9nKCdjaGVuZ2UgcGFnZSA9ICcsIHBhZ2UpOwogICAgICB0aGlzLnBhZ2UgPSBwYWdlOwogICAgfSwKICAgIG1hcmdpblRvcDogZnVuY3Rpb24gbWFyZ2luVG9wKCkgewogICAgICB2YXIgZGV2aWNlcyA9IG5ldyBSZWdFeHAoJ0FuZHJvaWR8d2ViT1N8aVBob25lfGlQYWR8aVBvZHxCbGFja0JlcnJ5fEJCfFBsYXlCb29rfElFTW9iaWxlfFdpbmRvd3MgUGhvbmV8S2luZGxlfFNpbGt8T3BlcmEgTWluaScsICJpIik7CgogICAgICBpZiAoZGV2aWNlcy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSB7CiAgICAgICAgcmV0dXJuICcxMDBweCc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICc0MHB4JzsKICAgICAgfQogICAgfSwKICAgIHNpZ25VcDogZnVuY3Rpb24gc2lnblVwKCkgewogICAgICB0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKTsKICAgICAgdGhpcy5zaWduVXBSZXEoewogICAgICAgIGVtYWlsOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmVtYWlsLAogICAgICAgIGxvZ2luOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmxvZ2luLAogICAgICAgIHBhc3N3b3JkOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnBhc3N3b3JkCiAgICAgIH0pOwogICAgICB0aGlzLnBhZ2UgPSAnY29kZSc7CiAgICB9LAogICAgc2lnblVwUmVxOiBmdW5jdGlvbiBzaWduVXBSZXEodXNlcikgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXNwb25zZTsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnbWFrZSByZXF1ZXN0IDonLCB1c2VyKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCcvYXBpL3NpZ25VcCcsIHsKICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHVzZXIpCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykgewogICAgICAgICAgICAgICAgICAvLyDQtdGB0LvQuCBIVFRQLdGB0YLQsNGC0YPRgSDQsiDQtNC40LDQv9Cw0LfQvtC90LUgMjAwLTI5OQogICAgICAgICAgICAgICAgICAvLyDQv9C+0LvRg9GH0LDQtdC8INGC0LXQu9C+INC+0YLQstC10YLQsCAo0YHQvC4g0L/RgNC+INGN0YLQvtGCINC80LXRgtC+0LQg0L3QuNC20LUpCiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJyZXNwb25zZSA9ICIsIHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIm9ra2trIik7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygibm90IG9rIik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;AAGA;EACAA,cADA;EAEAC;IAAAC;EAAA,CAFA;EAGAC;IAAA;MACAC,WADA;MAEAC,WAFA;MAGAC,cAHA;MAIAC,SAJA;MAKAC,SALA;MAMAC,QANA;MAOAC,aACA;QAAA;MAAA,CADA,EAEA;QAAA;MAAA,CAFA,CAPA;MAWAC,YAXA;MAYAC,gBACA;QAAA;MAAA,CADA,EAEA;QAAA;MAAA,CAFA,CAZA;MAgBAC,YACA;QAAA;MAAA,CADA,EAEA;QAAA;MAAA,CAFA,CAhBA;MAoBAC,aACA;QAAA;MAAA,CADA,EAEA;QAAA;MAAA,CAFA;IApBA;EAAA,CAHA;EA6BAC;IACAC,UADA,sBACAV,IADA,EACA;MACAW;MACA;IACA,CAJA;IAKAC,SALA,uBAKA;MACA;;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA;IACA,CAZA;IAaAC,MAbA,oBAaA;MACA;MACA;QAAAX;QAAAD;QAAAI;MAAA;MACA;IAEA,CAlBA;IAmBAS,SAnBA,qBAmBAC,IAnBA,EAmBA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAJ;gBADA;gBAAA,OAEAK;kBACAC,cADA;kBAEAC;gBAFA,EAFA;;cAAA;gBAEAC,QAFA;;gBAOA;kBAAA;kBACA;kBACAR;kBACAA;gBACA,CAJA,MAIA;kBACAA;gBACA;;cAbA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAcA;EAjCA;AA7BA","names":["name","components","Code","data","valid","show","page","login","email","code","loginRules","password","passwordRules","codeRules","emailRules","methods","changePage","console","marginTop","signUp","signUpReq","user","fetch","method","body","response"],"sourceRoot":"src/components","sources":["SignUp.vue"],"sourcesContent":["<template>\n  <div>\n    <v-form v-if=\"page==='signUp'\"\n            class=\"form\"\n            :style=\"'margin-top:'+marginTop()\"\n            ref=\"form\"\n            v-model=\"valid\"\n            lazy-validation\n    >\n      <v-text-field\n          size=\"30px\"\n          v-model=\"$store.state.user.email\"\n          :rules=\"emailRules\"\n          label=\"E-mail\"\n          required\n          solo\n      ></v-text-field>\n\n      <v-text-field\n          size=\"30px\"\n          v-model=\"$store.state.user.login\"\n          :rules=\"loginRules\"\n          label=\"Login\"\n          required\n          solo\n      ></v-text-field>\n\n      <v-text-field\n          v-model=\"$store.state.user.password\"\n          :rules=\"passwordRules\"\n          label=\"Password\"\n          :append-icon=\"show ? 'mdi-eye' : 'mdi-eye-off'\"\n          :type=\"show ? 'text' : 'password'\"\n          @click:append=\"show = !show\"\n          solo\n      ></v-text-field>\n\n\n      <v-btn\n          style=\"height: 40px;\"\n          class=\"my-2\"\n          color=\"primary\"\n          @click=\"signUp\"\n          :disabled=\"!valid\"\n      >\n        Sign up\n      </v-btn>\n    </v-form>\n\n    <Code @changePage=\"changePage\" v-if=\"page==='code'\"/>\n  </div>\n</template>\n\n<script>\nimport Code from \"@/components/Code\";\n\n\nexport default {\n  name: \"signUp\",\n  components: {Code},\n  data: () => ({\n    valid: true,\n    show: false,\n    page: 'signUp',\n    login: '',\n    email: '',\n    code: '',\n    loginRules: [\n      v => !!v || 'Login is required',\n      v => (v && v.length <= 6) || 'Login must be less than 4 characters',\n    ],\n    password: '',\n    passwordRules: [\n      v => !!v || 'Password is required',\n      v => (v && v.length <= 10) || 'Password must be less than 10 characters',\n    ],\n    codeRules: [\n      v => !!v || 'code is required',\n      v => (v && v.length === 4) || 'code must be 4 characters',\n    ],\n    emailRules: [\n      v => !!v || 'E-mail is required',\n      v => /.+@.+\\..+/.test(v) || 'E-mail must be valid',\n    ],\n\n  }),\n  methods: {\n    changePage(page) {\n      console.log('chenge page = ', page)\n      this.page = page\n    },\n    marginTop() {\n      const devices = new RegExp('Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini', \"i\");\n      if (devices.test(navigator.userAgent)) {\n        return '100px'\n      } else {\n        return '40px'\n      }\n    },\n    signUp() {\n      this.$refs.form.validate()\n      this.signUpReq({email: this.$store.state.user.email, login: this.$store.state.user.login, password: this.$store.state.user.password})\n      this.page = 'code'\n\n    },\n    async signUpReq(user) {\n      console.log('make request :', user)\n      let response = await fetch('/api/signUp', {\n        method: 'POST',\n        body: JSON.stringify(user)\n      });\n\n      if (response.ok) { // если HTTP-статус в диапазоне 200-299\n        // получаем тело ответа (см. про этот метод ниже)\n        console.log(\"response = \", response)\n        console.log(\"okkkk\")\n      } else {\n        console.log(\"not ok\")\n      }\n    },\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"]}]}