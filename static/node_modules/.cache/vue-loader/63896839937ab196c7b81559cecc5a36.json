{"remainingRequest":"/Users/mac/Desktop/newProject/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/Desktop/newProject/src/components/AddEvent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/Desktop/newProject/src/components/AddEvent.vue","mtime":1656842908661},{"path":"/Users/mac/Desktop/newProject/node_modules/cache-loader/dist/cjs.js","mtime":1656160197065},{"path":"/Users/mac/Desktop/newProject/node_modules/babel-loader/lib/index.js","mtime":1656160197672},{"path":"/Users/mac/Desktop/newProject/node_modules/cache-loader/dist/cjs.js","mtime":1656160197065},{"path":"/Users/mac/Desktop/newProject/node_modules/vue-loader/lib/index.js","mtime":1656160198005}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiYWRkRXZlbnQiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0aW1lUGlja2VyOiAiIiwKICAgICAgc2VsZWN0ZWRFdmVudEluZGV4OiAtMSwKICAgICAgbmV3RXZlbnRUb0FkZDoge30sCiAgICAgIG5ld0V2ZW50OiAiIiwKICAgICAgc3RhcnRFdmVudFRpbWU6IG51bGwsCiAgICAgIGVuZEV2ZW50VGltZTogbnVsbCwKICAgICAgaXNQaWNrRXZlbnREdXJhdGlvbjogZmFsc2UsCiAgICAgIGlzRXZlbnRXaXRoRHVyYXRpb246IGZhbHNlLAogICAgICBkYXRlUGlja2VyOiAobmV3IERhdGUoRGF0ZS5ub3coKSAtIChuZXcgRGF0ZSgpKS5nZXRUaW1lem9uZU9mZnNldCgpICogNjAwMDApKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCksCgogICAgfQogIH0sCiAgbWV0aG9kczp7CiAgICBzb3J0RXZlbnRzKCl7CiAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZXZlbnRzLnNvcnQoKGEsIGIpID0+CiAgICAgICAgICBhLmR0IDwgYi5kdCA/IDEgOiAtMSkKICAgIH0sCiAgICBhZGRFdmVudChuZXdUaXRsZSkgewogICAgICBpZiAobmV3VGl0bGUud2l0aER1cmF0aW9uKSB7CiAgICAgICAgdGhpcy5pc1BpY2tFdmVudER1cmF0aW9uID0gdHJ1ZQogICAgICAgIHRoaXMuc3RhcnRFdmVudFRpbWUgPSAobmV3IERhdGUoKSkuZ2V0SG91cnMoKSArICI6IiArIChuZXcgRGF0ZSgpKS5nZXRNaW51dGVzKCkKICAgICAgICB0aGlzLmVuZEV2ZW50VGltZSA9IChuZXcgRGF0ZSgpKS5nZXRIb3VycygpICsgIjoiICsgKG5ldyBEYXRlKCkpLmdldE1pbnV0ZXMoKQogICAgICAgIHRoaXMubmV3RXZlbnRUb0FkZCA9IHsKICAgICAgICAgIHRpdGxlOiBuZXdUaXRsZS50aXRsZSwKICAgICAgICAgIGR0OiBEYXRlLm5vdygpLAogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5ldmVudHMucHVzaCh7CiAgICAgICAgICB0aXRsZTogbmV3VGl0bGUudGl0bGUsCiAgICAgICAgICBkdDogRGF0ZS5ub3coKSwKICAgICAgICB9KQoKICAgICAgICB0aGlzLnNvcnRFdmVudHMoKQogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdldmVudHMnLCBKU09OLnN0cmluZ2lmeSh0aGlzLiRzdG9yZS5zdGF0ZS5ldmVudHMpKQogICAgICAgIHRoaXMucGFnZSA9ICdsaXN0JzsKICAgICAgfQogICAgfSwKICAgIGFkZEV2ZW50V2l0aER1cmF0aW9uKCkgewogICAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlCiAgICAgIGRhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCkKICAgICAgbGV0IG5vd01vbnRoID0gZGF0ZS5nZXRNb250aCgpLnRvU3RyaW5nKCkubGVuZ3RoIDwgMiA/ICcwJyArIChkYXRlLmdldE1vbnRoKCkgKyAxKSA6IChkYXRlLmdldE1vbnRoKCkgKyAxKQogICAgICAvLyBjb25zb2xlLmxvZyhuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCkgKyAiLSIgKyBub3dNb250aCArICItIiArIGRhdGUuZ2V0RGF0ZSgpICsgIiAiICsgdGhpcy5zdGFydEV2ZW50VGltZSkpCiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmV2ZW50cy5wdXNoKHsKICAgICAgICB0aXRsZTogdGhpcy5uZXdFdmVudFRvQWRkLnRpdGxlLAogICAgICAgIGR0OiAobmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpICsgIi0iICsgbm93TW9udGggKyAiLSIgKyBkYXRlLmdldERhdGUoKSArICIgIiArIHRoaXMuc3RhcnRFdmVudFRpbWUpLmdldFRpbWUoKSksCiAgICAgICAgdGltZVN0YXJ0OiAobmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpICsgIi0iICsgbm93TW9udGggKyAiLSIgKyBkYXRlLmdldERhdGUoKSArICIgIiArIHRoaXMuc3RhcnRFdmVudFRpbWUpLmdldFRpbWUoKSksCiAgICAgICAgdGltZUVuZDogKG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSArICItIiArIG5vd01vbnRoICsgIi0iICsgZGF0ZS5nZXREYXRlKCkgKyAiICIgKyB0aGlzLmVuZEV2ZW50VGltZSkpLmdldFRpbWUoKSwKICAgICAgfSkKCiAgICAgIHRoaXMuc3RhcnRFdmVudFRpbWUgPSBudWxsCiAgICAgIHRoaXMuZW5kRXZlbnRUaW1lID0gbnVsbAoKICAgICAgdGhpcy5zb3J0RXZlbnRzKCkKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2V2ZW50cycsIEpTT04uc3RyaW5naWZ5KHRoaXMuJHN0b3JlLnN0YXRlLmV2ZW50cykpCiAgICAgIHRoaXMuaXNQaWNrRXZlbnREdXJhdGlvbiA9IGZhbHNlCiAgICAgIHRoaXMucGFnZSA9ICdsaXN0JzsKICAgIH0sCiAgICBmaW5kSW5kZXhFdmVudHMoaWQpIHsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLiRzdG9yZS5zdGF0ZS5ldmVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUuZXZlbnRzW2ldLmR0ID09PSBpZCkgewogICAgICAgICAgcmV0dXJuIGkKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIC0xCiAgICB9LAogICAgY3JlYXRlRXZlbnQoKSB7CiAgICAgIGlmICh0aGlzLm5ld0V2ZW50ICE9PSAiIikgewogICAgICAgIC8vIGFsZXJ0KCJuZXdFdmVudCIpCiAgICAgICAgbGV0IG5ld1RpdGxlID0gewogICAgICAgICAgdGl0bGU6IHRoaXMubmV3RXZlbnQsCiAgICAgICAgICB3aXRoRHVyYXRpb246IHRoaXMuaXNFdmVudFdpdGhEdXJhdGlvbgogICAgICAgIH0KICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS50aXRsZXMucHVzaChuZXdUaXRsZSkKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLiRzdG9yZS5zdGF0ZS50aXRsZXMpCiAgICAgICAgdGhpcy5uZXdFdmVudCA9ICIiCiAgICAgICAgdGhpcy5pc0V2ZW50V2l0aER1cmF0aW9uID0gZmFsc2UKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndGl0bGVzJywgSlNPTi5zdHJpbmdpZnkodGhpcy4kc3RvcmUuc3RhdGUudGl0bGVzKSkKICAgICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpOwogICAgICB9CiAgICB9LAogIH0KfQo="},{"version":3,"sources":["AddEvent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddEvent.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div style=\"display: block\">\n    <v-btn @click=\"addEvent(title)\" class=\"mb-2\" v-for=\"title in $store.state.titles\" :key=\"title.title\" style=\"width: 100%\">\n      {{ title.title }}\n    </v-btn>\n    <div style=\"margin-top:20px;display: flex;justify-content: center;text-align: center\">\n      <v-text-field\n          style=\"margin:20px 20px 20px 0\"\n          label=\"🥴 новое событие\"\n          solo\n          v-model=\"newEvent\"\n          @cancel=\"createEvent\"\n      ></v-text-field>\n\n      <v-checkbox\n          style=\"padding-top: 15px;\"\n\n          v-model=\"isEventWithDuration\"\n          label=\"with duration\"\n      ></v-checkbox>\n      <!--              <v-btn-->\n      <!--                  height=\"48px\"-->\n      <!--                  depressed-->\n      <!--                  color=\"primary\"-->\n      <!--                  @click=\"isPickEventDuration=true\"-->\n      <!--              >-->\n      <!--                duration-->\n      <!--              </v-btn>-->\n    </div>\n    <v-btn @click=\"createEvent\" color=\"primary\" style=\"margin-top: -30px;width: 100%;\">add</v-btn>\n\n    <template v-if=\"isPickEventDuration\">\n      <div class=\"picker\" @click=\"isPickEventDuration=false\">\n        <div class=\"picker__content\" @click.stop>\n          <slot>\n            <div>\n              <h1>Plan your event:</h1>\n              <v-row\n                  justify=\"space-around\"\n                  align=\"center\"\n              >\n                <v-col style=\"width: 350px; flex: 0 1 auto;\">\n                  <h2>Start:</h2>\n                  <v-time-picker\n                      format=\"24hr\"\n                      v-model=\"startEventTime\"\n                      :max=\"endEventTime\"\n                  ></v-time-picker>\n                </v-col>\n                <v-col style=\"width: 350px; flex: 0 1 auto;\">\n                  <h2>End:</h2>\n                  <v-time-picker\n                      format=\"24hr\"\n                      v-model=\"endEventTime\"\n                      :min=\"startEventTime\"\n                  ></v-time-picker>\n                  <v-btn class=\"mb-2\" width=\"290px\"\n                         @click=\"addEventWithDuration\"\n                         style=\"margin-top: 30px\"\n                         height=\"50px\"\n                         color=\"primary\">save\n                  </v-btn>\n                </v-col>\n              </v-row>\n            </div>\n          </slot>\n        </div>\n      </div>\n    </template>\n  </div>\n\n</template>\n\n<script>\nexport default {\n  name: \"addEvent\",\n  data() {\n    return {\n      timePicker: \"\",\n      selectedEventIndex: -1,\n      newEventToAdd: {},\n      newEvent: \"\",\n      startEventTime: null,\n      endEventTime: null,\n      isPickEventDuration: false,\n      isEventWithDuration: false,\n      datePicker: (new Date(Date.now() - (new Date()).getTimezoneOffset() * 60000)).toISOString().substr(0, 10),\n\n    }\n  },\n  methods:{\n    sortEvents(){\n     this.$store.state.events.sort((a, b) =>\n          a.dt < b.dt ? 1 : -1)\n    },\n    addEvent(newTitle) {\n      if (newTitle.withDuration) {\n        this.isPickEventDuration = true\n        this.startEventTime = (new Date()).getHours() + \":\" + (new Date()).getMinutes()\n        this.endEventTime = (new Date()).getHours() + \":\" + (new Date()).getMinutes()\n        this.newEventToAdd = {\n          title: newTitle.title,\n          dt: Date.now(),\n        }\n      } else {\n        this.$store.state.events.push({\n          title: newTitle.title,\n          dt: Date.now(),\n        })\n\n        this.sortEvents()\n        localStorage.setItem('events', JSON.stringify(this.$store.state.events))\n        this.page = 'list';\n      }\n    },\n    addEventWithDuration() {\n      let date = new Date\n      date.setHours(0, 0, 0, 0)\n      let nowMonth = date.getMonth().toString().length < 2 ? '0' + (date.getMonth() + 1) : (date.getMonth() + 1)\n      // console.log(new Date(date.getFullYear() + \"-\" + nowMonth + \"-\" + date.getDate() + \" \" + this.startEventTime))\n      this.$store.state.events.push({\n        title: this.newEventToAdd.title,\n        dt: (new Date(date.getFullYear() + \"-\" + nowMonth + \"-\" + date.getDate() + \" \" + this.startEventTime).getTime()),\n        timeStart: (new Date(date.getFullYear() + \"-\" + nowMonth + \"-\" + date.getDate() + \" \" + this.startEventTime).getTime()),\n        timeEnd: (new Date(date.getFullYear() + \"-\" + nowMonth + \"-\" + date.getDate() + \" \" + this.endEventTime)).getTime(),\n      })\n\n      this.startEventTime = null\n      this.endEventTime = null\n\n      this.sortEvents()\n      localStorage.setItem('events', JSON.stringify(this.$store.state.events))\n      this.isPickEventDuration = false\n      this.page = 'list';\n    },\n    findIndexEvents(id) {\n      for (let i = 0; i < this.$store.state.events.length; i++) {\n        if (this.$store.state.events[i].dt === id) {\n          return i\n        }\n      }\n      return -1\n    },\n    createEvent() {\n      if (this.newEvent !== \"\") {\n        // alert(\"newEvent\")\n        let newTitle = {\n          title: this.newEvent,\n          withDuration: this.isEventWithDuration\n        }\n        this.$store.state.titles.push(newTitle)\n        console.log(this.$store.state.titles)\n        this.newEvent = \"\"\n        this.isEventWithDuration = false\n        localStorage.setItem('titles', JSON.stringify(this.$store.state.titles))\n        this.$forceUpdate();\n      }\n    },\n  }\n}\n</script>\n\n<style scoped>\n\n.picker {\n  color: white;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  position: fixed;\n  z-index: 100;\n  overflow: auto;\n  display: flex;\n  padding-top: 80px;\n}\n\n.picker__content {\n  /*overflow-y: scroll;*/\n  display: block;\n  width: 290px;\n  margin: auto;\n\n  min-height: 100%;\n  justify-content: space-between;\n  z-index: 200;\n}\n</style>"]}]}