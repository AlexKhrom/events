{"remainingRequest":"/Users/mac/go/src/events/static/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/go/src/events/static/src/components/SignUp.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/go/src/events/static/src/components/SignUp.vue","mtime":1660242031297},{"path":"/Users/mac/go/src/events/static/node_modules/babel-loader/lib/index.js","mtime":1656160197672},{"path":"/Users/mac/go/src/events/static/node_modules/cache-loader/dist/cjs.js","mtime":1656160197065},{"path":"/Users/mac/go/src/events/static/node_modules/vue-loader/lib/index.js","mtime":1656160198005}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDb2RlIGZyb20gIkAvY29tcG9uZW50cy9Db2RlIjsKCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInNpZ25VcCIsCiAgY29tcG9uZW50czoge0NvZGV9LAogIGRhdGE6ICgpID0+ICh7CiAgICB2YWxpZDogdHJ1ZSwKICAgIHNob3c6IGZhbHNlLAogICAgcGFnZTogJ3NpZ25VcCcsCiAgICBsb2dpbjogJycsCiAgICBlbWFpbDogJycsCiAgICBjb2RlOiAnJywKICAgIGxvZ2luUnVsZXM6IFsKICAgICAgdiA9PiAhIXYgfHwgJ0xvZ2luIGlzIHJlcXVpcmVkJywKICAgICAgdiA9PiAodiAmJiB2Lmxlbmd0aCA8PSA2KSB8fCAnTG9naW4gbXVzdCBiZSBsZXNzIHRoYW4gNCBjaGFyYWN0ZXJzJywKICAgIF0sCiAgICBwYXNzd29yZDogJycsCiAgICBwYXNzd29yZFJ1bGVzOiBbCiAgICAgIHYgPT4gISF2IHx8ICdQYXNzd29yZCBpcyByZXF1aXJlZCcsCiAgICAgIHYgPT4gKHYgJiYgdi5sZW5ndGggPD0gMTApIHx8ICdQYXNzd29yZCBtdXN0IGJlIGxlc3MgdGhhbiAxMCBjaGFyYWN0ZXJzJywKICAgIF0sCiAgICBjb2RlUnVsZXM6IFsKICAgICAgdiA9PiAhIXYgfHwgJ2NvZGUgaXMgcmVxdWlyZWQnLAogICAgICB2ID0+ICh2ICYmIHYubGVuZ3RoID09PSA0KSB8fCAnY29kZSBtdXN0IGJlIDQgY2hhcmFjdGVycycsCiAgICBdLAogICAgZW1haWxSdWxlczogWwogICAgICB2ID0+ICEhdiB8fCAnRS1tYWlsIGlzIHJlcXVpcmVkJywKICAgICAgdiA9PiAvLitALitcLi4rLy50ZXN0KHYpIHx8ICdFLW1haWwgbXVzdCBiZSB2YWxpZCcsCiAgICBdLAoKICB9KSwKICBtZXRob2RzOiB7CiAgICBjaGFuZ2VQYWdlKHBhZ2UpIHsKICAgICAgY29uc29sZS5sb2coJ2NoZW5nZSBwYWdlID0gJywgcGFnZSkKICAgICAgdGhpcy5wYWdlID0gcGFnZQogICAgfSwKICAgIG1hcmdpblRvcCgpIHsKICAgICAgY29uc3QgZGV2aWNlcyA9IG5ldyBSZWdFeHAoJ0FuZHJvaWR8d2ViT1N8aVBob25lfGlQYWR8aVBvZHxCbGFja0JlcnJ5fEJCfFBsYXlCb29rfElFTW9iaWxlfFdpbmRvd3MgUGhvbmV8S2luZGxlfFNpbGt8T3BlcmEgTWluaScsICJpIik7CiAgICAgIGlmIChkZXZpY2VzLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHsKICAgICAgICByZXR1cm4gJzEwMHB4JwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAnNDBweCcKICAgICAgfQogICAgfSwKICAgIHNpZ25VcCgpIHsKICAgICAgdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCkKICAgICAgdGhpcy5zaWduVXBSZXEoe2VtYWlsOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmVtYWlsLCBsb2dpbjogdGhpcy4kc3RvcmUuc3RhdGUudXNlci5sb2dpbiwgcGFzc3dvcmQ6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIucGFzc3dvcmR9KQogICAgICB0aGlzLnBhZ2UgPSAnY29kZScKCiAgICB9LAogICAgYXN5bmMgc2lnblVwUmVxKHVzZXIpIHsKICAgICAgY29uc29sZS5sb2coJ21ha2UgcmVxdWVzdCA6JywgdXNlcikKICAgICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2lnblVwJywgewogICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHVzZXIpCiAgICAgIH0pOwoKICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7IC8vINC10YHQu9C4IEhUVFAt0YHRgtCw0YLRg9GBINCyINC00LjQsNC/0LDQt9C+0L3QtSAyMDAtMjk5CiAgICAgICAgLy8g0L/QvtC70YPRh9Cw0LXQvCDRgtC10LvQviDQvtGC0LLQtdGC0LAgKNGB0LwuINC/0YDQviDRjdGC0L7RgiDQvNC10YLQvtC0INC90LjQttC1KQogICAgICAgIGNvbnNvbGUubG9nKCJyZXNwb25zZSA9ICIsIHJlc3BvbnNlKQogICAgICAgIGNvbnNvbGUubG9nKCJva2trayIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS5sb2coIm5vdCBvayIpCiAgICAgIH0KICAgIH0sCiAgfQp9Cg=="},{"version":3,"sources":["SignUp.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SignUp.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <v-form v-if=\"page==='signUp'\"\n            class=\"form\"\n            :style=\"'margin-top:'+marginTop()\"\n            ref=\"form\"\n            v-model=\"valid\"\n            lazy-validation\n    >\n      <v-text-field\n          size=\"30px\"\n          v-model=\"$store.state.user.email\"\n          :rules=\"emailRules\"\n          label=\"E-mail\"\n          required\n          solo\n      ></v-text-field>\n\n      <v-text-field\n          size=\"30px\"\n          v-model=\"$store.state.user.login\"\n          :rules=\"loginRules\"\n          label=\"Login\"\n          required\n          solo\n      ></v-text-field>\n\n      <v-text-field\n          v-model=\"$store.state.user.password\"\n          :rules=\"passwordRules\"\n          label=\"Password\"\n          :append-icon=\"show ? 'mdi-eye' : 'mdi-eye-off'\"\n          :type=\"show ? 'text' : 'password'\"\n          @click:append=\"show = !show\"\n          solo\n      ></v-text-field>\n\n\n      <v-btn\n          style=\"height: 40px;\"\n          class=\"my-2\"\n          color=\"primary\"\n          @click=\"signUp\"\n          :disabled=\"!valid\"\n      >\n        Sign up\n      </v-btn>\n    </v-form>\n\n    <Code @changePage=\"changePage\" v-if=\"page==='code'\"/>\n  </div>\n</template>\n\n<script>\nimport Code from \"@/components/Code\";\n\n\nexport default {\n  name: \"signUp\",\n  components: {Code},\n  data: () => ({\n    valid: true,\n    show: false,\n    page: 'signUp',\n    login: '',\n    email: '',\n    code: '',\n    loginRules: [\n      v => !!v || 'Login is required',\n      v => (v && v.length <= 6) || 'Login must be less than 4 characters',\n    ],\n    password: '',\n    passwordRules: [\n      v => !!v || 'Password is required',\n      v => (v && v.length <= 10) || 'Password must be less than 10 characters',\n    ],\n    codeRules: [\n      v => !!v || 'code is required',\n      v => (v && v.length === 4) || 'code must be 4 characters',\n    ],\n    emailRules: [\n      v => !!v || 'E-mail is required',\n      v => /.+@.+\\..+/.test(v) || 'E-mail must be valid',\n    ],\n\n  }),\n  methods: {\n    changePage(page) {\n      console.log('chenge page = ', page)\n      this.page = page\n    },\n    marginTop() {\n      const devices = new RegExp('Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini', \"i\");\n      if (devices.test(navigator.userAgent)) {\n        return '100px'\n      } else {\n        return '40px'\n      }\n    },\n    signUp() {\n      this.$refs.form.validate()\n      this.signUpReq({email: this.$store.state.user.email, login: this.$store.state.user.login, password: this.$store.state.user.password})\n      this.page = 'code'\n\n    },\n    async signUpReq(user) {\n      console.log('make request :', user)\n      let response = await fetch('/api/signUp', {\n        method: 'POST',\n        body: JSON.stringify(user)\n      });\n\n      if (response.ok) { // если HTTP-статус в диапазоне 200-299\n        // получаем тело ответа (см. про этот метод ниже)\n        console.log(\"response = \", response)\n        console.log(\"okkkk\")\n      } else {\n        console.log(\"not ok\")\n      }\n    },\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"]}]}