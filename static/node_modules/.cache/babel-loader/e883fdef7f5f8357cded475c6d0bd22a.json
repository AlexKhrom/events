{"remainingRequest":"/Users/mac/Desktop/events/static/node_modules/thread-loader/dist/cjs.js!/Users/mac/Desktop/events/static/node_modules/babel-loader/lib/index.js!/Users/mac/Desktop/events/static/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mac/Desktop/events/static/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/Desktop/events/static/src/components/ListEvents.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/Desktop/events/static/src/components/ListEvents.vue","mtime":1656949917374},{"path":"/Users/mac/Desktop/events/static/babel.config.js","mtime":1653650336335},{"path":"/Users/mac/Desktop/events/static/node_modules/cache-loader/dist/cjs.js","mtime":1656160197065},{"path":"/Users/mac/Desktop/events/static/node_modules/thread-loader/dist/cjs.js","mtime":1656160197065},{"path":"/Users/mac/Desktop/events/static/node_modules/babel-loader/lib/index.js","mtime":1656160197672},{"path":"/Users/mac/Desktop/events/static/node_modules/cache-loader/dist/cjs.js","mtime":1656160197065},{"path":"/Users/mac/Desktop/events/static/node_modules/vue-loader/lib/index.js","mtime":1656160198005}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN1YnN0ci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmRhdGUudG8taXNvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmRhdGUudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS5ub3cuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb3J0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudGltZXJzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgX21vbWVudCBmcm9tICJtb21lbnQiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImxpc3RFdmVudHMiLAogIGZpbHRlcnM6IHsKICAgIG1vbWVudDogZnVuY3Rpb24gbW9tZW50KGRhdGUpIHsKICAgICAgcmV0dXJuIF9tb21lbnQoZGF0ZSkuZm9ybWF0KCJEIE1NTU0iKTsKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc0NoYW5nZUV2ZW50OiBmYWxzZSwKICAgICAgaXNDaGFuZ2VFdmVudFdpdGhEdXJhdGlvbjogZmFsc2UsCiAgICAgIHN0YXJ0RXZlbnRUaW1lOiBudWxsLAogICAgICBlbmRFdmVudFRpbWU6IG51bGwsCiAgICAgIHRpbWVQaWNrZXI6ICIiLAogICAgICBwZXJjZW50T2ZFdmVudFRpbWU6IDAsCiAgICAgIGRhdGVQaWNrZXI6IG5ldyBEYXRlKERhdGUubm93KCkgLSBuZXcgRGF0ZSgpLmdldFRpbWV6b25lT2Zmc2V0KCkgKiA2MDAwMCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGV2ZW50c0FycmF5OiBmdW5jdGlvbiBldmVudHNBcnJheSgpIHsKICAgICAgY29uc29sZS5sb2codGhpcy4kc3RvcmUuc3RhdGUuZXZlbnRzLnNsaWNlKCkuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgIHJldHVybiBhLmR0IDwgYi5kdCA/IDEgOiAtMTsKICAgICAgfSkpOwogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuZXZlbnRzLnNsaWNlKCkuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgIHJldHVybiBhLmR0IDwgYi5kdCA/IDEgOiAtMTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBkZWxldGVFdmVudDogZnVuY3Rpb24gZGVsZXRlRXZlbnQoaWQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBpbmRleCA9IHRoaXMuZmluZEluZGV4RXZlbnRzKGlkKTsKICAgICAgdmFyIGV2ZW50ID0gdGhpcy4kc3RvcmUuc3RhdGUuZXZlbnRzW2luZGV4XTsKICAgICAgY29uc29sZS5sb2coImluZGV4ID0gIiwgaW5kZXgpOwogICAgICBjb25zb2xlLmxvZyh7CiAgICAgICAgZXZlbnQ6IGV2ZW50CiAgICAgIH0pOwogICAgICB2YXIgd2FpdFNlY29uZHMgPSAzOwogICAgICBldmVudC53YWl0U2Vjb25kcyA9IHdhaXRTZWNvbmRzOwogICAgICB2YXIgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoIWV2ZW50LmRlbGV0ZWQpIHsKICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZXZlbnRzJywgSlNPTi5zdHJpbmdpZnkoX3RoaXMuJHN0b3JlLnN0YXRlLmV2ZW50cykpOwoKICAgICAgICAgIF90aGlzLiRmb3JjZVVwZGF0ZSgpOwoKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGlmICgtLXdhaXRTZWNvbmRzIDwgMCkgewogICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTsKCiAgICAgICAgICB2YXIgX2luZGV4ID0gX3RoaXMuZmluZEluZGV4RXZlbnRzKGlkKTsKCiAgICAgICAgICBfdGhpcy4kc3RvcmUuc3RhdGUuZXZlbnRzLnNwbGljZShfaW5kZXgsIDEpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBldmVudC53YWl0U2Vjb25kcyA9IHdhaXRTZWNvbmRzOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMuJGZvcmNlVXBkYXRlKCk7CiAgICAgIH0sIDEwMDApOyAvLyB0aGlzLiRzdG9yZS5zdGF0ZS5ldmVudHMuc3BsaWNlKGluZGV4LCAxKQoKICAgICAgZXZlbnQuZGVsZXRlZCA9IERhdGUubm93KCk7CiAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdldmVudHMnLCBKU09OLnN0cmluZ2lmeSh0aGlzLiRzdG9yZS5zdGF0ZS5ldmVudHMpKTsKICAgIH0sCiAgICBjYW1lYmFja0V2ZW50OiBmdW5jdGlvbiBjYW1lYmFja0V2ZW50KGlkKSB7CiAgICAgIHZhciBpbmRleCA9IHRoaXMuZmluZEluZGV4RXZlbnRzKGlkKTsKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZXZlbnRzW2luZGV4XS5kZWxldGVkID0gMDsKICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTsKICAgIH0sCiAgICBjaGFuZ2VFdmVudDogZnVuY3Rpb24gY2hhbmdlRXZlbnQoaWQpIHsKICAgICAgdmFyIGluZGV4ID0gdGhpcy5maW5kSW5kZXhFdmVudHMoaWQpOwogICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHRoaXMuJHN0b3JlLnN0YXRlLmV2ZW50c1tpbmRleF0uZHQpOwogICAgICB0aGlzLnNlbGVjdGVkRXZlbnRJbmRleCA9IGluZGV4OwoKICAgICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLmV2ZW50c1tpbmRleF0udGltZVN0YXJ0ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICB2YXIgd2FzRGF0ZVN0YXJ0ID0gbmV3IERhdGUodGhpcy4kc3RvcmUuc3RhdGUuZXZlbnRzW2luZGV4XS50aW1lU3RhcnQpOwogICAgICAgIHZhciB3YXNEYXRlRW5kID0gbmV3IERhdGUodGhpcy4kc3RvcmUuc3RhdGUuZXZlbnRzW2luZGV4XS50aW1lRW5kKTsKICAgICAgICB0aGlzLnN0YXJ0RXZlbnRUaW1lID0gd2FzRGF0ZVN0YXJ0LmdldEhvdXJzKCkgKyAiOiIgKyB3YXNEYXRlU3RhcnQuZ2V0TWludXRlcygpOwogICAgICAgIHRoaXMuZW5kRXZlbnRUaW1lID0gd2FzRGF0ZUVuZC5nZXRIb3VycygpICsgIjoiICsgd2FzRGF0ZUVuZC5nZXRNaW51dGVzKCk7CiAgICAgICAgdGhpcy5kYXRlUGlja2VyID0gbmV3IERhdGUoZGF0ZSAtIG5ldyBEYXRlKCkuZ2V0VGltZXpvbmVPZmZzZXQoKSAqIDYwMDAwKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCk7CiAgICAgICAgY29uc29sZS5sb2codGhpcy5zdGFydEV2ZW50VGltZSk7CiAgICAgICAgY29uc29sZS5sb2codGhpcy5lbmRFdmVudFRpbWUpOwogICAgICAgIHRoaXMuaXNDaGFuZ2VFdmVudFdpdGhEdXJhdGlvbiA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy50aW1lUGlja2VyID0gZGF0ZS5nZXRIb3VycygpICsgIjoiICsgZGF0ZS5nZXRNaW51dGVzKCk7CiAgICAgICAgdGhpcy5kYXRlUGlja2VyID0gbmV3IERhdGUoZGF0ZSAtIG5ldyBEYXRlKCkuZ2V0VGltZXpvbmVPZmZzZXQoKSAqIDYwMDAwKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCk7CiAgICAgICAgdGhpcy5pc0NoYW5nZUV2ZW50ID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIHNhdmVFdmVudFdpdGhEdXJhdGlvbkNoYW5nZXM6IGZ1bmN0aW9uIHNhdmVFdmVudFdpdGhEdXJhdGlvbkNoYW5nZXMoKSB7CiAgICAgIHZhciBzdGFydERhdGUgPSBuZXcgRGF0ZSh0aGlzLnN0YXJ0RXZlbnRUaW1lICsgIiAiICsgdGhpcy5kYXRlUGlja2VyKTsKICAgICAgdmFyIGVuZERhdGUgPSBuZXcgRGF0ZSh0aGlzLmVuZEV2ZW50VGltZSArICIgIiArIHRoaXMuZGF0ZVBpY2tlcik7CiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmV2ZW50c1t0aGlzLnNlbGVjdGVkRXZlbnRJbmRleF0udGltZVN0YXJ0ID0gc3RhcnREYXRlLmdldFRpbWUoKSArIHRoaXMuJHN0b3JlLnN0YXRlLmV2ZW50c1t0aGlzLnNlbGVjdGVkRXZlbnRJbmRleF0uZHQgJSAxMDAwOwogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5ldmVudHNbdGhpcy5zZWxlY3RlZEV2ZW50SW5kZXhdLnRpbWVFbmQgPSBlbmREYXRlLmdldFRpbWUoKSArIHRoaXMuJHN0b3JlLnN0YXRlLmV2ZW50c1t0aGlzLnNlbGVjdGVkRXZlbnRJbmRleF0uZHQgJSAxMDAwOwogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5ldmVudHNbdGhpcy5zZWxlY3RlZEV2ZW50SW5kZXhdLmR0ID0gdGhpcy4kc3RvcmUuc3RhdGUuZXZlbnRzW3RoaXMuc2VsZWN0ZWRFdmVudEluZGV4XS50aW1lU3RhcnQ7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdldmVudHMnLCBKU09OLnN0cmluZ2lmeSh0aGlzLiRzdG9yZS5zdGF0ZS5ldmVudHMpKTsKICAgICAgdGhpcy5pc0NoYW5nZUV2ZW50V2l0aER1cmF0aW9uID0gZmFsc2U7CiAgICB9LAogICAgc2F2ZUV2ZW50Q2hhbmdlczogZnVuY3Rpb24gc2F2ZUV2ZW50Q2hhbmdlcygpIHsKICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSh0aGlzLnRpbWVQaWNrZXIgKyAiICIgKyB0aGlzLmRhdGVQaWNrZXIpOyAvLyBhbGVydChkYXRlICsgIiAtICIgKyBuZXcgRGF0ZSgpKQoKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZXZlbnRzW3RoaXMuc2VsZWN0ZWRFdmVudEluZGV4XS5kdCA9IGRhdGUuZ2V0VGltZSgpICsgdGhpcy4kc3RvcmUuc3RhdGUuZXZlbnRzW3RoaXMuc2VsZWN0ZWRFdmVudEluZGV4XS5kdCAlIDEwMDA7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdldmVudHMnLCBKU09OLnN0cmluZ2lmeSh0aGlzLiRzdG9yZS5zdGF0ZS5ldmVudHMpKTsKICAgICAgdGhpcy5pc0NoYW5nZUV2ZW50ID0gZmFsc2U7CiAgICB9LAogICAg0YFhbGNUaW1lUGVyY2VudDogZnVuY3Rpb24g0YFhbGNUaW1lUGVyY2VudChpbmRleCkgewogICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUuZXZlbnRzW2luZGV4XS50aW1lU3RhcnQgPT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybiAxMDA7CiAgICAgIH0KCiAgICAgIGNvbnNvbGUubG9nKGluZGV4LCB0aGlzLiRzdG9yZS5zdGF0ZS5ldmVudHNbaW5kZXhdLmR0KTsKICAgICAgdmFyIHRpbWVGb3JEYXkgPSAwOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmV2ZW50c0FycmF5Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKG5ldyBEYXRlKHRoaXMuJHN0b3JlLnN0YXRlLmV2ZW50c1tpXS5kdCkuZ2V0RGF0ZSgpID09PSBuZXcgRGF0ZSh0aGlzLiRzdG9yZS5zdGF0ZS5ldmVudHNbaW5kZXhdLmR0KS5nZXREYXRlKCkgJiYgdGhpcy4kc3RvcmUuc3RhdGUuZXZlbnRzW2ldLnRpbWVTdGFydCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB0aW1lRm9yRGF5ICs9IHRoaXMuJHN0b3JlLnN0YXRlLmV2ZW50c1tpXS50aW1lRW5kIC0gdGhpcy4kc3RvcmUuc3RhdGUuZXZlbnRzW2ldLnRpbWVTdGFydDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGNvbnNvbGUubG9nKCJwZXJjZW50ID0gIiwgKHRoaXMuJHN0b3JlLnN0YXRlLmV2ZW50c1tpbmRleF0udGltZUVuZCAtIHRoaXMuJHN0b3JlLnN0YXRlLmV2ZW50c1tpbmRleF0udGltZVN0YXJ0KSAvIHRpbWVGb3JEYXkpOwogICAgICByZXR1cm4gdGhpcy5wZXJjZW50T2ZFdmVudFRpbWUgPSAodGhpcy4kc3RvcmUuc3RhdGUuZXZlbnRzW2luZGV4XS50aW1lRW5kIC0gdGhpcy4kc3RvcmUuc3RhdGUuZXZlbnRzW2luZGV4XS50aW1lU3RhcnQpIC8gdGltZUZvckRheSAqIDEwMDsKICAgIH0sCiAgICBib3JkZXJDb2xvckZvckV2ZW50OiBmdW5jdGlvbiBib3JkZXJDb2xvckZvckV2ZW50KGluZGV4KSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuJHN0b3JlLnN0YXRlLmV2ZW50c1tpbmRleF0udGltZVN0YXJ0ID09PSB1bmRlZmluZWQgPyAiYmx1ZSIgOiAiZ3JlZW4iKTsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmV2ZW50c1tpbmRleF0udGltZVN0YXJ0ID09PSB1bmRlZmluZWQgPyAicmdiKDQ3LDEwMSwxODYpIiA6ICJncmVlbiI7CiAgICB9LAogICAgc29ydEV2ZW50czogZnVuY3Rpb24gc29ydEV2ZW50cygpIHsKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZXZlbnRzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICByZXR1cm4gbmV3IERhdGUoYS5kdCkuZ2V0TWlsbGlzZWNvbmRzKCkgPiBuZXcgRGF0ZShiLmR0KS5nZXRNaWxsaXNlY29uZHMoKTsKICAgICAgfSk7CiAgICB9LAogICAgaXNOZXdEYXk6IGZ1bmN0aW9uIGlzTmV3RGF5KGluZGV4KSB7CiAgICAgIGlmIChpbmRleCA9PT0gMCkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogICAgICBjb25zb2xlLmxvZyhpbmRleCwgbmV3IERhdGUodGhpcy5ldmVudHNBcnJheVtpbmRleCAtIDFdLmR0KS5nZXREYXRlKCksIG5ldyBEYXRlKHRoaXMuZXZlbnRzQXJyYXlbaW5kZXhdLmR0KS5nZXREYXRlKCkpOwogICAgICByZXR1cm4gbmV3IERhdGUodGhpcy5ldmVudHNBcnJheVtpbmRleCAtIDFdLmR0KS5nZXREYXRlKCkgIT09IG5ldyBEYXRlKHRoaXMuZXZlbnRzQXJyYXlbaW5kZXhdLmR0KS5nZXREYXRlKCk7CiAgICB9LAogICAgZmluZEluZGV4RXZlbnRzOiBmdW5jdGlvbiBmaW5kSW5kZXhFdmVudHMoaWQpIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLiRzdG9yZS5zdGF0ZS5ldmVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUuZXZlbnRzW2ldLmR0ID09PSBpZCkgewogICAgICAgICAgcmV0dXJuIGk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gLTE7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqHA;AAGA;EACAA,kBADA;EAEAC;IACAC,MADA,kBACAC,IADA,EACA;MACA;IACA;EAHA,CAFA;EAOAC,IAPA,kBAOA;IACA;MACAC,oBADA;MAEAC,gCAFA;MAGAC,oBAHA;MAIAC,kBAJA;MAKAC,cALA;MAMAC,qBANA;MAOAC;IAPA;EAUA,CAlBA;EAmBAC;IACAC,WADA,yBACA;MACAC;QAAA,OACAC,oBADA;MAAA;MAEA;QAAA,OACAA,oBADA;MAAA;IAEA;EANA,CAnBA;EA2BAC;IACAC,WADA,uBACAC,EADA,EACA;MAAA;;MACA;MACA;MAEAJ;MACAA;QAAAK;MAAA;MAEA;MACAA;MACA;QACA;UACAC;UACAC;;UACA;;UACA;QACA;;QACA;UACAD;;UACA;;UACA;QACA,CAJA,MAIA;UACAD;QACA;;QACA;MACA,CAfA,EAeA,IAfA,EATA,CA0BA;;MAEAA;MACA;MACAE;IACA,CAhCA;IAiCAC,aAjCA,yBAiCAJ,EAjCA,EAiCA;MACA;MACA;MACA;IACA,CArCA;IAsCAK,WAtCA,uBAsCAL,EAtCA,EAsCA;MACA;MACA;MACA;;MACA;QACA;QACA;QACA;QACA;QACA;QAEAJ;QACAA;QACA;MAEA,CAXA,MAWA;QACA;QACA;QACA;MACA;IACA,CA1DA;IA2DAU,4BA3DA,0CA2DA;MACA;MACA;MAEA;MACA;MACA;MAGAH;MACA;IAEA,CAvEA;IAwEAI,gBAxEA,8BAwEA;MACA,6DADA,CAEA;;MACA;MACAJ;MACA;IACA,CA9EA;IA+EAK,eA/EA,2BA+EAC,KA/EA,EA+EA;MACA;QACA;MACA;;MACAb;MACA;;MACA;QACA,qHACA,mDADA,EACA;UACAc;QACA;MACA;;MACAd;MACA;IACA,CA7FA;IA8FAe,mBA9FA,+BA8FAF,KA9FA,EA8FA;MACAb;MACA;IACA,CAjGA;IAkGAgB,UAlGA,wBAkGA;MACA;QAAA;MAAA;IACA,CApGA;IAsGAC,QAtGA,oBAsGAJ,KAtGA,EAsGA;MACA;QACA;MACA;;MACAb;MACA;IACA,CA5GA;IA8GAkB,eA9GA,2BA8GAd,EA9GA,EA8GA;MACA;QACA;UACA;QACA;MACA;;MACA;IACA;EArHA;AA3BA","names":["name","filters","moment","date","data","isChangeEvent","isChangeEventWithDuration","startEventTime","endEventTime","timePicker","percentOfEventTime","datePicker","computed","eventsArray","console","a","methods","deleteEvent","id","event","clearInterval","localStorage","camebackEvent","changeEvent","saveEventWithDurationChanges","saveEventChanges","сalcTimePercent","index","timeForDay","borderColorForEvent","sortEvents","isNewDay","findIndexEvents"],"sourceRoot":"src/components","sources":["ListEvents.vue"],"sourcesContent":["<!--evets = []event{-->\n<!--  dt: date of creat event-->\n<!--  title: name of event-->\n<!--  timeStart: date of start doing smth-->\n<!--  timeEnd: date of finish doing smth-->\n<!--}-->\n<template>\n  <div>\n    <template v-if=\"isChangeEvent\">\n      <div class=\"picker\" @click=\"isChangeEvent=false\">\n        <div class=\"picker__content\" @click.stop>\n          <slot>\n            <v-row justify=\"space-around\">\n              <v-col>\n                <v-time-picker\n                    format=\"ampm\"\n                    v-model=\"timePicker\"\n                ></v-time-picker>\n              </v-col>\n              <v-col>\n                <v-date-picker\n                    v-model=\"datePicker\"\n                    color=\"primary lighten-1\"\n                ></v-date-picker>\n              </v-col>\n              <v-col>\n                <v-btn class=\"mb-2\" width=\"290px\"\n                       @click=\"saveEventChanges\"\n                       color=\"primary\">save\n                </v-btn>\n              </v-col>\n            </v-row>\n          </slot>\n        </div>\n      </div>\n    </template>\n\n    <template v-if=\"isChangeEventWithDuration\">\n      <div class=\"picker\" @click=\"isChangeEventWithDuration=false\">\n        <div class=\"picker__content\" @click.stop>\n          <slot>\n            <div>\n              <h1>Change your event:</h1>\n              <v-row\n                  justify=\"space-around\"\n                  align=\"center\"\n              >\n                <v-col style=\"width: 350px; flex: 0 1 auto;\">\n                  <h2>Start:</h2>\n                  <v-time-picker\n                      format=\"24hr\"\n                      v-model=\"startEventTime\"\n                      :max=\"endEventTime\"\n                  ></v-time-picker>\n                </v-col>\n                <v-col style=\"width: 350px; flex: 0 1 auto;\">\n                  <h2>End:</h2>\n                  <v-time-picker\n                      format=\"24hr\"\n                      v-model=\"endEventTime\"\n                      :min=\"startEventTime\"\n                  ></v-time-picker>\n                </v-col>\n                <v-col>\n                  <v-date-picker\n                      v-model=\"datePicker\"\n                      color=\"primary lighten-1\"\n                  ></v-date-picker>\n                </v-col>\n                <v-col>\n                  <v-btn class=\"mb-2\" width=\"290px\"\n                         @click=\"saveEventWithDurationChanges\"\n                         height=\"50px\"\n                         color=\"primary\">save\n                  </v-btn>\n                </v-col>\n              </v-row>\n            </div>\n          </slot>\n        </div>\n      </div>\n    </template>\n\n\n    <div v-for=\"(event,index) in this.$store.state.events\"\n         :key=\"event.title+event.dt\"\n    >\n      <div v-if=\"isNewDay(index)\" style=\"margin-top: 20px;color: #555555\">{{ new Date(event.dt) | moment }}</div>\n      <div\n          style=\"display: flex;justify-content: space-between;margin-top: 20px;padding:5px;\">\n        <div>\n          <div :style=\"event.deleted?'opacity: 0.5':''\"\n               style=\"font-size: 18px;text-transform: capitalize;display: flex;align-items: center;\">{{ event.title }}\n          </div>\n          <span v-if=\"!event.deleted\" style=\"color: #555;font-size: 11px;display: block\">{{\n              $moment(event.dt).fromNow()\n            }}</span>\n        </div>\n        <div>\n          <span v-if=\"event.deleted\" style=\"color: #555;font-size: 12px;padding-right: 10px\">{{\n              event.waitSeconds\n            }}с</span>\n          <span v-if=\"event.timeStart!==undefined\" style=\"color: #555;font-size: 14px;\">\n            {{Math.floor((event.timeEnd-event.timeStart)/(3600000))+\":\"+Math.floor((event.timeEnd-event.timeStart)%(3600000)/60000)}}\n          </span>\n          <v-btn v-if=\"!event.deleted\" @click=\"changeEvent(event.dt)\" icon>✏️</v-btn>\n          <v-btn v-if=\"event.deleted\" @click=\"camebackEvent(event.dt)\" text small>вернуть ↩︎</v-btn>\n          <v-btn v-else @click=\"deleteEvent(event.dt)\" icon>🗑</v-btn>\n        </div>\n      </div>\n      <div :style=\"{border: '2px solid '+borderColorForEvent(index),width: сalcTimePercent(index) +'%'}\"\n      ></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport moment from \"moment\";\n\n\nexport default {\n  name: \"listEvents\",\n  filters: {\n    moment(date) {\n      return moment(date).format(\"D MMMM\");\n    },\n  },\n  data() {\n    return {\n      isChangeEvent: false,\n      isChangeEventWithDuration: false,\n      startEventTime: null,\n      endEventTime: null,\n      timePicker: \"\",\n      percentOfEventTime: 0,\n      datePicker: (new Date(Date.now() - (new Date()).getTimezoneOffset() * 60000)).toISOString().substr(0, 10),\n\n    }\n  },\n  computed: {\n    eventsArray() {\n      console.log(this.$store.state.events.slice().sort((a, b) =>\n          a.dt < b.dt ? 1 : -1))\n      return this.$store.state.events.slice().sort((a, b) =>\n          a.dt < b.dt ? 1 : -1)\n    }\n  },\n  methods: {\n    deleteEvent(id) {\n      let index = this.findIndexEvents(id)\n      let event = this.$store.state.events[index]\n\n      console.log(\"index = \", index)\n      console.log({event})\n\n      let waitSeconds = 3\n      event.waitSeconds = waitSeconds\n      let intervalId = setInterval(() => {\n        if (!event.deleted) {\n          clearInterval(intervalId)\n          localStorage.setItem('events', JSON.stringify(this.$store.state.events))\n          this.$forceUpdate()\n          return\n        }\n        if (--waitSeconds < 0) {\n          clearInterval(intervalId);\n          let index = this.findIndexEvents(id)\n          this.$store.state.events.splice(index, 1)\n        } else {\n          event.waitSeconds = waitSeconds\n        }\n        this.$forceUpdate()\n      }, 1000);\n\n      // this.$store.state.events.splice(index, 1)\n\n      event.deleted = Date.now();\n      this.$forceUpdate();\n      localStorage.setItem('events', JSON.stringify(this.$store.state.events))\n    },\n    camebackEvent(id) {\n      let index = this.findIndexEvents(id)\n      this.$store.state.events[index].deleted = 0\n      this.$forceUpdate();\n    },\n    changeEvent(id) {\n      let index = this.findIndexEvents(id)\n      let date = new Date(this.$store.state.events[index].dt)\n      this.selectedEventIndex = index\n      if (this.$store.state.events[index].timeStart !== undefined) {\n        let wasDateStart = new Date(this.$store.state.events[index].timeStart)\n        let wasDateEnd = new Date(this.$store.state.events[index].timeEnd)\n        this.startEventTime = wasDateStart.getHours() + \":\" + wasDateStart.getMinutes()\n        this.endEventTime = wasDateEnd.getHours() + \":\" + wasDateEnd.getMinutes()\n        this.datePicker = (new Date(date - (new Date()).getTimezoneOffset() * 60000)).toISOString().substr(0, 10)\n\n        console.log(this.startEventTime)\n        console.log(this.endEventTime)\n        this.isChangeEventWithDuration = true\n\n      } else {\n        this.timePicker = date.getHours() + \":\" + date.getMinutes()\n        this.datePicker = (new Date(date - (new Date()).getTimezoneOffset() * 60000)).toISOString().substr(0, 10)\n        this.isChangeEvent = true\n      }\n    },\n    saveEventWithDurationChanges() {\n      let startDate = new Date(this.startEventTime + \" \" + this.datePicker)\n      let endDate = new Date(this.endEventTime + \" \" + this.datePicker)\n\n      this.$store.state.events[this.selectedEventIndex].timeStart = startDate.getTime() + this.$store.state.events[this.selectedEventIndex].dt % 1000\n      this.$store.state.events[this.selectedEventIndex].timeEnd = endDate.getTime() + this.$store.state.events[this.selectedEventIndex].dt % 1000\n      this.$store.state.events[this.selectedEventIndex].dt = this.$store.state.events[this.selectedEventIndex].timeStart\n\n\n      localStorage.setItem('events', JSON.stringify(this.$store.state.events))\n      this.isChangeEventWithDuration = false\n\n    },\n    saveEventChanges() {\n      let date = new Date(this.timePicker + \" \" + this.datePicker)\n      // alert(date + \" - \" + new Date())\n      this.$store.state.events[this.selectedEventIndex].dt = date.getTime() + this.$store.state.events[this.selectedEventIndex].dt % 1000\n      localStorage.setItem('events', JSON.stringify(this.$store.state.events))\n      this.isChangeEvent = false\n    },\n    сalcTimePercent(index) {\n      if(this.$store.state.events[index].timeStart === undefined){\n        return 100\n      }\n      console.log(index,this.$store.state.events[index].dt)\n      let timeForDay = 0\n      for (let i = 0; i < this.eventsArray.length; i++) {\n        if ((new Date(this.$store.state.events[i].dt)).getDate() === (new Date(this.$store.state.events[index].dt)).getDate()\n            && this.$store.state.events[i].timeStart !== undefined) {\n            timeForDay += this.$store.state.events[i].timeEnd - this.$store.state.events[i].timeStart\n        }\n      }\n      console.log(\"percent = \", (this.$store.state.events[index].timeEnd - this.$store.state.events[index].timeStart)/timeForDay)\n     return this.percentOfEventTime = (this.$store.state.events[index].timeEnd - this.$store.state.events[index].timeStart)/timeForDay*100\n    },\n    borderColorForEvent(index){\n      console.log(this.$store.state.events[index].timeStart === undefined ?  \"blue\" :  \"green\")\n     return this.$store.state.events[index].timeStart === undefined ?  \"rgb(47,101,186)\" :  \"green\"\n    },\n    sortEvents() {\n      this.$store.state.events.sort((a, b) => (new Date(a.dt)).getMilliseconds() > (new Date(b.dt)).getMilliseconds())\n    },\n\n    isNewDay(index) {\n      if (index === 0) {\n        return true\n      }\n      console.log(index, (new Date(this.eventsArray[index - 1].dt)).getDate(), (new Date(this.eventsArray[index].dt)).getDate())\n      return (new Date(this.eventsArray[index - 1].dt)).getDate() !== (new Date(this.eventsArray[index].dt)).getDate();\n    },\n\n    findIndexEvents(id) {\n      for (let i = 0; i < this.$store.state.events.length; i++) {\n        if (this.$store.state.events[i].dt === id) {\n          return i\n        }\n      }\n      return -1\n    },\n  }\n}\n</script>\n\n<style scoped>\n\n.picker {\n  color: white;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  position: fixed;\n  z-index: 100;\n  overflow: auto;\n  display: flex;\n  padding-top: 80px;\n}\n\n.picker__content {\n  /*overflow-y: scroll;*/\n  display: block;\n  width: 290px;\n  margin: auto;\n\n  min-height: 100%;\n  justify-content: space-between;\n  z-index: 200;\n}\n</style>"]}]}