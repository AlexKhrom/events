{"remainingRequest":"/Users/mac/go/src/events/static/node_modules/babel-loader/lib/index.js!/Users/mac/go/src/events/static/node_modules/vuetify/lib/components/VCalendar/util/timestamp.js","dependencies":[{"path":"/Users/mac/go/src/events/static/node_modules/vuetify/lib/components/VCalendar/util/timestamp.js","mtime":1656160201694},{"path":"/Users/mac/go/src/events/static/babel.config.js","mtime":1653650336335},{"path":"/Users/mac/go/src/events/static/node_modules/cache-loader/dist/cjs.js","mtime":1656160197065},{"path":"/Users/mac/go/src/events/static/node_modules/babel-loader/lib/index.js","mtime":1656160197672}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90eXBlb2YgZnJvbSAiL1VzZXJzL21hYy9nby9zcmMvZXZlbnRzL3N0YXRpYy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5wYXJzZS1pbnQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5kYXRlLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLmNhdXNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IHsgaXNMZWFwWWVhciB9IGZyb20gJy4uLy4uLy4uL3V0aWwvZGF0ZVRpbWVVdGlscyc7CmV4cG9ydCB2YXIgUEFSU0VfUkVHRVggPSAvXihcZHs0fSktKFxkezEsMn0pKC0oXGR7MSwyfSkpPyhbXlxkXSsoXGR7MSwyfSkpPyg6KFxkezEsMn0pKT8oOihcZHsxLDJ9KSk/JC87CmV4cG9ydCB2YXIgUEFSU0VfVElNRSA9IC8oXGRcZD8pKDooXGRcZD8pfCkoOihcZFxkPyl8KS87CmV4cG9ydCB2YXIgREFZU19JTl9NT05USCA9IFswLCAzMSwgMjgsIDMxLCAzMCwgMzEsIDMwLCAzMSwgMzEsIDMwLCAzMSwgMzAsIDMxXTsKZXhwb3J0IHZhciBEQVlTX0lOX01PTlRIX0xFQVAgPSBbMCwgMzEsIDI5LCAzMSwgMzAsIDMxLCAzMCwgMzEsIDMxLCAzMCwgMzEsIDMwLCAzMV07CmV4cG9ydCB2YXIgREFZU19JTl9NT05USF9NSU4gPSAyODsKZXhwb3J0IHZhciBEQVlTX0lOX01PTlRIX01BWCA9IDMxOwpleHBvcnQgdmFyIE1PTlRIX01BWCA9IDEyOwpleHBvcnQgdmFyIE1PTlRIX01JTiA9IDE7CmV4cG9ydCB2YXIgREFZX01JTiA9IDE7CmV4cG9ydCB2YXIgREFZU19JTl9XRUVLID0gNzsKZXhwb3J0IHZhciBNSU5VVEVTX0lOX0hPVVIgPSA2MDsKZXhwb3J0IHZhciBNSU5VVEVfTUFYID0gNTk7CmV4cG9ydCB2YXIgTUlOVVRFU19JTl9EQVkgPSAyNCAqIDYwOwpleHBvcnQgdmFyIEhPVVJTX0lOX0RBWSA9IDI0OwpleHBvcnQgdmFyIEhPVVJfTUFYID0gMjM7CmV4cG9ydCB2YXIgRklSU1RfSE9VUiA9IDA7CmV4cG9ydCB2YXIgT0ZGU0VUX1lFQVIgPSAxMDAwMDsKZXhwb3J0IHZhciBPRkZTRVRfTU9OVEggPSAxMDA7CmV4cG9ydCB2YXIgT0ZGU0VUX0hPVVIgPSAxMDA7CmV4cG9ydCB2YXIgT0ZGU0VUX1RJTUUgPSAxMDAwMDsKZXhwb3J0IGZ1bmN0aW9uIGdldFN0YXJ0T2ZXZWVrKHRpbWVzdGFtcCwgd2Vla2RheXMsIHRvZGF5KSB7CiAgdmFyIHN0YXJ0ID0gY29weVRpbWVzdGFtcCh0aW1lc3RhbXApOwogIGZpbmRXZWVrZGF5KHN0YXJ0LCB3ZWVrZGF5c1swXSwgcHJldkRheSk7CiAgdXBkYXRlRm9ybWF0dGVkKHN0YXJ0KTsKCiAgaWYgKHRvZGF5KSB7CiAgICB1cGRhdGVSZWxhdGl2ZShzdGFydCwgdG9kYXksIHN0YXJ0Lmhhc1RpbWUpOwogIH0KCiAgcmV0dXJuIHN0YXJ0Owp9CmV4cG9ydCBmdW5jdGlvbiBnZXRFbmRPZldlZWsodGltZXN0YW1wLCB3ZWVrZGF5cywgdG9kYXkpIHsKICB2YXIgZW5kID0gY29weVRpbWVzdGFtcCh0aW1lc3RhbXApOwogIGZpbmRXZWVrZGF5KGVuZCwgd2Vla2RheXNbd2Vla2RheXMubGVuZ3RoIC0gMV0pOwogIHVwZGF0ZUZvcm1hdHRlZChlbmQpOwoKICBpZiAodG9kYXkpIHsKICAgIHVwZGF0ZVJlbGF0aXZlKGVuZCwgdG9kYXksIGVuZC5oYXNUaW1lKTsKICB9CgogIHJldHVybiBlbmQ7Cn0KZXhwb3J0IGZ1bmN0aW9uIGdldFN0YXJ0T2ZNb250aCh0aW1lc3RhbXApIHsKICB2YXIgc3RhcnQgPSBjb3B5VGltZXN0YW1wKHRpbWVzdGFtcCk7CiAgc3RhcnQuZGF5ID0gREFZX01JTjsKICB1cGRhdGVXZWVrZGF5KHN0YXJ0KTsKICB1cGRhdGVGb3JtYXR0ZWQoc3RhcnQpOwogIHJldHVybiBzdGFydDsKfQpleHBvcnQgZnVuY3Rpb24gZ2V0RW5kT2ZNb250aCh0aW1lc3RhbXApIHsKICB2YXIgZW5kID0gY29weVRpbWVzdGFtcCh0aW1lc3RhbXApOwogIGVuZC5kYXkgPSBkYXlzSW5Nb250aChlbmQueWVhciwgZW5kLm1vbnRoKTsKICB1cGRhdGVXZWVrZGF5KGVuZCk7CiAgdXBkYXRlRm9ybWF0dGVkKGVuZCk7CiAgcmV0dXJuIGVuZDsKfQpleHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVUaW1lKGlucHV0KSB7CiAgcmV0dXJuIHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicgJiYgaXNGaW5pdGUoaW5wdXQpIHx8ICEhUEFSU0VfVElNRS5leGVjKGlucHV0KSB8fCBfdHlwZW9mKGlucHV0KSA9PT0gJ29iamVjdCcgJiYgaXNGaW5pdGUoaW5wdXQuaG91cikgJiYgaXNGaW5pdGUoaW5wdXQubWludXRlKTsKfQpleHBvcnQgZnVuY3Rpb24gcGFyc2VUaW1lKGlucHV0KSB7CiAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicpIHsKICAgIC8vIHdoZW4gYSBudW1iZXIgaXMgZ2l2ZW4sIGl0J3MgbWludXRlcyBzaW5jZSAxMjowMGFtCiAgICByZXR1cm4gaW5wdXQ7CiAgfSBlbHNlIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7CiAgICAvLyB3aGVuIGEgc3RyaW5nIGlzIGdpdmVuLCBpdCdzIGEgaGg6bW06c3MgZm9ybWF0IHdoZXJlIHNlY29uZHMgYXJlIG9wdGlvbmFsCiAgICB2YXIgcGFydHMgPSBQQVJTRV9USU1FLmV4ZWMoaW5wdXQpOwoKICAgIGlmICghcGFydHMpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHJldHVybiBwYXJzZUludChwYXJ0c1sxXSkgKiA2MCArIHBhcnNlSW50KHBhcnRzWzNdIHx8IDApOwogIH0gZWxzZSBpZiAoX3R5cGVvZihpbnB1dCkgPT09ICdvYmplY3QnKSB7CiAgICAvLyB3aGVuIGFuIG9iamVjdCBpcyBnaXZlbiwgaXQgbXVzdCBoYXZlIGhvdXIgYW5kIG1pbnV0ZQogICAgaWYgKHR5cGVvZiBpbnB1dC5ob3VyICE9PSAnbnVtYmVyJyB8fCB0eXBlb2YgaW5wdXQubWludXRlICE9PSAnbnVtYmVyJykgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgcmV0dXJuIGlucHV0LmhvdXIgKiA2MCArIGlucHV0Lm1pbnV0ZTsKICB9IGVsc2UgewogICAgLy8gdW5zdXBwb3J0ZWQgdHlwZQogICAgcmV0dXJuIGZhbHNlOwogIH0KfQpleHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVUaW1lc3RhbXAoaW5wdXQpIHsKICByZXR1cm4gdHlwZW9mIGlucHV0ID09PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZShpbnB1dCkgfHwgdHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJyAmJiAhIVBBUlNFX1JFR0VYLmV4ZWMoaW5wdXQpIHx8IGlucHV0IGluc3RhbmNlb2YgRGF0ZTsKfQpleHBvcnQgZnVuY3Rpb24gcGFyc2VUaW1lc3RhbXAoaW5wdXQpIHsKICB2YXIgcmVxdWlyZWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlOwogIHZhciBub3cgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDsKCiAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicgJiYgaXNGaW5pdGUoaW5wdXQpKSB7CiAgICBpbnB1dCA9IG5ldyBEYXRlKGlucHV0KTsKICB9CgogIGlmIChpbnB1dCBpbnN0YW5jZW9mIERhdGUpIHsKICAgIHZhciBkYXRlID0gcGFyc2VEYXRlKGlucHV0KTsKCiAgICBpZiAobm93KSB7CiAgICAgIHVwZGF0ZVJlbGF0aXZlKGRhdGUsIG5vdywgZGF0ZS5oYXNUaW1lKTsKICAgIH0KCiAgICByZXR1cm4gZGF0ZTsKICB9CgogIGlmICh0eXBlb2YgaW5wdXQgIT09ICdzdHJpbmcnKSB7CiAgICBpZiAocmVxdWlyZWQpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCIiLmNvbmNhdChpbnB1dCwgIiBpcyBub3QgYSB2YWxpZCB0aW1lc3RhbXAuIEl0IG11c3QgYmUgYSBEYXRlLCBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHNpbmNlIEVwb2NoLCBvciBhIHN0cmluZyBpbiB0aGUgZm9ybWF0IG9mIFlZWVktTU0tREQgb3IgWVlZWS1NTS1ERCBoaDptbS4gWmVyby1wYWRkaW5nIGlzIG9wdGlvbmFsIGFuZCBzZWNvbmRzIGFyZSBpZ25vcmVkLiIpKTsKICAgIH0KCiAgICByZXR1cm4gbnVsbDsKICB9IC8vIFlZWVktTU0tREQgaGg6bW06c3MKCgogIHZhciBwYXJ0cyA9IFBBUlNFX1JFR0VYLmV4ZWMoaW5wdXQpOwoKICBpZiAoIXBhcnRzKSB7CiAgICBpZiAocmVxdWlyZWQpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCIiLmNvbmNhdChpbnB1dCwgIiBpcyBub3QgYSB2YWxpZCB0aW1lc3RhbXAuIEl0IG11c3QgYmUgYSBEYXRlLCBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHNpbmNlIEVwb2NoLCBvciBhIHN0cmluZyBpbiB0aGUgZm9ybWF0IG9mIFlZWVktTU0tREQgb3IgWVlZWS1NTS1ERCBoaDptbS4gWmVyby1wYWRkaW5nIGlzIG9wdGlvbmFsIGFuZCBzZWNvbmRzIGFyZSBpZ25vcmVkLiIpKTsKICAgIH0KCiAgICByZXR1cm4gbnVsbDsKICB9CgogIHZhciB0aW1lc3RhbXAgPSB7CiAgICBkYXRlOiBpbnB1dCwKICAgIHRpbWU6ICcnLAogICAgeWVhcjogcGFyc2VJbnQocGFydHNbMV0pLAogICAgbW9udGg6IHBhcnNlSW50KHBhcnRzWzJdKSwKICAgIGRheTogcGFyc2VJbnQocGFydHNbNF0pIHx8IDEsCiAgICBob3VyOiBwYXJzZUludChwYXJ0c1s2XSkgfHwgMCwKICAgIG1pbnV0ZTogcGFyc2VJbnQocGFydHNbOF0pIHx8IDAsCiAgICB3ZWVrZGF5OiAwLAogICAgaGFzRGF5OiAhIXBhcnRzWzRdLAogICAgaGFzVGltZTogISEocGFydHNbNl0gJiYgcGFydHNbOF0pLAogICAgcGFzdDogZmFsc2UsCiAgICBwcmVzZW50OiBmYWxzZSwKICAgIGZ1dHVyZTogZmFsc2UKICB9OwogIHVwZGF0ZVdlZWtkYXkodGltZXN0YW1wKTsKICB1cGRhdGVGb3JtYXR0ZWQodGltZXN0YW1wKTsKCiAgaWYgKG5vdykgewogICAgdXBkYXRlUmVsYXRpdmUodGltZXN0YW1wLCBub3csIHRpbWVzdGFtcC5oYXNUaW1lKTsKICB9CgogIHJldHVybiB0aW1lc3RhbXA7Cn0KZXhwb3J0IGZ1bmN0aW9uIHBhcnNlRGF0ZShkYXRlKSB7CiAgcmV0dXJuIHVwZGF0ZUZvcm1hdHRlZCh7CiAgICBkYXRlOiAnJywKICAgIHRpbWU6ICcnLAogICAgeWVhcjogZGF0ZS5nZXRGdWxsWWVhcigpLAogICAgbW9udGg6IGRhdGUuZ2V0TW9udGgoKSArIDEsCiAgICBkYXk6IGRhdGUuZ2V0RGF0ZSgpLAogICAgd2Vla2RheTogZGF0ZS5nZXREYXkoKSwKICAgIGhvdXI6IGRhdGUuZ2V0SG91cnMoKSwKICAgIG1pbnV0ZTogZGF0ZS5nZXRNaW51dGVzKCksCiAgICBoYXNEYXk6IHRydWUsCiAgICBoYXNUaW1lOiB0cnVlLAogICAgcGFzdDogZmFsc2UsCiAgICBwcmVzZW50OiB0cnVlLAogICAgZnV0dXJlOiBmYWxzZQogIH0pOwp9CmV4cG9ydCBmdW5jdGlvbiBnZXREYXlJZGVudGlmaWVyKHRpbWVzdGFtcCkgewogIHJldHVybiB0aW1lc3RhbXAueWVhciAqIE9GRlNFVF9ZRUFSICsgdGltZXN0YW1wLm1vbnRoICogT0ZGU0VUX01PTlRIICsgdGltZXN0YW1wLmRheTsKfQpleHBvcnQgZnVuY3Rpb24gZ2V0VGltZUlkZW50aWZpZXIodGltZXN0YW1wKSB7CiAgcmV0dXJuIHRpbWVzdGFtcC5ob3VyICogT0ZGU0VUX0hPVVIgKyB0aW1lc3RhbXAubWludXRlOwp9CmV4cG9ydCBmdW5jdGlvbiBnZXRUaW1lc3RhbXBJZGVudGlmaWVyKHRpbWVzdGFtcCkgewogIHJldHVybiBnZXREYXlJZGVudGlmaWVyKHRpbWVzdGFtcCkgKiBPRkZTRVRfVElNRSArIGdldFRpbWVJZGVudGlmaWVyKHRpbWVzdGFtcCk7Cn0KZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVJlbGF0aXZlKHRpbWVzdGFtcCwgbm93KSB7CiAgdmFyIHRpbWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlOwogIHZhciBhID0gZ2V0RGF5SWRlbnRpZmllcihub3cpOwogIHZhciBiID0gZ2V0RGF5SWRlbnRpZmllcih0aW1lc3RhbXApOwogIHZhciBwcmVzZW50ID0gYSA9PT0gYjsKCiAgaWYgKHRpbWVzdGFtcC5oYXNUaW1lICYmIHRpbWUgJiYgcHJlc2VudCkgewogICAgYSA9IGdldFRpbWVJZGVudGlmaWVyKG5vdyk7CiAgICBiID0gZ2V0VGltZUlkZW50aWZpZXIodGltZXN0YW1wKTsKICAgIHByZXNlbnQgPSBhID09PSBiOwogIH0KCiAgdGltZXN0YW1wLnBhc3QgPSBiIDwgYTsKICB0aW1lc3RhbXAucHJlc2VudCA9IHByZXNlbnQ7CiAgdGltZXN0YW1wLmZ1dHVyZSA9IGIgPiBhOwogIHJldHVybiB0aW1lc3RhbXA7Cn0KZXhwb3J0IGZ1bmN0aW9uIGlzVGltZWRsZXNzKGlucHV0KSB7CiAgcmV0dXJuIGlucHV0IGluc3RhbmNlb2YgRGF0ZSB8fCB0eXBlb2YgaW5wdXQgPT09ICdudW1iZXInICYmIGlzRmluaXRlKGlucHV0KTsKfQpleHBvcnQgZnVuY3Rpb24gdXBkYXRlSGFzVGltZSh0aW1lc3RhbXAsIGhhc1RpbWUsIG5vdykgewogIGlmICh0aW1lc3RhbXAuaGFzVGltZSAhPT0gaGFzVGltZSkgewogICAgdGltZXN0YW1wLmhhc1RpbWUgPSBoYXNUaW1lOwoKICAgIGlmICghaGFzVGltZSkgewogICAgICB0aW1lc3RhbXAuaG91ciA9IEhPVVJfTUFYOwogICAgICB0aW1lc3RhbXAubWludXRlID0gTUlOVVRFX01BWDsKICAgICAgdGltZXN0YW1wLnRpbWUgPSBnZXRUaW1lKHRpbWVzdGFtcCk7CiAgICB9CgogICAgaWYgKG5vdykgewogICAgICB1cGRhdGVSZWxhdGl2ZSh0aW1lc3RhbXAsIG5vdywgdGltZXN0YW1wLmhhc1RpbWUpOwogICAgfQogIH0KCiAgcmV0dXJuIHRpbWVzdGFtcDsKfQpleHBvcnQgZnVuY3Rpb24gdXBkYXRlTWludXRlcyh0aW1lc3RhbXAsIG1pbnV0ZXMsIG5vdykgewogIHRpbWVzdGFtcC5oYXNUaW1lID0gdHJ1ZTsKICB0aW1lc3RhbXAuaG91ciA9IE1hdGguZmxvb3IobWludXRlcyAvIE1JTlVURVNfSU5fSE9VUik7CiAgdGltZXN0YW1wLm1pbnV0ZSA9IG1pbnV0ZXMgJSBNSU5VVEVTX0lOX0hPVVI7CiAgdGltZXN0YW1wLnRpbWUgPSBnZXRUaW1lKHRpbWVzdGFtcCk7CgogIGlmIChub3cpIHsKICAgIHVwZGF0ZVJlbGF0aXZlKHRpbWVzdGFtcCwgbm93LCB0cnVlKTsKICB9CgogIHJldHVybiB0aW1lc3RhbXA7Cn0KZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVdlZWtkYXkodGltZXN0YW1wKSB7CiAgdGltZXN0YW1wLndlZWtkYXkgPSBnZXRXZWVrZGF5KHRpbWVzdGFtcCk7CiAgcmV0dXJuIHRpbWVzdGFtcDsKfQpleHBvcnQgZnVuY3Rpb24gdXBkYXRlRm9ybWF0dGVkKHRpbWVzdGFtcCkgewogIHRpbWVzdGFtcC50aW1lID0gZ2V0VGltZSh0aW1lc3RhbXApOwogIHRpbWVzdGFtcC5kYXRlID0gZ2V0RGF0ZSh0aW1lc3RhbXApOwogIHJldHVybiB0aW1lc3RhbXA7Cn0KZXhwb3J0IGZ1bmN0aW9uIGdldFdlZWtkYXkodGltZXN0YW1wKSB7CiAgaWYgKHRpbWVzdGFtcC5oYXNEYXkpIHsKICAgIHZhciBfID0gTWF0aC5mbG9vcjsKICAgIHZhciBrID0gdGltZXN0YW1wLmRheTsKICAgIHZhciBtID0gKHRpbWVzdGFtcC5tb250aCArIDkpICUgTU9OVEhfTUFYICsgMTsKCiAgICB2YXIgQyA9IF8odGltZXN0YW1wLnllYXIgLyAxMDApOwoKICAgIHZhciBZID0gdGltZXN0YW1wLnllYXIgJSAxMDAgLSAodGltZXN0YW1wLm1vbnRoIDw9IDIgPyAxIDogMCk7CiAgICByZXR1cm4gKChrICsgXygyLjYgKiBtIC0gMC4yKSAtIDIgKiBDICsgWSArIF8oWSAvIDQpICsgXyhDIC8gNCkpICUgNyArIDcpICUgNzsKICB9CgogIHJldHVybiB0aW1lc3RhbXAud2Vla2RheTsKfQpleHBvcnQgZnVuY3Rpb24gZGF5c0luTW9udGgoeWVhciwgbW9udGgpIHsKICByZXR1cm4gaXNMZWFwWWVhcih5ZWFyKSA/IERBWVNfSU5fTU9OVEhfTEVBUFttb250aF0gOiBEQVlTX0lOX01PTlRIW21vbnRoXTsKfQpleHBvcnQgZnVuY3Rpb24gY29weVRpbWVzdGFtcCh0aW1lc3RhbXApIHsKICB2YXIgZGF0ZSA9IHRpbWVzdGFtcC5kYXRlLAogICAgICB0aW1lID0gdGltZXN0YW1wLnRpbWUsCiAgICAgIHllYXIgPSB0aW1lc3RhbXAueWVhciwKICAgICAgbW9udGggPSB0aW1lc3RhbXAubW9udGgsCiAgICAgIGRheSA9IHRpbWVzdGFtcC5kYXksCiAgICAgIHdlZWtkYXkgPSB0aW1lc3RhbXAud2Vla2RheSwKICAgICAgaG91ciA9IHRpbWVzdGFtcC5ob3VyLAogICAgICBtaW51dGUgPSB0aW1lc3RhbXAubWludXRlLAogICAgICBoYXNEYXkgPSB0aW1lc3RhbXAuaGFzRGF5LAogICAgICBoYXNUaW1lID0gdGltZXN0YW1wLmhhc1RpbWUsCiAgICAgIHBhc3QgPSB0aW1lc3RhbXAucGFzdCwKICAgICAgcHJlc2VudCA9IHRpbWVzdGFtcC5wcmVzZW50LAogICAgICBmdXR1cmUgPSB0aW1lc3RhbXAuZnV0dXJlOwogIHJldHVybiB7CiAgICBkYXRlOiBkYXRlLAogICAgdGltZTogdGltZSwKICAgIHllYXI6IHllYXIsCiAgICBtb250aDogbW9udGgsCiAgICBkYXk6IGRheSwKICAgIHdlZWtkYXk6IHdlZWtkYXksCiAgICBob3VyOiBob3VyLAogICAgbWludXRlOiBtaW51dGUsCiAgICBoYXNEYXk6IGhhc0RheSwKICAgIGhhc1RpbWU6IGhhc1RpbWUsCiAgICBwYXN0OiBwYXN0LAogICAgcHJlc2VudDogcHJlc2VudCwKICAgIGZ1dHVyZTogZnV0dXJlCiAgfTsKfQpleHBvcnQgZnVuY3Rpb24gcGFkTnVtYmVyKHgsIGxlbmd0aCkgewogIHZhciBwYWRkZWQgPSBTdHJpbmcoeCk7CgogIHdoaWxlIChwYWRkZWQubGVuZ3RoIDwgbGVuZ3RoKSB7CiAgICBwYWRkZWQgPSAnMCcgKyBwYWRkZWQ7CiAgfQoKICByZXR1cm4gcGFkZGVkOwp9CmV4cG9ydCBmdW5jdGlvbiBnZXREYXRlKHRpbWVzdGFtcCkgewogIHZhciBzdHIgPSAiIi5jb25jYXQocGFkTnVtYmVyKHRpbWVzdGFtcC55ZWFyLCA0KSwgIi0iKS5jb25jYXQocGFkTnVtYmVyKHRpbWVzdGFtcC5tb250aCwgMikpOwogIGlmICh0aW1lc3RhbXAuaGFzRGF5KSBzdHIgKz0gIi0iLmNvbmNhdChwYWROdW1iZXIodGltZXN0YW1wLmRheSwgMikpOwogIHJldHVybiBzdHI7Cn0KZXhwb3J0IGZ1bmN0aW9uIGdldFRpbWUodGltZXN0YW1wKSB7CiAgaWYgKCF0aW1lc3RhbXAuaGFzVGltZSkgewogICAgcmV0dXJuICcnOwogIH0KCiAgcmV0dXJuICIiLmNvbmNhdChwYWROdW1iZXIodGltZXN0YW1wLmhvdXIsIDIpLCAiOiIpLmNvbmNhdChwYWROdW1iZXIodGltZXN0YW1wLm1pbnV0ZSwgMikpOwp9CmV4cG9ydCBmdW5jdGlvbiBuZXh0TWludXRlcyh0aW1lc3RhbXAsIG1pbnV0ZXMpIHsKICB0aW1lc3RhbXAubWludXRlICs9IG1pbnV0ZXM7CgogIHdoaWxlICh0aW1lc3RhbXAubWludXRlID4gTUlOVVRFU19JTl9IT1VSKSB7CiAgICB0aW1lc3RhbXAubWludXRlIC09IE1JTlVURVNfSU5fSE9VUjsKICAgIHRpbWVzdGFtcC5ob3VyKys7CgogICAgaWYgKHRpbWVzdGFtcC5ob3VyID49IEhPVVJTX0lOX0RBWSkgewogICAgICBuZXh0RGF5KHRpbWVzdGFtcCk7CiAgICAgIHRpbWVzdGFtcC5ob3VyID0gRklSU1RfSE9VUjsKICAgIH0KICB9CgogIHJldHVybiB0aW1lc3RhbXA7Cn0KZXhwb3J0IGZ1bmN0aW9uIG5leHREYXkodGltZXN0YW1wKSB7CiAgdGltZXN0YW1wLmRheSsrOwogIHRpbWVzdGFtcC53ZWVrZGF5ID0gKHRpbWVzdGFtcC53ZWVrZGF5ICsgMSkgJSBEQVlTX0lOX1dFRUs7CgogIGlmICh0aW1lc3RhbXAuZGF5ID4gREFZU19JTl9NT05USF9NSU4gJiYgdGltZXN0YW1wLmRheSA+IGRheXNJbk1vbnRoKHRpbWVzdGFtcC55ZWFyLCB0aW1lc3RhbXAubW9udGgpKSB7CiAgICB0aW1lc3RhbXAuZGF5ID0gREFZX01JTjsKICAgIHRpbWVzdGFtcC5tb250aCsrOwoKICAgIGlmICh0aW1lc3RhbXAubW9udGggPiBNT05USF9NQVgpIHsKICAgICAgdGltZXN0YW1wLm1vbnRoID0gTU9OVEhfTUlOOwogICAgICB0aW1lc3RhbXAueWVhcisrOwogICAgfQogIH0KCiAgcmV0dXJuIHRpbWVzdGFtcDsKfQpleHBvcnQgZnVuY3Rpb24gcHJldkRheSh0aW1lc3RhbXApIHsKICB0aW1lc3RhbXAuZGF5LS07CiAgdGltZXN0YW1wLndlZWtkYXkgPSAodGltZXN0YW1wLndlZWtkYXkgKyA2KSAlIERBWVNfSU5fV0VFSzsKCiAgaWYgKHRpbWVzdGFtcC5kYXkgPCBEQVlfTUlOKSB7CiAgICB0aW1lc3RhbXAubW9udGgtLTsKCiAgICBpZiAodGltZXN0YW1wLm1vbnRoIDwgTU9OVEhfTUlOKSB7CiAgICAgIHRpbWVzdGFtcC55ZWFyLS07CiAgICAgIHRpbWVzdGFtcC5tb250aCA9IE1PTlRIX01BWDsKICAgIH0KCiAgICB0aW1lc3RhbXAuZGF5ID0gZGF5c0luTW9udGgodGltZXN0YW1wLnllYXIsIHRpbWVzdGFtcC5tb250aCk7CiAgfQoKICByZXR1cm4gdGltZXN0YW1wOwp9CmV4cG9ydCBmdW5jdGlvbiByZWxhdGl2ZURheXModGltZXN0YW1wKSB7CiAgdmFyIG1vdmVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBuZXh0RGF5OwogIHZhciBkYXlzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAxOwoKICB3aGlsZSAoLS1kYXlzID49IDApIHsKICAgIG1vdmVyKHRpbWVzdGFtcCk7CiAgfQoKICByZXR1cm4gdGltZXN0YW1wOwp9CmV4cG9ydCBmdW5jdGlvbiBkaWZmTWludXRlcyhtaW4sIG1heCkgewogIHZhciBZID0gKG1heC55ZWFyIC0gbWluLnllYXIpICogNTI1NjAwOwogIHZhciBNID0gKG1heC5tb250aCAtIG1pbi5tb250aCkgKiA0MzgwMDsKICB2YXIgRCA9IChtYXguZGF5IC0gbWluLmRheSkgKiAxNDQwOwogIHZhciBoID0gKG1heC5ob3VyIC0gbWluLmhvdXIpICogNjA7CiAgdmFyIG0gPSBtYXgubWludXRlIC0gbWluLm1pbnV0ZTsKICByZXR1cm4gWSArIE0gKyBEICsgaCArIG07Cn0KZXhwb3J0IGZ1bmN0aW9uIGZpbmRXZWVrZGF5KHRpbWVzdGFtcCwgd2Vla2RheSkgewogIHZhciBtb3ZlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogbmV4dERheTsKICB2YXIgbWF4RGF5cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogNjsKCiAgd2hpbGUgKHRpbWVzdGFtcC53ZWVrZGF5ICE9PSB3ZWVrZGF5ICYmIC0tbWF4RGF5cyA+PSAwKSB7CiAgICBtb3Zlcih0aW1lc3RhbXApOwogIH0KCiAgcmV0dXJuIHRpbWVzdGFtcDsKfQpleHBvcnQgZnVuY3Rpb24gZ2V0V2Vla2RheVNraXBzKHdlZWtkYXlzKSB7CiAgdmFyIHNraXBzID0gWzEsIDEsIDEsIDEsIDEsIDEsIDFdOwogIHZhciBmaWxsZWQgPSBbMCwgMCwgMCwgMCwgMCwgMCwgMF07CgogIGZvciAodmFyIGkgPSAwOyBpIDwgd2Vla2RheXMubGVuZ3RoOyBpKyspIHsKICAgIGZpbGxlZFt3ZWVrZGF5c1tpXV0gPSAxOwogIH0KCiAgZm9yICh2YXIgayA9IDA7IGsgPCBEQVlTX0lOX1dFRUs7IGsrKykgewogICAgdmFyIHNraXAgPSAxOwoKICAgIGZvciAodmFyIGogPSAxOyBqIDwgREFZU19JTl9XRUVLOyBqKyspIHsKICAgICAgdmFyIG5leHQgPSAoayArIGopICUgREFZU19JTl9XRUVLOwoKICAgICAgaWYgKGZpbGxlZFtuZXh0XSkgewogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICBza2lwKys7CiAgICB9CgogICAgc2tpcHNba10gPSBmaWxsZWRba10gKiBza2lwOwogIH0KCiAgcmV0dXJuIHNraXBzOwp9CmV4cG9ydCBmdW5jdGlvbiB0aW1lc3RhbXBUb0RhdGUodGltZXN0YW1wKSB7CiAgdmFyIHRpbWUgPSAiIi5jb25jYXQocGFkTnVtYmVyKHRpbWVzdGFtcC5ob3VyLCAyKSwgIjoiKS5jb25jYXQocGFkTnVtYmVyKHRpbWVzdGFtcC5taW51dGUsIDIpKTsKICB2YXIgZGF0ZSA9IHRpbWVzdGFtcC5kYXRlOwogIHJldHVybiBuZXcgRGF0ZSgiIi5jb25jYXQoZGF0ZSwgIlQiKS5jb25jYXQodGltZSwgIjowMCswMDowMCIpKTsKfQpleHBvcnQgZnVuY3Rpb24gY3JlYXRlRGF5TGlzdChzdGFydCwgZW5kLCBub3csIHdlZWtkYXlTa2lwcykgewogIHZhciBtYXggPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IDQyOwogIHZhciBtaW4gPSBhcmd1bWVudHMubGVuZ3RoID4gNSAmJiBhcmd1bWVudHNbNV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s1XSA6IDA7CiAgdmFyIHN0b3AgPSBnZXREYXlJZGVudGlmaWVyKGVuZCk7CiAgdmFyIGRheXMgPSBbXTsKICB2YXIgY3VycmVudCA9IGNvcHlUaW1lc3RhbXAoc3RhcnQpOwogIHZhciBjdXJyZW50SWRlbnRpZmllciA9IDA7CiAgdmFyIHN0b3BwZWQgPSBjdXJyZW50SWRlbnRpZmllciA9PT0gc3RvcDsKCiAgaWYgKHN0b3AgPCBnZXREYXlJZGVudGlmaWVyKHN0YXJ0KSkgewogICAgdGhyb3cgbmV3IEVycm9yKCdFbmQgZGF0ZSBpcyBlYXJsaWVyIHRoYW4gc3RhcnQgZGF0ZS4nKTsKICB9CgogIHdoaWxlICgoIXN0b3BwZWQgfHwgZGF5cy5sZW5ndGggPCBtaW4pICYmIGRheXMubGVuZ3RoIDwgbWF4KSB7CiAgICBjdXJyZW50SWRlbnRpZmllciA9IGdldERheUlkZW50aWZpZXIoY3VycmVudCk7CiAgICBzdG9wcGVkID0gc3RvcHBlZCB8fCBjdXJyZW50SWRlbnRpZmllciA9PT0gc3RvcDsKCiAgICBpZiAod2Vla2RheVNraXBzW2N1cnJlbnQud2Vla2RheV0gPT09IDApIHsKICAgICAgY3VycmVudCA9IG5leHREYXkoY3VycmVudCk7CiAgICAgIGNvbnRpbnVlOwogICAgfQoKICAgIHZhciBkYXkgPSBjb3B5VGltZXN0YW1wKGN1cnJlbnQpOwogICAgdXBkYXRlRm9ybWF0dGVkKGRheSk7CiAgICB1cGRhdGVSZWxhdGl2ZShkYXksIG5vdyk7CiAgICBkYXlzLnB1c2goZGF5KTsKICAgIGN1cnJlbnQgPSByZWxhdGl2ZURheXMoY3VycmVudCwgbmV4dERheSwgd2Vla2RheVNraXBzW2N1cnJlbnQud2Vla2RheV0pOwogIH0KCiAgaWYgKCFkYXlzLmxlbmd0aCkgdGhyb3cgbmV3IEVycm9yKCdObyBkYXRlcyBmb3VuZCB1c2luZyBzcGVjaWZpZWQgc3RhcnQgZGF0ZSwgZW5kIGRhdGUsIGFuZCB3ZWVrZGF5cy4nKTsKICByZXR1cm4gZGF5czsKfQpleHBvcnQgZnVuY3Rpb24gY3JlYXRlSW50ZXJ2YWxMaXN0KHRpbWVzdGFtcCwgZmlyc3QsIG1pbnV0ZXMsIGNvdW50LCBub3cpIHsKICB2YXIgaW50ZXJ2YWxzID0gW107CgogIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykgewogICAgdmFyIG1pbnMgPSBmaXJzdCArIGkgKiBtaW51dGVzOwoKICAgIHZhciBfaW50ID0gY29weVRpbWVzdGFtcCh0aW1lc3RhbXApOwoKICAgIGludGVydmFscy5wdXNoKHVwZGF0ZU1pbnV0ZXMoX2ludCwgbWlucywgbm93KSk7CiAgfQoKICByZXR1cm4gaW50ZXJ2YWxzOwp9CmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVOYXRpdmVMb2NhbGVGb3JtYXR0ZXIobG9jYWxlLCBnZXRPcHRpb25zKSB7CiAgdmFyIGVtcHR5Rm9ybWF0dGVyID0gZnVuY3Rpb24gZW1wdHlGb3JtYXR0ZXIoX3QsIF9zKSB7CiAgICByZXR1cm4gJyc7CiAgfTsKCiAgaWYgKHR5cGVvZiBJbnRsID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgSW50bC5EYXRlVGltZUZvcm1hdCA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgIHJldHVybiBlbXB0eUZvcm1hdHRlcjsKICB9CgogIHJldHVybiBmdW5jdGlvbiAodGltZXN0YW1wLCBfc2hvcnQpIHsKICAgIHRyeSB7CiAgICAgIHZhciBpbnRsRm9ybWF0dGVyID0gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQobG9jYWxlIHx8IHVuZGVmaW5lZCwgZ2V0T3B0aW9ucyh0aW1lc3RhbXAsIF9zaG9ydCkpOwogICAgICByZXR1cm4gaW50bEZvcm1hdHRlci5mb3JtYXQodGltZXN0YW1wVG9EYXRlKHRpbWVzdGFtcCkpOwogICAgfSBjYXRjaCAoZSkgewogICAgICByZXR1cm4gJyc7CiAgICB9CiAgfTsKfQ=="},{"version":3,"mappings":"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","names":["isLeapYear","PARSE_REGEX","PARSE_TIME","DAYS_IN_MONTH","DAYS_IN_MONTH_LEAP","DAYS_IN_MONTH_MIN","DAYS_IN_MONTH_MAX","MONTH_MAX","MONTH_MIN","DAY_MIN","DAYS_IN_WEEK","MINUTES_IN_HOUR","MINUTE_MAX","MINUTES_IN_DAY","HOURS_IN_DAY","HOUR_MAX","FIRST_HOUR","OFFSET_YEAR","OFFSET_MONTH","OFFSET_HOUR","OFFSET_TIME","getStartOfWeek","timestamp","weekdays","today","start","copyTimestamp","findWeekday","prevDay","updateFormatted","updateRelative","hasTime","getEndOfWeek","end","length","getStartOfMonth","day","updateWeekday","getEndOfMonth","daysInMonth","year","month","validateTime","input","isFinite","exec","hour","minute","parseTime","parts","parseInt","validateTimestamp","Date","parseTimestamp","required","now","date","parseDate","Error","time","weekday","hasDay","past","present","future","getFullYear","getMonth","getDate","getDay","getHours","getMinutes","getDayIdentifier","getTimeIdentifier","getTimestampIdentifier","a","b","isTimedless","updateHasTime","getTime","updateMinutes","minutes","Math","floor","getWeekday","_","k","m","C","Y","padNumber","x","padded","String","str","nextMinutes","nextDay","relativeDays","mover","days","diffMinutes","min","max","M","D","h","maxDays","getWeekdaySkips","skips","filled","i","skip","j","next","timestampToDate","createDayList","weekdaySkips","stop","current","currentIdentifier","stopped","push","createIntervalList","first","count","intervals","mins","int","createNativeLocaleFormatter","locale","getOptions","emptyFormatter","_t","_s","Intl","DateTimeFormat","short","intlFormatter","undefined","format","e"],"sourceRoot":"","sources":["../../../../src/components/VCalendar/util/timestamp.ts"],"sourcesContent":["import { CalendarTimestamp, CalendarFormatter } from 'vuetify/types'\nimport { isLeapYear } from '../../../util/dateTimeUtils'\n\nexport const PARSE_REGEX = /^(\\d{4})-(\\d{1,2})(-(\\d{1,2}))?([^\\d]+(\\d{1,2}))?(:(\\d{1,2}))?(:(\\d{1,2}))?$/\nexport const PARSE_TIME = /(\\d\\d?)(:(\\d\\d?)|)(:(\\d\\d?)|)/\n\nexport const DAYS_IN_MONTH: number[] = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\nexport const DAYS_IN_MONTH_LEAP: number[] = [0, 31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\nexport const DAYS_IN_MONTH_MIN = 28\nexport const DAYS_IN_MONTH_MAX = 31\nexport const MONTH_MAX = 12\nexport const MONTH_MIN = 1\nexport const DAY_MIN = 1\nexport const DAYS_IN_WEEK = 7\nexport const MINUTES_IN_HOUR = 60\nexport const MINUTE_MAX = 59\nexport const MINUTES_IN_DAY = 24 * 60\nexport const HOURS_IN_DAY = 24\nexport const HOUR_MAX = 23\nexport const FIRST_HOUR = 0\nexport const OFFSET_YEAR = 10000\nexport const OFFSET_MONTH = 100\nexport const OFFSET_HOUR = 100\nexport const OFFSET_TIME = 10000\n\ntype CalendarTimestampFormatOptions = (timestamp: CalendarTimestamp, short: boolean) => object\ntype CalendarTimestampOperation = (timestamp: CalendarTimestamp) => CalendarTimestamp\nexport type VTime = number | string | {\n  hour: number\n  minute: number\n}\n\nexport type VTimestampInput = number | string | Date;\n\nexport function getStartOfWeek (timestamp: CalendarTimestamp, weekdays: number[], today?: CalendarTimestamp): CalendarTimestamp {\n  const start = copyTimestamp(timestamp)\n  findWeekday(start, weekdays[0], prevDay)\n  updateFormatted(start)\n  if (today) {\n    updateRelative(start, today, start.hasTime)\n  }\n\n  return start\n}\n\nexport function getEndOfWeek (timestamp: CalendarTimestamp, weekdays: number[], today?: CalendarTimestamp): CalendarTimestamp {\n  const end = copyTimestamp(timestamp)\n  findWeekday(end, weekdays[weekdays.length - 1])\n  updateFormatted(end)\n  if (today) {\n    updateRelative(end, today, end.hasTime)\n  }\n\n  return end\n}\n\nexport function getStartOfMonth (timestamp: CalendarTimestamp): CalendarTimestamp {\n  const start = copyTimestamp(timestamp)\n  start.day = DAY_MIN\n  updateWeekday(start)\n  updateFormatted(start)\n\n  return start\n}\n\nexport function getEndOfMonth (timestamp: CalendarTimestamp): CalendarTimestamp {\n  const end = copyTimestamp(timestamp)\n  end.day = daysInMonth(end.year, end.month)\n  updateWeekday(end)\n  updateFormatted(end)\n\n  return end\n}\n\nexport function validateTime (input: any): input is VTime {\n  return (typeof input === 'number' && isFinite(input)) ||\n    (!!PARSE_TIME.exec(input)) ||\n    (typeof input === 'object' && isFinite(input.hour) && isFinite(input.minute))\n}\n\nexport function parseTime (input: any): number | false {\n  if (typeof input === 'number') {\n    // when a number is given, it's minutes since 12:00am\n    return input\n  } else if (typeof input === 'string') {\n    // when a string is given, it's a hh:mm:ss format where seconds are optional\n    const parts = PARSE_TIME.exec(input)\n    if (!parts) {\n      return false\n    }\n\n    return parseInt(parts[1]) * 60 + parseInt(parts[3] || 0)\n  } else if (typeof input === 'object') {\n    // when an object is given, it must have hour and minute\n    if (typeof input.hour !== 'number' || typeof input.minute !== 'number') {\n      return false\n    }\n\n    return input.hour * 60 + input.minute\n  } else {\n    // unsupported type\n    return false\n  }\n}\n\nexport function validateTimestamp (input: any): input is VTimestampInput {\n  return (typeof input === 'number' && isFinite(input)) ||\n    (typeof input === 'string' && !!PARSE_REGEX.exec(input)) ||\n    (input instanceof Date)\n}\n\nexport function parseTimestamp (input: VTimestampInput, required?: false, now?: CalendarTimestamp): CalendarTimestamp | null\nexport function parseTimestamp (input: VTimestampInput, required: true, now?: CalendarTimestamp): CalendarTimestamp\nexport function parseTimestamp (input: VTimestampInput, required = false, now?: CalendarTimestamp): CalendarTimestamp | null {\n  if (typeof input === 'number' && isFinite(input)) {\n    input = new Date(input)\n  }\n\n  if (input instanceof Date) {\n    const date: CalendarTimestamp = parseDate(input)\n\n    if (now) {\n      updateRelative(date, now, date.hasTime)\n    }\n\n    return date\n  }\n\n  if (typeof input !== 'string') {\n    if (required) {\n      throw new Error(`${input} is not a valid timestamp. It must be a Date, number of milliseconds since Epoch, or a string in the format of YYYY-MM-DD or YYYY-MM-DD hh:mm. Zero-padding is optional and seconds are ignored.`)\n    }\n    return null\n  }\n\n  // YYYY-MM-DD hh:mm:ss\n  const parts = PARSE_REGEX.exec(input)\n\n  if (!parts) {\n    if (required) {\n      throw new Error(`${input} is not a valid timestamp. It must be a Date, number of milliseconds since Epoch, or a string in the format of YYYY-MM-DD or YYYY-MM-DD hh:mm. Zero-padding is optional and seconds are ignored.`)\n    }\n\n    return null\n  }\n\n  const timestamp: CalendarTimestamp = {\n    date: input,\n    time: '',\n    year: parseInt(parts[1]),\n    month: parseInt(parts[2]),\n    day: parseInt(parts[4]) || 1,\n    hour: parseInt(parts[6]) || 0,\n    minute: parseInt(parts[8]) || 0,\n    weekday: 0,\n    hasDay: !!parts[4],\n    hasTime: !!(parts[6] && parts[8]),\n    past: false,\n    present: false,\n    future: false,\n  }\n\n  updateWeekday(timestamp)\n  updateFormatted(timestamp)\n\n  if (now) {\n    updateRelative(timestamp, now, timestamp.hasTime)\n  }\n\n  return timestamp\n}\n\nexport function parseDate (date: Date): CalendarTimestamp {\n  return updateFormatted({\n    date: '',\n    time: '',\n    year: date.getFullYear(),\n    month: date.getMonth() + 1,\n    day: date.getDate(),\n    weekday: date.getDay(),\n    hour: date.getHours(),\n    minute: date.getMinutes(),\n    hasDay: true,\n    hasTime: true,\n    past: false,\n    present: true,\n    future: false,\n  })\n}\n\nexport function getDayIdentifier (timestamp: { year: number, month: number, day: number }): number {\n  return timestamp.year * OFFSET_YEAR + timestamp.month * OFFSET_MONTH + timestamp.day\n}\n\nexport function getTimeIdentifier (timestamp: { hour: number, minute: number }): number {\n  return timestamp.hour * OFFSET_HOUR + timestamp.minute\n}\n\nexport function getTimestampIdentifier (timestamp: CalendarTimestamp): number {\n  return getDayIdentifier(timestamp) * OFFSET_TIME + getTimeIdentifier(timestamp)\n}\n\nexport function updateRelative (timestamp: CalendarTimestamp, now: CalendarTimestamp, time = false): CalendarTimestamp {\n  let a = getDayIdentifier(now)\n  let b = getDayIdentifier(timestamp)\n  let present = a === b\n\n  if (timestamp.hasTime && time && present) {\n    a = getTimeIdentifier(now)\n    b = getTimeIdentifier(timestamp)\n    present = a === b\n  }\n\n  timestamp.past = b < a\n  timestamp.present = present\n  timestamp.future = b > a\n\n  return timestamp\n}\n\nexport function isTimedless (input: VTimestampInput): input is (Date | number) {\n  return (input instanceof Date) || (typeof input === 'number' && isFinite(input))\n}\n\nexport function updateHasTime (timestamp: CalendarTimestamp, hasTime: boolean, now?: CalendarTimestamp): CalendarTimestamp {\n  if (timestamp.hasTime !== hasTime) {\n    timestamp.hasTime = hasTime\n    if (!hasTime) {\n      timestamp.hour = HOUR_MAX\n      timestamp.minute = MINUTE_MAX\n      timestamp.time = getTime(timestamp)\n    }\n    if (now) {\n      updateRelative(timestamp, now, timestamp.hasTime)\n    }\n  }\n\n  return timestamp\n}\n\nexport function updateMinutes (timestamp: CalendarTimestamp, minutes: number, now?: CalendarTimestamp): CalendarTimestamp {\n  timestamp.hasTime = true\n  timestamp.hour = Math.floor(minutes / MINUTES_IN_HOUR)\n  timestamp.minute = minutes % MINUTES_IN_HOUR\n  timestamp.time = getTime(timestamp)\n  if (now) {\n    updateRelative(timestamp, now, true)\n  }\n\n  return timestamp\n}\n\nexport function updateWeekday (timestamp: CalendarTimestamp): CalendarTimestamp {\n  timestamp.weekday = getWeekday(timestamp)\n\n  return timestamp\n}\n\nexport function updateFormatted (timestamp: CalendarTimestamp): CalendarTimestamp {\n  timestamp.time = getTime(timestamp)\n  timestamp.date = getDate(timestamp)\n\n  return timestamp\n}\n\nexport function getWeekday (timestamp: CalendarTimestamp): number {\n  if (timestamp.hasDay) {\n    const _ = Math.floor\n    const k = timestamp.day\n    const m = ((timestamp.month + 9) % MONTH_MAX) + 1\n    const C = _(timestamp.year / 100)\n    const Y = (timestamp.year % 100) - (timestamp.month <= 2 ? 1 : 0)\n\n    return (((k + _(2.6 * m - 0.2) - 2 * C + Y + _(Y / 4) + _(C / 4)) % 7) + 7) % 7\n  }\n\n  return timestamp.weekday\n}\n\nexport function daysInMonth (year: number, month: number) {\n  return isLeapYear(year) ? DAYS_IN_MONTH_LEAP[month] : DAYS_IN_MONTH[month]\n}\n\nexport function copyTimestamp (timestamp: CalendarTimestamp): CalendarTimestamp {\n  const { date, time, year, month, day, weekday, hour, minute, hasDay, hasTime, past, present, future } = timestamp\n\n  return { date, time, year, month, day, weekday, hour, minute, hasDay, hasTime, past, present, future }\n}\n\nexport function padNumber (x: number, length: number): string {\n  let padded = String(x)\n  while (padded.length < length) {\n    padded = '0' + padded\n  }\n\n  return padded\n}\n\nexport function getDate (timestamp: CalendarTimestamp): string {\n  let str = `${padNumber(timestamp.year, 4)}-${padNumber(timestamp.month, 2)}`\n\n  if (timestamp.hasDay) str += `-${padNumber(timestamp.day, 2)}`\n\n  return str\n}\n\nexport function getTime (timestamp: CalendarTimestamp): string {\n  if (!timestamp.hasTime) {\n    return ''\n  }\n\n  return `${padNumber(timestamp.hour, 2)}:${padNumber(timestamp.minute, 2)}`\n}\n\nexport function nextMinutes (timestamp: CalendarTimestamp, minutes: number): CalendarTimestamp {\n  timestamp.minute += minutes\n  while (timestamp.minute > MINUTES_IN_HOUR) {\n    timestamp.minute -= MINUTES_IN_HOUR\n    timestamp.hour++\n    if (timestamp.hour >= HOURS_IN_DAY) {\n      nextDay(timestamp)\n      timestamp.hour = FIRST_HOUR\n    }\n  }\n\n  return timestamp\n}\n\nexport function nextDay (timestamp: CalendarTimestamp): CalendarTimestamp {\n  timestamp.day++\n  timestamp.weekday = (timestamp.weekday + 1) % DAYS_IN_WEEK\n  if (timestamp.day > DAYS_IN_MONTH_MIN && timestamp.day > daysInMonth(timestamp.year, timestamp.month)) {\n    timestamp.day = DAY_MIN\n    timestamp.month++\n    if (timestamp.month > MONTH_MAX) {\n      timestamp.month = MONTH_MIN\n      timestamp.year++\n    }\n  }\n\n  return timestamp\n}\n\nexport function prevDay (timestamp: CalendarTimestamp): CalendarTimestamp {\n  timestamp.day--\n  timestamp.weekday = (timestamp.weekday + 6) % DAYS_IN_WEEK\n  if (timestamp.day < DAY_MIN) {\n    timestamp.month--\n    if (timestamp.month < MONTH_MIN) {\n      timestamp.year--\n      timestamp.month = MONTH_MAX\n    }\n    timestamp.day = daysInMonth(timestamp.year, timestamp.month)\n  }\n\n  return timestamp\n}\n\nexport function relativeDays (\n  timestamp: CalendarTimestamp,\n  mover: CalendarTimestampOperation = nextDay,\n  days = 1\n): CalendarTimestamp {\n  while (--days >= 0) mover(timestamp)\n\n  return timestamp\n}\n\nexport function diffMinutes (min: CalendarTimestamp, max: CalendarTimestamp) {\n  const Y = (max.year - min.year) * 525600\n  const M = (max.month - min.month) * 43800\n  const D = (max.day - min.day) * 1440\n  const h = (max.hour - min.hour) * 60\n  const m = (max.minute - min.minute)\n\n  return Y + M + D + h + m\n}\n\nexport function findWeekday (timestamp: CalendarTimestamp, weekday: number,\n  mover: CalendarTimestampOperation = nextDay, maxDays = 6): CalendarTimestamp {\n  while (timestamp.weekday !== weekday && --maxDays >= 0) mover(timestamp)\n\n  return timestamp\n}\n\nexport function getWeekdaySkips (weekdays: number[]): number[] {\n  const skips: number[] = [1, 1, 1, 1, 1, 1, 1]\n  const filled: number[] = [0, 0, 0, 0, 0, 0, 0]\n  for (let i = 0; i < weekdays.length; i++) {\n    filled[weekdays[i]] = 1\n  }\n  for (let k = 0; k < DAYS_IN_WEEK; k++) {\n    let skip = 1\n    for (let j = 1; j < DAYS_IN_WEEK; j++) {\n      const next = (k + j) % DAYS_IN_WEEK\n      if (filled[next]) {\n        break\n      }\n      skip++\n    }\n    skips[k] = filled[k] * skip\n  }\n\n  return skips\n}\n\nexport function timestampToDate (timestamp: CalendarTimestamp): Date {\n  const time = `${padNumber(timestamp.hour, 2)}:${padNumber(timestamp.minute, 2)}`\n  const date = timestamp.date\n\n  return new Date(`${date}T${time}:00+00:00`)\n}\n\nexport function createDayList (\n  start: CalendarTimestamp,\n  end: CalendarTimestamp,\n  now: CalendarTimestamp,\n  weekdaySkips: number[],\n  max = 42,\n  min = 0\n): CalendarTimestamp[] {\n  const stop = getDayIdentifier(end)\n  const days: CalendarTimestamp[] = []\n  let current = copyTimestamp(start)\n  let currentIdentifier = 0\n  let stopped = currentIdentifier === stop\n\n  if (stop < getDayIdentifier(start)) {\n    throw new Error('End date is earlier than start date.')\n  }\n\n  while ((!stopped || days.length < min) && days.length < max) {\n    currentIdentifier = getDayIdentifier(current)\n    stopped = stopped || currentIdentifier === stop\n    if (weekdaySkips[current.weekday] === 0) {\n      current = nextDay(current)\n      continue\n    }\n    const day = copyTimestamp(current)\n    updateFormatted(day)\n    updateRelative(day, now)\n    days.push(day)\n    current = relativeDays(current, nextDay, weekdaySkips[current.weekday])\n  }\n\n  if (!days.length) throw new Error('No dates found using specified start date, end date, and weekdays.')\n\n  return days\n}\n\nexport function createIntervalList (timestamp: CalendarTimestamp, first: number,\n  minutes: number, count: number, now?: CalendarTimestamp): CalendarTimestamp[] {\n  const intervals: CalendarTimestamp[] = []\n\n  for (let i = 0; i < count; i++) {\n    const mins = first + (i * minutes)\n    const int = copyTimestamp(timestamp)\n    intervals.push(updateMinutes(int, mins, now))\n  }\n\n  return intervals\n}\n\nexport function createNativeLocaleFormatter (locale: string, getOptions: CalendarTimestampFormatOptions): CalendarFormatter {\n  const emptyFormatter: CalendarFormatter = (_t, _s) => ''\n\n  if (typeof Intl === 'undefined' || typeof Intl.DateTimeFormat === 'undefined') {\n    return emptyFormatter\n  }\n\n  return (timestamp, short) => {\n    try {\n      const intlFormatter = new Intl.DateTimeFormat(locale || undefined, getOptions(timestamp, short))\n\n      return intlFormatter.format(timestampToDate(timestamp))\n    } catch (e) {\n      return ''\n    }\n  }\n}\n"]}]}