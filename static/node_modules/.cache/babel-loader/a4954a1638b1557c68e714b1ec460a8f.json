{"remainingRequest":"/Users/mac/go/src/events/static/node_modules/babel-loader/lib/index.js!/Users/mac/go/src/events/static/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mac/go/src/events/static/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/go/src/events/static/src/components/tasks/ListTasks.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/go/src/events/static/src/components/tasks/ListTasks.vue","mtime":1660935460445},{"path":"/Users/mac/go/src/events/static/babel.config.js","mtime":1653650336335},{"path":"/Users/mac/go/src/events/static/node_modules/cache-loader/dist/cjs.js","mtime":1656160197065},{"path":"/Users/mac/go/src/events/static/node_modules/babel-loader/lib/index.js","mtime":1656160197672},{"path":"/Users/mac/go/src/events/static/node_modules/cache-loader/dist/cjs.js","mtime":1656160197065},{"path":"/Users/mac/go/src/events/static/node_modules/vue-loader/lib/index.js","mtime":1656160198005}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL21hYy9nby9zcmMvZXZlbnRzL3N0YXRpYy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcmVnZW5lcmF0b3JSdW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYWMvZ28vc3JjL2V2ZW50cy9zdGF0aWMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnBhcnNlLWludC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi50aW1lcnMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5kYXRlLm5vdy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmRhdGUudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgRm9vdGVyIGZyb20gIkAvY29tcG9uZW50cy9Gb290ZXIiOwppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTGlzdFRhc2tzIiwKICBjb21wb25lbnRzOiB7CiAgICBGb290ZXI6IEZvb3RlcgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhc2tIb3VyczogMCwKICAgICAgdGFza01pbnV0ZXM6IDAsCiAgICAgIHRhc2tOdW06IDAsCiAgICAgIGlzQWRkTnVtOiBmYWxzZSwKICAgICAgaXNUYXNrSW5mbzogZmFsc2UsCiAgICAgIGNob3NlblRhc2tJZDogLTEsCiAgICAgIHRhc2tQaWVjZXM6IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0VGFza3M6IGZ1bmN0aW9uIGdldFRhc2tzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzcG9uc2UsIHRhc2tzOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdoaSB0aGVyZSB0b28nKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5zdGF0ZS5tYWtlUmVxKCdhcGkvZ2V0VGFza3MnLCAnR0VUJyk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgdGFza3MgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Rhc2xzID0gJywgdGFza3MpOwoKICAgICAgICAgICAgICAgIGlmICh0YXNrcyA9PT0gbnVsbCkgewogICAgICAgICAgICAgICAgICB0YXNrcyA9IFtdOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5zdGF0ZS50YXNrcyA9IHRhc2tzOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Jlc3AgPSAnLCBfdGhpcy4kc3RvcmUuc3RhdGUudGFza3MpOwogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rhc2tzJywgSlNPTi5zdHJpbmdpZnkoX3RoaXMuJHN0b3JlLnN0YXRlLnRhc2tzKSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpcy4kc3RvcmUuc3RhdGUudGFza3MpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIG9wZW5DaGFuZ2VUYXNrOiBmdW5jdGlvbiBvcGVuQ2hhbmdlVGFzayh0YXNrSWQpIHsKICAgICAgdGhpcy5pc0FkZE51bSA9IHRydWU7CiAgICAgIHRoaXMuY2hvc2VuVGFza0lkID0gdGFza0lkOwogICAgICB0aGlzLmdldFRhc2tQaWVjZXMoKTsKICAgICAgY29uc29sZS5sb2coJ2hpJyk7CiAgICB9LAogICAgZ2V0VGFza1BpZWNlczogZnVuY3Rpb24gZ2V0VGFza1BpZWNlcygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcmVzcG9uc2UsIHRhc2tzUGllY2VzOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRzdG9yZS5zdGF0ZS5tYWtlUmVxKCJhcGkvZ2V0VGFza1BpZWNlcyIsICJQT1NUIiwgSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgICBpZDogX3RoaXMyLmNob3NlblRhc2tJZAogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgdGFza3NQaWVjZXMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0YXNscyA9ICcsIHRhc2tzUGllY2VzKTsKCiAgICAgICAgICAgICAgICBpZiAodGFza3NQaWVjZXMgPT09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgdGFza3NQaWVjZXMgPSBbXTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczIudGFza1BpZWNlcyA9IHRhc2tzUGllY2VzOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coInBpZWNlcyA9ICIsIHRhc2tzUGllY2VzKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNoYW5nZVRhc2s6IGZ1bmN0aW9uIGNoYW5nZVRhc2soKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIGluZGV4LCB0YXNrLCBudW0sIGRlbHRhTnVtLCBuZXdUYXNrLCByZXNwb25zZTsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaW5kZXggPSBfdGhpczMuZmluZEluZGV4VGFza3MoX3RoaXMzLmNob3NlblRhc2tJZCk7CiAgICAgICAgICAgICAgICB0YXNrID0gX3RoaXMzLiRzdG9yZS5zdGF0ZS50YXNrc1tpbmRleF07CiAgICAgICAgICAgICAgICBudW0gPSAwOwogICAgICAgICAgICAgICAgZGVsdGFOdW0gPSAwOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coewogICAgICAgICAgICAgICAgICB0YXNrOiB0YXNrCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBpZiAocGFyc2VJbnQoX3RoaXMzLnRhc2tOdW0pID4gMCB8fCBwYXJzZUludChfdGhpczMudGFza0hvdXJzKSA+PSAwICYmIHBhcnNlSW50KF90aGlzMy50YXNrTWludXRlcykgPj0gMCkgewogICAgICAgICAgICAgICAgICBpZiAodGFzay50eXBlID09PSAndGltZScpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiaGkgdGhlcmUiKTsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY2FsYyA9ICcsIHBhcnNlSW50KF90aGlzMy4kc3RvcmUuc3RhdGUudGFza3NbaW5kZXhdLm51bSkgKyBwYXJzZUludCgocGFyc2VJbnQoX3RoaXMzLnRhc2tIb3VycykgKiA2MCArIHBhcnNlSW50KF90aGlzMy50YXNrTWludXRlcykpICogNjApKTsKICAgICAgICAgICAgICAgICAgICBudW0gPSBwYXJzZUludChfdGhpczMuJHN0b3JlLnN0YXRlLnRhc2tzW2luZGV4XS5udW0pICsgcGFyc2VJbnQoKHBhcnNlSW50KF90aGlzMy50YXNrSG91cnMpICogNjAgKyBwYXJzZUludChfdGhpczMudGFza01pbnV0ZXMpKSAqIDYwKTsKICAgICAgICAgICAgICAgICAgICBkZWx0YU51bSA9IHBhcnNlSW50KChwYXJzZUludChfdGhpczMudGFza0hvdXJzKSAqIDYwICsgcGFyc2VJbnQoX3RoaXMzLnRhc2tNaW51dGVzKSkgKiA2MCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgbnVtID0gcGFyc2VJbnQoX3RoaXMzLiRzdG9yZS5zdGF0ZS50YXNrc1tpbmRleF0ubnVtKSArIHBhcnNlSW50KF90aGlzMy50YXNrTnVtKTsKICAgICAgICAgICAgICAgICAgICBkZWx0YU51bSA9IHBhcnNlSW50KF90aGlzMy50YXNrTnVtKTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX3RoaXMzLiRzdG9yZS5zdGF0ZS50YXNrc1tpbmRleF0ubnVtID0gbnVtOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0YXNrcycsIEpTT04uc3RyaW5naWZ5KF90aGlzMy4kc3RvcmUuc3RhdGUudGFza3MpKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRhc2spOwogICAgICAgICAgICAgICAgbmV3VGFzayA9IHsKICAgICAgICAgICAgICAgICAgaWQ6IHRhc2suaWQsCiAgICAgICAgICAgICAgICAgIHRpdGxlOiB0YXNrLnRpdGxlLAogICAgICAgICAgICAgICAgICB0aW1lU3RhcnQ6IHRhc2sudGltZVN0YXJ0LAogICAgICAgICAgICAgICAgICB0aW1lRW5kOiB0YXNrLnRpbWVFbmQsCiAgICAgICAgICAgICAgICAgIHR5cGU6IHRhc2sudHlwZSwKICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB0YXNrLnRhcmdldCwKICAgICAgICAgICAgICAgICAgbnVtOiBudW0sCiAgICAgICAgICAgICAgICAgIGRlbHRhTnVtOiBkZWx0YU51bQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLiRzdG9yZS5zdGF0ZS5tYWtlUmVxKCdhcGkvY2hhbmdlVGFzaycsICdQVVQnLCBKU09OLnN0cmluZ2lmeShuZXdUYXNrKSk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgX3RoaXMzLmlzQWRkTnVtID0gZmFsc2U7CiAgICAgICAgICAgICAgICBfdGhpczMudGFza0hvdXJzID0gMDsKICAgICAgICAgICAgICAgIF90aGlzMy50YXNrTWludXRlcyA9IDA7CiAgICAgICAgICAgICAgICBfdGhpczMudGFza051bSA9IDA7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBkZWxldGVUYXNrOiBmdW5jdGlvbiBkZWxldGVUYXNrKGlkKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyIGluZGV4ID0gdGhpcy5maW5kSW5kZXhUYXNrcyhpZCk7CiAgICAgIHZhciB0YXNrID0gdGhpcy4kc3RvcmUuc3RhdGUudGFza3NbaW5kZXhdOyAvLyBjb25zb2xlLmxvZygiaW5kZXggPSAiLCBpbmRleCkKICAgICAgLy8gY29uc29sZS5sb2coe2V2ZW50fSkKCiAgICAgIHZhciB3YWl0U2Vjb25kcyA9IDM7CiAgICAgIHRhc2sud2FpdFNlY29uZHMgPSB3YWl0U2Vjb25kczsKICAgICAgdmFyIGludGVydmFsSWQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKCF0YXNrLmRlbGV0ZWQpIHsKICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndGFza3MnLCBKU09OLnN0cmluZ2lmeShfdGhpczQuJHN0b3JlLnN0YXRlLnRhc2tzKSk7CgogICAgICAgICAgX3RoaXM0LiRmb3JjZVVwZGF0ZSgpOwoKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGlmICgtLXdhaXRTZWNvbmRzIDwgMCkgewogICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTsKCiAgICAgICAgICB2YXIgX2luZGV4ID0gX3RoaXM0LmZpbmRJbmRleFRhc2tzKGlkKTsKCiAgICAgICAgICBfdGhpczQuJHN0b3JlLnN0YXRlLm1ha2VSZXEoImFwaS9kZWxldGVUYXNrIiwgIkRFTEVURSIsIEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICAgaWQ6IGlkCiAgICAgICAgICB9KSk7CgogICAgICAgICAgX3RoaXM0LiRzdG9yZS5zdGF0ZS50YXNrcy5zcGxpY2UoX2luZGV4LCAxKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGFzay53YWl0U2Vjb25kcyA9IHdhaXRTZWNvbmRzOwogICAgICAgIH0KCiAgICAgICAgX3RoaXM0LiRmb3JjZVVwZGF0ZSgpOwogICAgICB9LCAxMDAwKTsgLy8gdGhpcy4kc3RvcmUuc3RhdGUuZXZlbnRzLnNwbGljZShpbmRleCwgMSkKCiAgICAgIHRhc2suZGVsZXRlZCA9IERhdGUubm93KCk7CiAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdldmVudHMnLCBKU09OLnN0cmluZ2lmeSh0aGlzLiRzdG9yZS5zdGF0ZS5ldmVudHMpKTsKICAgIH0sCiAgICBjYW1lYmFja1Rhc2s6IGZ1bmN0aW9uIGNhbWViYWNrVGFzayhpZCkgewogICAgICB2YXIgaW5kZXggPSB0aGlzLmZpbmRJbmRleFRhc2tzKGlkKTsKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUudGFza3NbaW5kZXhdLmRlbGV0ZWQgPSAwOwogICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpOwogICAgfSwKICAgIHRpbWVMZWZ0OiBmdW5jdGlvbiB0aW1lTGVmdChkYXRlKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGUpCiAgICAgIC8vIGxldCBhcnIgPSBtb21lbnQoZGF0ZSkuZnJvbU5vdygpLnNwbGl0KCcgJykKICAgICAgLy8gY29uc29sZS5sb2coYXJyKQogICAgICAvLyBhcnIuc3BsaWNlKDAsMSkKICAgICAgLy8gY29uc29sZS5sb2coYXJyKQogICAgICAvLyByZXR1cm4gItC+0YHRgtCw0LvQvtGB0YwgIithcnIuam9pbigiICIpCiAgICAgIHJldHVybiBtb21lbnQoZGF0ZSkuZnJvbU5vdygpOwogICAgfSwKICAgIGNhbGNQcm9ncmVzczogZnVuY3Rpb24gY2FsY1Byb2dyZXNzKHRhc2tJZCkgewogICAgICB2YXIgdGFzayA9IHRoaXMuJHN0b3JlLnN0YXRlLnRhc2tzW3RoaXMuZmluZEluZGV4VGFza3ModGFza0lkKV07CgogICAgICBpZiAodGFzay50eXBlID09PSAndGltZScpIHsKICAgICAgICByZXR1cm4gdGhpcy5tYWtlTWludXRlc0FuZEhvdXJzU3RyKHBhcnNlSW50KHBhcnNlSW50KHRhc2subnVtKSAvIDM2MDApLCBwYXJzZUludCh0YXNrLm51bSkgJSAzNjAwIC8gNjApICsgIiAvICIgKyB0aGlzLm1ha2VNaW51dGVzQW5kSG91cnNTdHIocGFyc2VJbnQocGFyc2VJbnQodGFzay50YXJnZXQpIC8gMzYwMCksIHBhcnNlSW50KHRhc2sudGFyZ2V0KSAlIDM2MDAgLyA2MCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHRhc2subnVtICsgJyAvICcgKyB0YXNrLnRhcmdldDsKICAgICAgfQogICAgfSwKICAgIGNhbGNQZXJjZW50OiBmdW5jdGlvbiBjYWxjUGVyY2VudCh0YXNrKSB7CiAgICAgIHZhciBudW0gPSAwOwoKICAgICAgaWYgKHRhc2subnVtICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBudW0gPSB0YXNrLm51bTsKICAgICAgfSAvLyBjb25zb2xlLmxvZygncGVyY2VudGVnZSA9ICcsIG51bS90YXNrLnRhcmdldCoxMDApCgoKICAgICAgcmV0dXJuIG51bSAvIHRhc2sudGFyZ2V0ICogMTAwID4gMTAwID8gMTAwIDogbnVtIC8gdGFzay50YXJnZXQgKiAxMDA7CiAgICB9LAogICAgbWFrZU1pbnV0ZXNBbmRIb3Vyc1N0cjogZnVuY3Rpb24gbWFrZU1pbnV0ZXNBbmRIb3Vyc1N0cihob3VycywgbWludXRlcykgewogICAgICBob3VycyA9IGhvdXJzLnRvU3RyaW5nKCkubGVuZ3RoID09PSAxID8gJzAnICsgaG91cnMgOiBob3VyczsKICAgICAgbWludXRlcyA9IG1pbnV0ZXMudG9TdHJpbmcoKS5sZW5ndGggPT09IDEgPyAnMCcgKyBtaW51dGVzIDogbWludXRlczsKICAgICAgcmV0dXJuIGhvdXJzICsgJzonICsgbWludXRlczsKICAgIH0sCiAgICBmaW5kSW5kZXhUYXNrczogZnVuY3Rpb24gZmluZEluZGV4VGFza3MoaWQpIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLiRzdG9yZS5zdGF0ZS50YXNrcy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS50YXNrc1tpXS5pZCA9PT0gaWQpIHsKICAgICAgICAgIHJldHVybiBpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIC0xOwogICAgfQogIH0sCiAgYmVmb3JlTW91bnQ6IGZ1bmN0aW9uIGJlZm9yZU1vdW50KCkgewogICAgY29uc29sZS5sb2coJ2hpIHRoZXJlJyk7CiAgICB0aGlzLmdldFRhc2tzKCk7CiAgfQp9Ow=="},{"version":3,"mappings":"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","names":["name","components","Footer","data","taskHours","taskMinutes","taskNum","isAddNum","isTaskInfo","chosenTaskId","taskPieces","methods","getTasks","console","response","tasks","localStorage","openChangeTask","taskId","getTaskPieces","id","tasksPieces","changeTask","index","task","num","deltaNum","newTask","title","timeStart","timeEnd","type","target","deleteTask","clearInterval","camebackTask","timeLeft","date","calcProgress","calcPercent","makeMinutesAndHoursStr","hours","minutes","findIndexTasks","beforeMount"],"sourceRoot":"src/components/tasks","sources":["ListTasks.vue"],"sourcesContent":["<template>\n  <div>\n    <div v-for=\"(task) in this.$store.state.tasks\"\n         :key=\"task.id\"\n    >\n      <div @click=\"isTaskInfo=true\"\n           style=\"display: flex;justify-content: space-between;margin-top: 20px;padding:5px;\">\n        <div>\n          <div :style=\"task.deleted?'opacity: 0.5':''\"\n               style=\"font-size: 18px;text-transform: capitalize;display: flex;align-items: center;\">{{ task.title }}\n          </div>\n          <span :style=\"task.deleted?'opacity: 0.5':''\"\n                style=\"color: #555;font-size: 15px;display: block;padding-top: 10px\">{{\n              timeLeft(new Date(task.timeEnd * 1000))\n            }}\n          </span>\n\n        </div>\n        <div @click.stop>\n          <span v-if=\"task.deleted\" style=\"color: #555;font-size: 12px;padding-right: 10px\">{{\n              task.waitSeconds\n            }}с</span>\n          <!--          <v-btn v-if=\"!event.deleted\" @click=\"changeEvent(event.id)\" icon>✏️</v-btn>-->\n          <v-btn v-if=\"!task.deleted\" @click=\"openChangeTask(task.id)\" icon>✏️</v-btn>\n          <v-btn v-if=\"task.deleted\" @click=\"camebackTask(task.id)\" text small>вернуть ↩︎</v-btn>\n          <v-btn v-else @click=\"deleteTask(task.id)\" icon>🗑</v-btn>\n          <span v-if=\"!task.deleted\"\n                style=\"color: #555;font-size: 13px;display: block;text-align: right;padding-right: 5px\">\n              {{ calcProgress(task.id) }}\n\n          </span>\n        </div>\n      </div>\n      <div :style=\"{border: '2px solid green',opacity:'0.3'}\"\n      ></div>\n      <div\n          :style=\"{position:'relative',top:'-4px',border: '2px solid green',width:''+calcPercent(task)+'%',display:calcPercent(task)===0?'none':''}\"\n      ></div>\n    </div>\n\n    <template v-if=\"isAddNum\">\n      <div class=\"picker\" @click=\"isAddNum=false\">\n        <div class=\"picker__content\" @click.stop>\n          <slot>\n            <div style=\"background-color: white;padding: 20px;border-radius: 3px; width: 320px\">\n              <v-container grid-list-md text-xs-center>\n                <v-layout row wrap>\n                  <v-row>\n                    <div style=\"display: flex;justify-content: space-between;padding:5px;color: #777777;width: 100%\">\n                      <div>\n                        <div class=\"text-h5\" style=\"max-width: 200px;word-wrap: break-word;\">\n                          {{ $store.state.tasks[findIndexTasks(chosenTaskId)].title }}\n                        </div>\n\n                      </div>\n                      <div style=\"white-space: nowrap;\">\n                        {{ calcProgress(chosenTaskId) }}\n                      </div>\n                    </div>\n                    <template v-if=\"$store.state.tasks[findIndexTasks(chosenTaskId)].type==='time'\">\n                      <v-flex xs6>\n                        <v-text-field\n                            label=\"hours\"\n                            outlined\n                            v-model=\"taskHours\"\n                        ></v-text-field>\n                      </v-flex>\n                      <v-flex xs6>\n                        <v-text-field\n                            label=\"minutes\"\n                            outlined\n                            v-model=\"taskMinutes\"\n                        ></v-text-field>\n                      </v-flex>\n                    </template>\n                    <template v-else>\n                      <v-flex xs12>\n                        <v-text-field\n                            :label=\"$store.state.tasks[findIndexTasks(chosenTaskId)].type\"\n                            outlined\n                            v-model=\"taskNum\"\n                        ></v-text-field>\n                      </v-flex>\n                    </template>\n                    <v-btn class=\"mb-2\" width=\"290px\"\n                           @click=\"changeTask\"\n                           height=\"50px\"\n                           color=\"white\">add\n                    </v-btn>\n                  </v-row>\n                </v-layout>\n              </v-container>\n            </div>\n          </slot>\n        </div>\n      </div>\n    </template>\n\n\n    <template v-if=\"isTaskInfo\">\n      <div class=\"picker\" @click=\"isTaskInfo=false\">\n        <div class=\"picker__content\" @click.stop>\n          <slot>\n            <h1>Hello World</h1>\n          </slot>\n        </div>\n      </div>\n    </template>\n\n\n    <Footer>\n\n    </Footer>\n  </div>\n</template>\n\n<script>\nimport Footer from \"@/components/Footer\";\nimport moment from \"moment\";\n\nexport default {\n  name: \"ListTasks\",\n  components: {Footer},\n  data() {\n    return {\n      taskHours: 0,\n      taskMinutes: 0,\n      taskNum: 0,\n      isAddNum: false,\n      isTaskInfo: false,\n      chosenTaskId: -1,\n      taskPieces: [],\n    }\n  },\n  methods: {\n    async getTasks() {\n      console.log('hi there too')\n      let response = await this.$store.state.makeReq('api/getTasks', 'GET')\n\n      let tasks = await response.json()\n      console.log('tasls = ', tasks)\n      if (tasks === null) {\n        tasks = []\n      }\n\n      this.$store.state.tasks = tasks\n      console.log('resp = ', this.$store.state.tasks)\n      localStorage.setItem('tasks', JSON.stringify(this.$store.state.tasks))\n      console.log(this.$store.state.tasks)\n    },\n\n    openChangeTask(taskId) {\n      this.isAddNum = true\n      this.chosenTaskId = taskId\n      this.getTaskPieces()\n      console.log('hi')\n    },\n    async getTaskPieces(){\n      let response = await this.$store.state.makeReq(\"api/getTaskPieces\", \"POST\", JSON.stringify({id:this.chosenTaskId}))\n      let tasksPieces = await response.json()\n      console.log('tasls = ', tasksPieces)\n      if (tasksPieces === null) {\n        tasksPieces = []\n      }\n\n      this.taskPieces = tasksPieces\n      console.log(\"pieces = \", tasksPieces)\n\n    },\n    async changeTask() {\n      let index = this.findIndexTasks(this.chosenTaskId)\n      let task = this.$store.state.tasks[index]\n      let num = 0\n      let deltaNum = 0\n      console.log({task})\n      if (parseInt(this.taskNum) > 0 || parseInt(this.taskHours) >= 0 && parseInt(this.taskMinutes) >= 0) {\n        if (task.type === 'time') {\n          console.log(\"hi there\")\n          console.log('calc = ', parseInt(this.$store.state.tasks[index].num) + parseInt((parseInt(this.taskHours) * 60 + parseInt(this.taskMinutes)) * 60))\n          num = parseInt(this.$store.state.tasks[index].num) + parseInt((parseInt(this.taskHours) * 60 + parseInt(this.taskMinutes)) * 60)\n          deltaNum = parseInt((parseInt(this.taskHours) * 60 + parseInt(this.taskMinutes)) * 60)\n        } else {\n          num = parseInt(this.$store.state.tasks[index].num) + parseInt(this.taskNum)\n          deltaNum = parseInt(this.taskNum)\n        }\n        this.$store.state.tasks[index].num = num\n      }\n      localStorage.setItem('tasks', JSON.stringify(this.$store.state.tasks))\n      console.log(task)\n      let newTask = {\n        id: task.id,\n        title: task.title,\n        timeStart: task.timeStart,\n        timeEnd: task.timeEnd,\n        type: task.type,\n        target: task.target,\n        num: num,\n        deltaNum: deltaNum,\n      }\n      let response = await this.$store.state.makeReq('api/changeTask', 'PUT', JSON.stringify(newTask))\n      console.log(response)\n      this.isAddNum = false\n      this.taskHours = 0\n      this.taskMinutes = 0\n      this.taskNum = 0\n    },\n    deleteTask(id) {\n      let index = this.findIndexTasks(id)\n      let task = this.$store.state.tasks[index]\n\n      // console.log(\"index = \", index)\n      // console.log({event})\n\n      let waitSeconds = 3\n      task.waitSeconds = waitSeconds\n      let intervalId = setInterval(() => {\n        if (!task.deleted) {\n          clearInterval(intervalId)\n          localStorage.setItem('tasks', JSON.stringify(this.$store.state.tasks))\n          this.$forceUpdate()\n          return\n        }\n        if (--waitSeconds < 0) {\n          clearInterval(intervalId);\n          let index = this.findIndexTasks(id)\n          this.$store.state.makeReq(\"api/deleteTask\", \"DELETE\", JSON.stringify({id: id}))\n          this.$store.state.tasks.splice(index, 1)\n        } else {\n          task.waitSeconds = waitSeconds\n        }\n        this.$forceUpdate()\n      }, 1000);\n\n      // this.$store.state.events.splice(index, 1)\n\n      task.deleted = Date.now();\n      this.$forceUpdate();\n      localStorage.setItem('events', JSON.stringify(this.$store.state.events))\n    },\n    camebackTask(id) {\n      let index = this.findIndexTasks(id)\n      this.$store.state.tasks[index].deleted = 0\n      this.$forceUpdate();\n    },\n    timeLeft(date) {\n      // console.log(date)\n      // let arr = moment(date).fromNow().split(' ')\n      // console.log(arr)\n      // arr.splice(0,1)\n      // console.log(arr)\n      // return \"осталось \"+arr.join(\" \")\n      return moment(date).fromNow()\n    },\n    calcProgress(taskId) {\n      let task = this.$store.state.tasks[this.findIndexTasks(taskId)]\n      if (task.type === 'time') {\n        return this.makeMinutesAndHoursStr(parseInt(parseInt(task.num) / 3600), parseInt(task.num) % 3600 / 60) + \" / \" + this.makeMinutesAndHoursStr(parseInt(parseInt(task.target) / 3600), parseInt(task.target) % 3600 / 60)\n      } else {\n        return task.num + ' / ' + task.target\n      }\n    },\n    calcPercent(task) {\n      let num = 0\n      if (task.num !== undefined) {\n        num = task.num\n      }\n      // console.log('percentege = ', num/task.target*100)\n      return num / task.target * 100 > 100 ? 100 : num / task.target * 100\n    },\n    makeMinutesAndHoursStr(hours, minutes) {\n      hours = hours.toString().length === 1 ? '0' + hours : hours\n      minutes = minutes.toString().length === 1 ? '0' + minutes : minutes\n      return hours + ':' + minutes\n    },\n    findIndexTasks(id) {\n      for (let i = 0; i < this.$store.state.tasks.length; i++) {\n        if (this.$store.state.tasks[i].id === id) {\n          return i\n        }\n      }\n      return -1\n    },\n  },\n  beforeMount() {\n    console.log('hi there')\n    this.getTasks()\n  }\n}\n</script>\n\n<style scoped>\n.picker {\n  color: white;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  position: fixed;\n  z-index: 100;\n  overflow: auto;\n  display: flex;\n  padding-top: 80px;\n}\n\n.picker__content {\n  /*overflow-y: scroll;*/\n  display: block;\n  width: 290px;\n  margin: auto;\n\n\n  min-height: 100%;\n  justify-content: space-between;\n  z-index: 200;\n}\n</style>"]}]}