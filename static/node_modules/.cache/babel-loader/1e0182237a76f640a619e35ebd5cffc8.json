{"remainingRequest":"/Users/mac/Desktop/newProject/node_modules/babel-loader/lib/index.js!/Users/mac/Desktop/newProject/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mac/Desktop/newProject/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/Desktop/newProject/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/Desktop/newProject/src/App.vue","mtime":1656250382982},{"path":"/Users/mac/Desktop/newProject/babel.config.js","mtime":1653650336335},{"path":"/Users/mac/Desktop/newProject/node_modules/cache-loader/dist/cjs.js","mtime":1656160197065},{"path":"/Users/mac/Desktop/newProject/node_modules/babel-loader/lib/index.js","mtime":1656160197672},{"path":"/Users/mac/Desktop/newProject/node_modules/cache-loader/dist/cjs.js","mtime":1656160197065},{"path":"/Users/mac/Desktop/newProject/node_modules/vue-loader/lib/index.js","mtime":1656160198005}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN1YnN0ci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmRhdGUudG8taXNvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmRhdGUudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS5ub3cuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi50aW1lcnMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLyBpbXBvcnQge0Jhcn0gZnJvbSAndnVlLWNoYXJ0anMvbGVnYWN5JwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FwcCcsCiAgLy8gY29tcG9uZW50czoge0Jhcn0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBhZ2U6ICdhZGQnLAogICAgICBpc0NoYW5nZUV2ZW50OiBmYWxzZSwKICAgICAgbmV3RXZlbnQ6ICIiLAogICAgICB0aW1lUGlja2VyOiAiIiwKICAgICAgc2VsZWN0ZWRFdmVudEluZGV4OiAtMSwKICAgICAgZGF0ZVBpY2tlcjogbmV3IERhdGUoRGF0ZS5ub3coKSAtIG5ldyBEYXRlKCkuZ2V0VGltZXpvbmVPZmZzZXQoKSAqIDYwMDAwKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCkKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBhZGQ6IGZ1bmN0aW9uIGFkZCh0aXRsZSkgewogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5ldmVudHMucHVzaCh7CiAgICAgICAgdGl0bGU6IHRpdGxlLAogICAgICAgIGR0OiBEYXRlLm5vdygpCiAgICAgIH0pOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZXZlbnRzJywgSlNPTi5zdHJpbmdpZnkodGhpcy4kc3RvcmUuc3RhdGUuZXZlbnRzKSk7CiAgICAgIHRoaXMucGFnZSA9ICdsaXN0JzsKICAgIH0sCiAgICBmaW5kSW5kZXhFdmVudHM6IGZ1bmN0aW9uIGZpbmRJbmRleEV2ZW50cyhpZCkgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuJHN0b3JlLnN0YXRlLmV2ZW50cy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS5ldmVudHNbaV0uZHQgPT09IGlkKSB7CiAgICAgICAgICByZXR1cm4gaTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiAtMTsKICAgIH0sCiAgICBkZWxldGVFdmVudDogZnVuY3Rpb24gZGVsZXRlRXZlbnQoaWQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBpbmRleCA9IHRoaXMuZmluZEluZGV4RXZlbnRzKGlkKTsKICAgICAgdmFyIGV2ZW50ID0gdGhpcy4kc3RvcmUuc3RhdGUuZXZlbnRzW2luZGV4XTsKICAgICAgY29uc29sZS5sb2coImluZGV4ID0gIiwgaW5kZXgpOwogICAgICBjb25zb2xlLmxvZyh7CiAgICAgICAgZXZlbnQ6IGV2ZW50CiAgICAgIH0pOwogICAgICB2YXIgd2FpdFNlY29uZHMgPSAzOwogICAgICBldmVudC53YWl0U2Vjb25kcyA9IHdhaXRTZWNvbmRzOwogICAgICB2YXIgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoIWV2ZW50LmRlbGV0ZWQpIHsKICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZXZlbnRzJywgSlNPTi5zdHJpbmdpZnkoX3RoaXMuJHN0b3JlLnN0YXRlLmV2ZW50cykpOwoKICAgICAgICAgIF90aGlzLiRmb3JjZVVwZGF0ZSgpOwoKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGlmICgtLXdhaXRTZWNvbmRzIDwgMCkgewogICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTsKCiAgICAgICAgICB2YXIgX2luZGV4ID0gX3RoaXMuZmluZEluZGV4RXZlbnRzKGlkKTsKCiAgICAgICAgICBfdGhpcy4kc3RvcmUuc3RhdGUuZXZlbnRzLnNwbGljZShfaW5kZXgsIDEpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBldmVudC53YWl0U2Vjb25kcyA9IHdhaXRTZWNvbmRzOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMuJGZvcmNlVXBkYXRlKCk7CiAgICAgIH0sIDEwMDApOyAvLyB0aGlzLiRzdG9yZS5zdGF0ZS5ldmVudHMuc3BsaWNlKGluZGV4LCAxKQoKICAgICAgZXZlbnQuZGVsZXRlZCA9IERhdGUubm93KCk7CiAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdldmVudHMnLCBKU09OLnN0cmluZ2lmeSh0aGlzLiRzdG9yZS5zdGF0ZS5ldmVudHMpKTsKICAgIH0sCiAgICBjYW1lYmFja0V2ZW50OiBmdW5jdGlvbiBjYW1lYmFja0V2ZW50KGlkKSB7CiAgICAgIHZhciBpbmRleCA9IHRoaXMuZmluZEluZGV4RXZlbnRzKGlkKTsKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZXZlbnRzW2luZGV4XS5kZWxldGVkID0gMDsKICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTsKICAgIH0sCiAgICBjcmVhdGVFdmVudDogZnVuY3Rpb24gY3JlYXRlRXZlbnQoKSB7CiAgICAgIGlmICh0aGlzLm5ld0V2ZW50ICE9PSAiIikgewogICAgICAgIC8vIGFsZXJ0KCJuZXdFdmVudCIpCiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUudGl0bGVzLnB1c2godGhpcy5uZXdFdmVudCk7CiAgICAgICAgY29uc29sZS5sb2codGhpcy4kc3RvcmUuc3RhdGUudGl0bGVzKTsKICAgICAgICB0aGlzLm5ld0V2ZW50ID0gIiI7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RpdGxlcycsIEpTT04uc3RyaW5naWZ5KHRoaXMuJHN0b3JlLnN0YXRlLnRpdGxlcykpOwogICAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7CiAgICAgIH0KICAgIH0sCiAgICBjaGFuZ2VFdmVudDogZnVuY3Rpb24gY2hhbmdlRXZlbnQoaWQpIHsKICAgICAgdmFyIGluZGV4ID0gdGhpcy5maW5kSW5kZXhFdmVudHMoaWQpOwogICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHRoaXMuJHN0b3JlLnN0YXRlLmV2ZW50c1tpbmRleF0uZHQpOwogICAgICB0aGlzLnNlbGVjdGVkRXZlbnRJbmRleCA9IGluZGV4OwogICAgICB0aGlzLnRpbWVQaWNrZXIgPSBkYXRlLmdldEhvdXJzKCkgKyAiOiIgKyBkYXRlLmdldE1pbnV0ZXMoKTsKICAgICAgdGhpcy5kYXRlUGlja2VyID0gbmV3IERhdGUoZGF0ZSAtIG5ldyBEYXRlKCkuZ2V0VGltZXpvbmVPZmZzZXQoKSAqIDYwMDAwKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCk7CiAgICAgIHRoaXMuaXNDaGFuZ2VFdmVudCA9IHRydWU7CiAgICB9LAogICAgc2F2ZUV2ZW50Q2hhbmdlczogZnVuY3Rpb24gc2F2ZUV2ZW50Q2hhbmdlcygpIHsKICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSh0aGlzLnRpbWVQaWNrZXIgKyAiICIgKyB0aGlzLmRhdGVQaWNrZXIpOyAvLyBhbGVydChkYXRlICsgIiAtICIgKyBuZXcgRGF0ZSgpKQoKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZXZlbnRzW3RoaXMuc2VsZWN0ZWRFdmVudEluZGV4XS5kdCA9IGRhdGU7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdldmVudHMnLCBKU09OLnN0cmluZ2lmeSh0aGlzLiRzdG9yZS5zdGF0ZS5ldmVudHMpKTsKICAgICAgdGhpcy5pc0NoYW5nZUV2ZW50ID0gZmFsc2U7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA;AAGA;EAEAA,WAFA;EAGA;EACAC,IAJA,kBAIA;IACA;MACAC,WADA;MAEAC,oBAFA;MAGAC,YAHA;MAIAC,cAJA;MAKAC,sBALA;MAMAC;IANA;EASA,CAdA;EAeAC;IACAC,GADA,eACAC,KADA,EACA;MACA;QACAA,YADA;QAEAC;MAFA;MAIAC;MACA;IACA,CARA;IASAC,eATA,2BASAC,EATA,EASA;MACA;QACA;UACA;QACA;MACA;;MACA;IACA,CAhBA;IAiBAC,WAjBA,uBAiBAD,EAjBA,EAiBA;MAAA;;MACA;MACA;MAEAE;MACAA;QAAAC;MAAA;MAEA;MACAA;MACA;QACA;UACAC;UACAN;;UACA;;UACA;QACA;;QACA;UACAM;;UACA;;UACA;QACA,CAJA,MAIA;UACAD;QACA;;QACA;MACA,CAfA,EAeA,IAfA,EATA,CA0BA;;MAEAA;MACA;MACAL;IACA,CAhDA;IAiDAO,aAjDA,yBAiDAL,EAjDA,EAiDA;MACA;MACA;MACA;IACA,CArDA;IAsDAM,WAtDA,yBAsDA;MACA;QACA;QACA;QACAJ;QACA;QACAJ;QACA;MACA;IACA,CA/DA;IAgEAS,WAhEA,uBAgEAP,EAhEA,EAgEA;MACA;MACA;MACA;MACA;MACA;MACA;IACA,CAvEA;IAwEAQ,gBAxEA,8BAwEA;MACA,6DADA,CAEA;;MACA;MACAV;MACA;IACA;EA9EA;AAfA","names":["name","data","page","isChangeEvent","newEvent","timePicker","selectedEventIndex","datePicker","methods","add","title","dt","localStorage","findIndexEvents","id","deleteEvent","console","event","clearInterval","camebackEvent","createEvent","changeEvent","saveEventChanges"],"sourceRoot":"src","sources":["App.vue"],"sourcesContent":["<template>\r\n  <v-app style=\"padding: 20px;\">\r\n    <template v-if=\"page==='add'\">\r\n      <v-btn class=\"mb-2\" @click=\"page='list'\" color=\"primary\">Show all</v-btn>\r\n      <v-btn @click=\"add(title)\" class=\"mb-2\" v-for=\"title in $store.state.titles\" :key=\"title\">{{ title }}</v-btn>\r\n      <v-text-field\r\n          height=\"5\"\r\n          label=\"ü•¥ –Ω–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ\"\r\n          solo\r\n          v-model=\"newEvent\"\r\n          @cancel=\"createEvent\"\r\n          @\r\n      ></v-text-field>\r\n      <v-btn @click=\"createEvent\">add</v-btn>\r\n    </template>\r\n    <template v-else>\r\n\r\n      <v-btn class=\"mb-2\" style=\"display: flex\" @click=\"page='add'\" color=\"primary\">+ Add</v-btn>\r\n\r\n      <template v-if=\"isChangeEvent\">\r\n        <div class=\"picker\" @click=\"isChangeEvent=false\">\r\n          <div class=\"picker__content\" @click.stop>\r\n            <slot>\r\n              <v-row justify=\"space-around\">\r\n                <v-time-picker\r\n                    format=\"ampm\"\r\n                    v-model=\"timePicker\"\r\n                ></v-time-picker>\r\n                <v-date-picker\r\n                    v-model=\"datePicker\"\r\n                    color=\"primary lighten-1\"\r\n                ></v-date-picker>\r\n                <v-btn class=\"mb-2\" width=\"290px\"\r\n                       @click=\"saveEventChanges\"\r\n                       color=\"primary\">save\r\n                </v-btn>\r\n\r\n              </v-row>\r\n              {{ timePicker }}\r\n              {{ datePicker }}\r\n            </slot>\r\n          </div>\r\n        </div>\r\n      </template>\r\n\r\n\r\n      <div style=\"display: flex;justify-content: space-between;\" v-for=\"(event,index) in $store.state.events\"\r\n           :key=\"event.title+event.dt\">\r\n        <div :style=\"event.deleted?'opacity: 0.5':''\"\r\n             style=\"font-size: 18px;text-transform: capitalize;display: flex;align-items: center;\">{{ event.title }}\r\n        </div>\r\n        <div>\r\n          <span v-if=\"!event.deleted\" style=\"color: #555;font-size: 12px\">{{ $moment(event.dt).fromNow() }}</span>\r\n          <span v-else style=\"color: #555;font-size: 12px;padding-right: 10px\">{{ event.waitSeconds }}—Å</span>\r\n          <v-btn v-if=\"!event.deleted\" @click=\"changeEvent(event.dt)\" icon>‚úèÔ∏è</v-btn>\r\n          <v-btn v-if=\"event.deleted\" @click=\"camebackEvent(event.dt)\" text small>–≤–µ—Ä–Ω—É—Ç—å ‚Ü©Ô∏é</v-btn>\r\n          <v-btn v-else @click=\"deleteEvent(event.dt)\" icon>üóë</v-btn>\r\n        </div>\r\n      </div>\r\n      {{ timePicker }}\r\n    </template>\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\n// import {Bar} from 'vue-chartjs/legacy'\r\n\r\n\r\nexport default {\r\n\r\n  name: 'App',\r\n  // components: {Bar},\r\n  data() {\r\n    return {\r\n      page: 'add',\r\n      isChangeEvent: false,\r\n      newEvent: \"\",\r\n      timePicker: \"\",\r\n      selectedEventIndex: -1,\r\n      datePicker: (new Date(Date.now() - (new Date()).getTimezoneOffset() * 60000)).toISOString().substr(0, 10),\r\n\r\n    }\r\n  },\r\n  methods: {\r\n    add(title) {\r\n      this.$store.state.events.push({\r\n        title,\r\n        dt: Date.now()\r\n      })\r\n      localStorage.setItem('events', JSON.stringify(this.$store.state.events))\r\n      this.page = 'list';\r\n    },\r\n    findIndexEvents(id) {\r\n      for (let i = 0; i < this.$store.state.events.length; i++) {\r\n        if (this.$store.state.events[i].dt === id) {\r\n          return i\r\n        }\r\n      }\r\n      return -1\r\n    },\r\n    deleteEvent(id) {\r\n      let index = this.findIndexEvents(id)\r\n      let event = this.$store.state.events[index]\r\n\r\n      console.log(\"index = \", index)\r\n      console.log({event})\r\n\r\n      let waitSeconds = 3\r\n      event.waitSeconds = waitSeconds\r\n      let intervalId = setInterval(() => {\r\n        if (!event.deleted) {\r\n          clearInterval(intervalId)\r\n          localStorage.setItem('events', JSON.stringify(this.$store.state.events))\r\n          this.$forceUpdate()\r\n          return\r\n        }\r\n        if (--waitSeconds < 0) {\r\n          clearInterval(intervalId);\r\n          let index = this.findIndexEvents(id)\r\n          this.$store.state.events.splice(index, 1)\r\n        } else {\r\n          event.waitSeconds = waitSeconds\r\n        }\r\n        this.$forceUpdate()\r\n      }, 1000);\r\n\r\n      // this.$store.state.events.splice(index, 1)\r\n\r\n      event.deleted = Date.now();\r\n      this.$forceUpdate();\r\n      localStorage.setItem('events', JSON.stringify(this.$store.state.events))\r\n    },\r\n    camebackEvent(id) {\r\n      let index = this.findIndexEvents(id)\r\n      this.$store.state.events[index].deleted = 0\r\n      this.$forceUpdate();\r\n    },\r\n    createEvent() {\r\n      if (this.newEvent !== \"\") {\r\n        // alert(\"newEvent\")\r\n        this.$store.state.titles.push(this.newEvent)\r\n        console.log(this.$store.state.titles)\r\n        this.newEvent = \"\"\r\n        localStorage.setItem('titles', JSON.stringify(this.$store.state.titles))\r\n        this.$forceUpdate();\r\n      }\r\n    },\r\n    changeEvent(id) {\r\n      let index = this.findIndexEvents(id)\r\n      let date = new Date(this.$store.state.events[index].dt)\r\n      this.selectedEventIndex = index\r\n      this.timePicker = date.getHours() + \":\" + date.getMinutes()\r\n      this.datePicker = (new Date(date - (new Date()).getTimezoneOffset() * 60000)).toISOString().substr(0, 10)\r\n      this.isChangeEvent = true\r\n    },\r\n    saveEventChanges() {\r\n      let date = new Date(this.timePicker + \" \" + this.datePicker)\r\n      // alert(date + \" - \" + new Date())\r\n      this.$store.state.events[this.selectedEventIndex].dt = date\r\n      localStorage.setItem('events', JSON.stringify(this.$store.state.events))\r\n      this.isChangeEvent = false\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nbody {\r\n  min-height: 200vh;\r\n}\r\n\r\n.picker {\r\n  top: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  left: 0;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  position: fixed;\r\n  display: flex;\r\n}\r\n\r\n.picker__content {\r\n  display: block;\r\n  width: 290px;\r\n  margin: auto;\r\n  margin-top: 80px;\r\n  min-height: 100%;\r\n  justify-content: space-between;\r\n\r\n}\r\n</style>\r\n"]}]}