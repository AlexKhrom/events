{"remainingRequest":"/Users/mac/go/src/events/static/node_modules/thread-loader/dist/cjs.js!/Users/mac/go/src/events/static/node_modules/babel-loader/lib/index.js!/Users/mac/go/src/events/static/node_modules/vuetify/lib/services/lang/index.js","dependencies":[{"path":"/Users/mac/go/src/events/static/node_modules/vuetify/lib/services/lang/index.js","mtime":1656160201598},{"path":"/Users/mac/go/src/events/static/babel.config.js","mtime":1653650336335},{"path":"/Users/mac/go/src/events/static/node_modules/cache-loader/dist/cjs.js","mtime":1656160197065},{"path":"/Users/mac/go/src/events/static/node_modules/thread-loader/dist/cjs.js","mtime":1656160197065},{"path":"/Users/mac/go/src/events/static/node_modules/babel-loader/lib/index.js","mtime":1656160197672}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvbWFjL2dvL3NyYy9ldmVudHMvc3RhdGljL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjay5qcyI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL21hYy9nby9zcmMvZXZlbnRzL3N0YXRpYy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MuanMiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIi9Vc2Vycy9tYWMvZ28vc3JjL2V2ZW50cy9zdGF0aWMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzLmpzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICIvVXNlcnMvbWFjL2dvL3NyYy9ldmVudHMvc3RhdGljL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKLy8gRXh0ZW5zaW9ucwppbXBvcnQgeyBTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZSc7IC8vIFV0aWxpdGllcwoKaW1wb3J0IHsgZ2V0T2JqZWN0VmFsdWVCeVBhdGggfSBmcm9tICcuLi8uLi91dGlsL2hlbHBlcnMnOwppbXBvcnQgeyBjb25zb2xlRXJyb3IsIGNvbnNvbGVXYXJuIH0gZnJvbSAnLi4vLi4vdXRpbC9jb25zb2xlJzsKdmFyIExBTkdfUFJFRklYID0gJyR2dWV0aWZ5Lic7CnZhciBmYWxsYmFjayA9IFN5bWJvbCgnTGFuZyBmYWxsYmFjaycpOwoKZnVuY3Rpb24gZ2V0VHJhbnNsYXRpb24obG9jYWxlLCBrZXkpIHsKICB2YXIgdXNpbmdEZWZhdWx0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTsKICB2YXIgZGVmYXVsdExvY2FsZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzID8gYXJndW1lbnRzWzNdIDogdW5kZWZpbmVkOwogIHZhciBzaG9ydEtleSA9IGtleS5yZXBsYWNlKExBTkdfUFJFRklYLCAnJyk7CiAgdmFyIHRyYW5zbGF0aW9uID0gZ2V0T2JqZWN0VmFsdWVCeVBhdGgobG9jYWxlLCBzaG9ydEtleSwgZmFsbGJhY2spOwoKICBpZiAodHJhbnNsYXRpb24gPT09IGZhbGxiYWNrKSB7CiAgICBpZiAodXNpbmdEZWZhdWx0KSB7CiAgICAgIGNvbnNvbGVFcnJvcigiVHJhbnNsYXRpb24ga2V5IFwiIi5jb25jYXQoc2hvcnRLZXksICJcIiBub3QgZm91bmQgaW4gZmFsbGJhY2siKSk7CiAgICAgIHRyYW5zbGF0aW9uID0ga2V5OwogICAgfSBlbHNlIHsKICAgICAgY29uc29sZVdhcm4oIlRyYW5zbGF0aW9uIGtleSBcIiIuY29uY2F0KHNob3J0S2V5LCAiXCIgbm90IGZvdW5kLCBmYWxsaW5nIGJhY2sgdG8gZGVmYXVsdCIpKTsKICAgICAgdHJhbnNsYXRpb24gPSBnZXRUcmFuc2xhdGlvbihkZWZhdWx0TG9jYWxlLCBrZXksIHRydWUsIGRlZmF1bHRMb2NhbGUpOwogICAgfQogIH0KCiAgcmV0dXJuIHRyYW5zbGF0aW9uOwp9CgpleHBvcnQgdmFyIExhbmcgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9TZXJ2aWNlKSB7CiAgX2luaGVyaXRzKExhbmcsIF9TZXJ2aWNlKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihMYW5nKTsKCiAgZnVuY3Rpb24gTGFuZyhwcmVzZXQpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTGFuZyk7CgogICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKTsKICAgIF90aGlzLmRlZmF1bHRMb2NhbGUgPSAnZW4nOwogICAgdmFyIF9wcmVzZXQkTGFuZyRwcm9wZXJ0eSA9IHByZXNldFtMYW5nLnByb3BlcnR5XSwKICAgICAgICBjdXJyZW50ID0gX3ByZXNldCRMYW5nJHByb3BlcnR5LmN1cnJlbnQsCiAgICAgICAgbG9jYWxlcyA9IF9wcmVzZXQkTGFuZyRwcm9wZXJ0eS5sb2NhbGVzLAogICAgICAgIHQgPSBfcHJlc2V0JExhbmckcHJvcGVydHkudDsKICAgIF90aGlzLmN1cnJlbnQgPSBjdXJyZW50OwogICAgX3RoaXMubG9jYWxlcyA9IGxvY2FsZXM7CiAgICBfdGhpcy50cmFuc2xhdG9yID0gdCB8fCBfdGhpcy5kZWZhdWx0VHJhbnNsYXRvcjsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhMYW5nLCBbewogICAga2V5OiAiY3VycmVudExvY2FsZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY3VycmVudExvY2FsZShrZXkpIHsKICAgICAgdmFyIHRyYW5zbGF0aW9uID0gdGhpcy5sb2NhbGVzW3RoaXMuY3VycmVudF07CiAgICAgIHZhciBkZWZhdWx0TG9jYWxlID0gdGhpcy5sb2NhbGVzW3RoaXMuZGVmYXVsdExvY2FsZV07CiAgICAgIHJldHVybiBnZXRUcmFuc2xhdGlvbih0cmFuc2xhdGlvbiwga2V5LCBmYWxzZSwgZGVmYXVsdExvY2FsZSk7CiAgICB9CiAgfSwgewogICAga2V5OiAidCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdChrZXkpIHsKICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHBhcmFtcyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7CiAgICAgICAgcGFyYW1zW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgICAgfQoKICAgICAgaWYgKCFrZXkuc3RhcnRzV2l0aChMQU5HX1BSRUZJWCkpIHJldHVybiB0aGlzLnJlcGxhY2Uoa2V5LCBwYXJhbXMpOwogICAgICByZXR1cm4gdGhpcy50cmFuc2xhdG9yLmFwcGx5KHRoaXMsIFtrZXldLmNvbmNhdChwYXJhbXMpKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJkZWZhdWx0VHJhbnNsYXRvciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZGVmYXVsdFRyYW5zbGF0b3Ioa2V5KSB7CiAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgcGFyYW1zID0gbmV3IEFycmF5KF9sZW4yID4gMSA/IF9sZW4yIC0gMSA6IDApLCBfa2V5MiA9IDE7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHsKICAgICAgICBwYXJhbXNbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLnJlcGxhY2UodGhpcy5jdXJyZW50TG9jYWxlKGtleSksIHBhcmFtcyk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVwbGFjZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVwbGFjZShzdHIsIHBhcmFtcykgewogICAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1x7KFxkKylcfS9nLCBmdW5jdGlvbiAobWF0Y2gsIGluZGV4KSB7CiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8KICAgICAgICByZXR1cm4gU3RyaW5nKHBhcmFtc1sraW5kZXhdKTsKICAgICAgfSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gTGFuZzsKfShTZXJ2aWNlKTsKTGFuZy5wcm9wZXJ0eSA9ICdsYW5nJzs="},{"version":3,"mappings":";;;;;;;;;;;AAAA;AACA,SAASA,OAAT,QAAwB,YAAxB,C,CAEA;;AACA,SAASC,oBAAT,QAAqC,oBAArC;AACA,SAASC,YAAT,EAAuBC,WAAvB,QAA0C,oBAA1C;AASA,IAAMC,WAAW,GAAG,WAApB;AACA,IAAMC,QAAQ,GAAGC,MAAM,CAAC,eAAD,CAAvB;;AAEA,SAASC,cAAT,CACEC,MADF,EAEEC,GAFF,EAI8B;EAAA,IAD5BC,YAC4B,uEADb,KACa;EAAA,IAA5BC,aAA4B;EAE5B,IAAMC,QAAQ,GAAGH,GAAG,CAACI,OAAJ,CAAYT,WAAZ,EAAyB,EAAzB,CAAjB;EACA,IAAIU,WAAW,GAAGb,oBAAoB,CAACO,MAAD,EAASI,QAAT,EAAmBP,QAAnB,CAAtC;;EAEA,IAAIS,WAAW,KAAKT,QAApB,EAA8B;IAC5B,IAAIK,YAAJ,EAAkB;MAChBR,YAAY,6BAAqBU,QAArB,8BAAZ;MACAE,WAAW,GAAGL,GAAd;IAFF,OAGO;MACLN,WAAW,6BAAqBS,QAArB,2CAAX;MACAE,WAAW,GAAGP,cAAc,CAACI,aAAD,EAAgBF,GAAhB,EAAqB,IAArB,EAA2BE,aAA3B,CAA5B;IACD;EACF;;EAED,OAAOG,WAAP;AACD;;AAED,WAAaC,IAAb;EAAA;;EAAA;;EAWE,cAAaC,MAAb,EAAkC;IAAA;;IAAA;;IAChC;IAPK,sBAAgB,IAAhB;IASL,4BAIIA,MAAM,CAACD,IAAI,CAACE,QAAN,CAJV;IAAA,IACEC,OADF,yBACEA,OADF;IAAA,IAEEC,OAFF,yBAEEA,OAFF;IAAA,IAGEC,CAHF,yBAGEA,CAHF;IAMA,MAAKF,OAAL,GAAeA,OAAf;IACA,MAAKC,OAAL,GAAeA,OAAf;IACA,MAAKE,UAAL,GAAkBD,CAAC,IAAI,MAAKE,iBAA5B;IAXgC;EAYjC;;EAvBH;IAAA;IAAA,OAyBS,uBAAeb,GAAf,EAA0B;MAC/B,IAAMK,WAAW,GAAG,KAAKK,OAAL,CAAa,KAAKD,OAAlB,CAApB;MACA,IAAMP,aAAa,GAAG,KAAKQ,OAAL,CAAa,KAAKR,aAAlB,CAAtB;MAEA,OAAOJ,cAAc,CAACO,WAAD,EAAcL,GAAd,EAAmB,KAAnB,EAA0BE,aAA1B,CAArB;IACD;EA9BH;IAAA;IAAA,OAgCS,WAAGF,GAAH,EAAgC;MAAA,kCAAbc,MAAa;QAAbA,MAAa;MAAA;;MACrC,IAAI,CAACd,GAAG,CAACe,UAAJ,CAAepB,WAAf,CAAL,EAAkC,OAAO,KAAKS,OAAL,CAAaJ,GAAb,EAAkBc,MAAlB,CAAP;MAElC,OAAO,KAAKF,UAAL,cAAgBZ,GAAhB,SAAwBc,MAAxB,EAAP;IACD;EApCH;IAAA;IAAA,OAsCU,2BAAmBd,GAAnB,EAAgD;MAAA,mCAAbc,MAAa;QAAbA,MAAa;MAAA;;MACtD,OAAO,KAAKV,OAAL,CAAa,KAAKY,aAAL,CAAmBhB,GAAnB,CAAb,EAAsCc,MAAtC,CAAP;IACD;EAxCH;IAAA;IAAA,OA0CU,iBAASG,GAAT,EAAsBH,MAAtB,EAAmC;MACzC,OAAOG,GAAG,CAACb,OAAJ,CAAY,YAAZ,EAA0B,UAACc,KAAD,EAAgBC,KAAhB,EAAiC;QAChE;QACA,OAAOC,MAAM,CAACN,MAAM,CAAC,CAACK,KAAF,CAAP,CAAb;MAFK,EAAP;IAID;EA/CH;;EAAA;AAAA,EAA0B5B,OAA1B;AACSe,gBAAmB,MAAnB","names":["Service","getObjectValueByPath","consoleError","consoleWarn","LANG_PREFIX","fallback","Symbol","getTranslation","locale","key","usingDefault","defaultLocale","shortKey","replace","translation","Lang","preset","property","current","locales","t","translator","defaultTranslator","params","startsWith","currentLocale","str","match","index","String"],"sourceRoot":"","sources":["../../../src/services/lang/index.ts"],"sourcesContent":["// Extensions\nimport { Service } from '../service'\n\n// Utilities\nimport { getObjectValueByPath } from '../../util/helpers'\nimport { consoleError, consoleWarn } from '../../util/console'\n\n// Types\nimport { VuetifyPreset } from 'vuetify/types/services/presets'\nimport {\n  VuetifyLocale,\n  Lang as ILang,\n} from 'vuetify/types/services/lang'\n\nconst LANG_PREFIX = '$vuetify.'\nconst fallback = Symbol('Lang fallback')\n\nfunction getTranslation (\n  locale: VuetifyLocale,\n  key: string,\n  usingDefault = false,\n  defaultLocale: VuetifyLocale\n): string {\n  const shortKey = key.replace(LANG_PREFIX, '')\n  let translation = getObjectValueByPath(locale, shortKey, fallback) as string | typeof fallback\n\n  if (translation === fallback) {\n    if (usingDefault) {\n      consoleError(`Translation key \"${shortKey}\" not found in fallback`)\n      translation = key\n    } else {\n      consoleWarn(`Translation key \"${shortKey}\" not found, falling back to default`)\n      translation = getTranslation(defaultLocale, key, true, defaultLocale)\n    }\n  }\n\n  return translation\n}\n\nexport class Lang extends Service implements ILang {\n  static property: 'lang' = 'lang'\n\n  public current: ILang['current']\n\n  public defaultLocale = 'en'\n\n  public locales: ILang['locales']\n\n  private translator: ILang['t']\n\n  constructor (preset: VuetifyPreset) {\n    super()\n\n    const {\n      current,\n      locales,\n      t,\n    } = preset[Lang.property]\n\n    this.current = current\n    this.locales = locales\n    this.translator = t || this.defaultTranslator\n  }\n\n  public currentLocale (key: string) {\n    const translation = this.locales[this.current]\n    const defaultLocale = this.locales[this.defaultLocale]\n\n    return getTranslation(translation, key, false, defaultLocale)\n  }\n\n  public t (key: string, ...params: any[]) {\n    if (!key.startsWith(LANG_PREFIX)) return this.replace(key, params)\n\n    return this.translator(key, ...params)\n  }\n\n  private defaultTranslator (key: string, ...params: any[]) {\n    return this.replace(this.currentLocale(key), params)\n  }\n\n  private replace (str: string, params: any[]) {\n    return str.replace(/\\{(\\d+)\\}/g, (match: string, index: string) => {\n      /* istanbul ignore next */\n      return String(params[+index])\n    })\n  }\n}\n"]}]}