{"remainingRequest":"/Users/mac/go/src/events/static/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/go/src/events/static/src/components/CreatTask.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/go/src/events/static/src/components/CreatTask.vue","mtime":1660568148832},{"path":"/Users/mac/go/src/events/static/node_modules/cache-loader/dist/cjs.js","mtime":1656160197065},{"path":"/Users/mac/go/src/events/static/node_modules/babel-loader/lib/index.js","mtime":1656160197672},{"path":"/Users/mac/go/src/events/static/node_modules/cache-loader/dist/cjs.js","mtime":1656160197065},{"path":"/Users/mac/go/src/events/static/node_modules/vue-loader/lib/index.js","mtime":1656160198005}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJjcmVhdFRhc2siLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc05ld1Rhc2s6IGZhbHNlLAogICAgICBkYXRlc1Rhc2s6IFsnMjAxOS0wOS0xMCcsICcyMDE5LTA5LTIwJ10sCiAgICAgIHRhc2tUaXRsZTogIiIsCiAgICAgIGl0ZW1zOiBbJ3RpbWUnLCAnbXkgdHlwZSddLAogICAgICB0eXBlT2ZUYXNrU2VsZWN0OiAidGltZSIsCiAgICAgIHRhc2tIb3VyczogIiIsCiAgICAgIHRhc2tNaW51dGVzOiAiIiwKICAgICAgdGFza0NvdW50OiAiIiwKICAgICAgdGFza015VHlwZTogIiIsCgogICAgICBjb2RlUnVsZXM6IFsKICAgICAgICB2ID0+ICEhdiB8fCAnY29kZSBpcyByZXF1aXJlZCcsCiAgICAgICAgdiA9PiAodiAmJiB2Lmxlbmd0aCA8PSAyMCkgfHwgJ2NvZGUgbXVzdCBiZSA0IGNoYXJhY3RlcnMnLAogICAgICBdLAogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGRhdGVSYW5nZVRleHQoKSB7CiAgICAgIHJldHVybiB0aGlzLmRhdGVzVGFzay5qb2luKCcgfiAnKQogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIGNyZWF0VGFzaygpIHsKICAgICAgbGV0IG51bSA9IDA7CiAgICAgIGxldCB0eXBlID0gIiI7CiAgICAgIGlmICh0aGlzLnR5cGVPZlRhc2tTZWxlY3QgPT09ICJ0aW1lIikgewogICAgICAgIGlmIChpc05hTihwYXJzZUludCh0aGlzLnRhc2tIb3VycykpKSB7CiAgICAgICAgICBhbGVydCgiaG91cnMgc2hvdWxkIGJlIGludGVnZXIiKQogICAgICAgICAgcmV0dXJuCiAgICAgICAgfQogICAgICAgIGlmIChpc05hTihwYXJzZUludCh0aGlzLnRhc2tNaW51dGVzKSkpIHsKICAgICAgICAgIGFsZXJ0KCJtaW51dGVzIHNob3VsZCBiZSBpbnRlZ2VyIikKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgbnVtID0gKHBhcnNlSW50KHRoaXMudGFza0hvdXJzKSo2MCtwYXJzZUludCh0aGlzLnRhc2tNaW51dGVzKSkqNjAKICAgICAgICB0eXBlID0gInRpbWUiCiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKGlzTmFOKHBhcnNlSW50KHRoaXMudGFza0NvdW50KSkpIHsKICAgICAgICAgIGFsZXJ0KCJjb3VudCBzaG91bGQgYmUgaW50ZWdlciIpCiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIG51bSA9IHBhcnNlSW50KHRoaXMudGFza0NvdW50KQogICAgICAgIHR5cGUgPSB0aGlzLnRhc2tNeVR5cGUKICAgICAgfQoKICAgICAgaWYodGhpcy5tYWtlRGF0ZSh0aGlzLmRhdGVzVGFza1swXSkuZ2V0VGltZSgpLzEwMDA+dGhpcy5tYWtlRGF0ZSh0aGlzLmRhdGVzVGFza1sxXSkuZ2V0VGltZSgpLzEwMDApewogICAgICAgIGxldCB0bXAgPSB0aGlzLmRhdGVzVGFza1swXQogICAgICAgIHRoaXMuZGF0ZXNUYXNrWzBdID0gdGhpcy5kYXRlc1Rhc2tbMV0KICAgICAgICB0aGlzLmRhdGVzVGFza1sxXSA9IHRtcAogICAgICB9CgoKICAgICAgbGV0IG5ld1Rhc2sgPSB7CiAgICAgICAgdGltZVN0YXJ0OiB0aGlzLm1ha2VEYXRlKHRoaXMuZGF0ZXNUYXNrWzBdKS5nZXRUaW1lKCkvMTAwMCwvL3NlY29uZHMKICAgICAgICB0aW1lRW5kOiB0aGlzLm1ha2VEYXRlKHRoaXMuZGF0ZXNUYXNrWzFdKS5nZXRUaW1lKCkvMTAwMCwvL3NlY29uZHMKICAgICAgICB0aXRsZTogdGhpcy50YXNrVGl0bGUsCiAgICAgICAgbnVtOiBudW0sLy9pZiB0eXBlPT10aW1lIC0gc2Vjb25kcwogICAgICAgIHR5cGU6IHR5cGUsCiAgICAgIH0KICAgICAgdGhpcy4kc3RvcmUuc3RhdGUudGFza3MucHVzaChuZXdUYXNrKQogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndGFza3MnLCBKU09OLnN0cmluZ2lmeSh0aGlzLiRzdG9yZS5zdGF0ZS50YXNrcykpCiAgICAgIGNvbnNvbGUubG9nKG5ld1Rhc2spCiAgICAgIHRoaXMuJGVtaXQoImlzTmV3VGFza0NoYW5nZSIsZmFsc2UpCiAgICB9LAogICAgbWFrZUhvdXJzQW5kTWludXRlc1N0cihkYXRlKSB7CiAgICAgIGxldCBob3VycyA9IGRhdGUuZ2V0SG91cnMoKQogICAgICBsZXQgbWludXRlcyA9IGRhdGUuZ2V0TWludXRlcygpCiAgICAgIGhvdXJzID0gaG91cnMudG9TdHJpbmcoKS5sZW5ndGggPT09IDEgPyAnMCcgKyBob3VycyA6IGhvdXJzCiAgICAgIG1pbnV0ZXMgPSBtaW51dGVzLnRvU3RyaW5nKCkubGVuZ3RoID09PSAxID8gJzAnICsgbWludXRlcyA6IG1pbnV0ZXMKICAgICAgcmV0dXJuIGhvdXJzICsgJzonICsgbWludXRlcwogICAgfSwKICAgIG1ha2VEYXRlKGRhdGUsIHRpbWUsIHNlY29uZHMsIG1pbGxpc2Vjb25kcykgewogICAgICBkYXRlID0gZGF0ZSA9PT0gdW5kZWZpbmVkID8gIiIgOiBkYXRlCiAgICAgIHRpbWUgPSB0aW1lID09PSB1bmRlZmluZWQgPyAiIiA6ICJUIiArIHRpbWUKICAgICAgaWYgKHNlY29uZHMgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHNlY29uZHMgPSBzZWNvbmRzLnRvU3RyaW5nKCkubGVuZ3RoID09PSAxID8gJzAnICsgc2Vjb25kcyA6IHNlY29uZHMKICAgICAgfQogICAgICBzZWNvbmRzID0gc2Vjb25kcyA9PT0gdW5kZWZpbmVkID8gIiIgOiAiOiIgKyBzZWNvbmRzCiAgICAgIG1pbGxpc2Vjb25kcyA9IG1pbGxpc2Vjb25kcyA9PT0gdW5kZWZpbmVkID8gIiIgOiAiLiIgKyBtaWxsaXNlY29uZHMKICAgICAgY29uc29sZS5sb2coIm1ha2UgRGF0ZSA9ICIsIGRhdGUgKyB0aW1lICsgc2Vjb25kcyArIG1pbGxpc2Vjb25kcykKCiAgICAgIHJldHVybiBuZXcgRGF0ZShkYXRlICsgdGltZSArIHNlY29uZHMgKyBtaWxsaXNlY29uZHMpCiAgICB9LAogICAgZ2V0Q3VycmVudFdlZWsoKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKHBhcnNlSW50KG5ldyBEYXRlKCkuZ2V0KCkpKQoKICAgICAgbGV0IGRheSA9IChuZXcgRGF0ZSgpKS5nZXREYXkoKSAtIDEKICAgICAgaWYgKGRheSA9PT0gLTEpIHsKICAgICAgICBkYXkgPSA2CiAgICAgIH0KCiAgICAgIGxldCBzdGFydERhdGUgPSBuZXcgRGF0ZSgobmV3IERhdGUoKSkuZ2V0VGltZSgpIC0gZGF5ICogMTAwMCAqIDYwICogNjAgKiAyNCkKICAgICAgbGV0IGVuZERhdGUgPSBuZXcgRGF0ZShzdGFydERhdGUuZ2V0VGltZSgpICsgMTAwMCAqIDYwICogNjAgKiAyNCAqIDYpCgogICAgICBsZXQgc3RhcnRNb250aCA9IHN0YXJ0RGF0ZS5nZXRVVENNb250aCgpICsgMQogICAgICBsZXQgZW5kTU9udGggPSBlbmREYXRlLmdldFVUQ01vbnRoKCkgKyAxCgogICAgICBzdGFydE1vbnRoLnRvU3RyaW5nKCkubGVuZ3RoID09PSAxID8gc3RhcnRNb250aCA9ICIwIiArIHN0YXJ0TW9udGggOiBzdGFydE1vbnRoID0gIiIgKyBzdGFydE1vbnRoCiAgICAgIGVuZE1PbnRoLnRvU3RyaW5nKCkubGVuZ3RoID09PSAxID8gZW5kTU9udGggPSAiMCIgKyBlbmRNT250aCA6IHN0YXJ0TW9udGggPSAiIiArIGVuZE1PbnRoCgogICAgICBsZXQgc3RhcnREYXkgPSBzdGFydERhdGUuZ2V0VVRDRGF0ZSgpCiAgICAgIGxldCBlbmREYXkgPSBlbmREYXRlLmdldFVUQ0RhdGUoKQoKICAgICAgc3RhcnREYXkudG9TdHJpbmcoKS5sZW5ndGggPT09IDEgPyBzdGFydERheSA9ICIwIiArIHN0YXJ0RGF5IDogc3RhcnREYXkgPSAiIiArIHN0YXJ0RGF5CiAgICAgIGVuZERheS50b1N0cmluZygpLmxlbmd0aCA9PT0gMSA/IGVuZERheSA9ICIwIiArIGVuZERheSA6IGVuZERheSA9ICIiICsgZW5kRGF5CgogICAgICBsZXQgc3RhcnREYXRlU3RyID0gc3RhcnREYXRlLmdldEZ1bGxZZWFyKCkgKyAiLSIgKyBzdGFydE1vbnRoICsgIi0iICsgc3RhcnREYXkKICAgICAgbGV0IGVuZERhdGVTdHIgPSBlbmREYXRlLmdldEZ1bGxZZWFyKCkgKyAiLSIgKyBlbmRNT250aCArICItIiArIGVuZERheQogICAgICBjb25zb2xlLmxvZyhzdGFydERhdGVTdHIpCiAgICAgIGNvbnNvbGUubG9nKGVuZERhdGVTdHIpCgogICAgICBjb25zb2xlLmxvZyhuZXcgRGF0ZShzdGFydERhdGVTdHIpKQogICAgICBjb25zb2xlLmxvZyhuZXcgRGF0ZShlbmREYXRlU3RyKSkKICAgICAgdGhpcy5kYXRlc1Rhc2sgPSBbc3RhcnREYXRlU3RyLCBlbmREYXRlU3RyXQogICAgfSwKICB9LAoKICBiZWZvcmVNb3VudCgpIHsKICAgIHRoaXMuZ2V0Q3VycmVudFdlZWsoKQogIH0sCn0K"},{"version":3,"sources":["CreatTask.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"CreatTask.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <h1>Creat your task:</h1>\n    <template>\n      <v-row>\n        <v-col\n            cols=\"12\"\n            sm=\"6\"\n        >\n          <v-date-picker\n              v-model=\"datesTask\"\n              range\n              color=\"black lighten-1\"\n          ></v-date-picker>\n        </v-col>\n        <v-col\n            cols=\"12\"\n            sm=\"6\"\n        >\n          <v-text-field\n              v-model=\"dateRangeText\"\n              label=\"Date range\"\n              style=\"background-color: white;padding: 20px 20px 0 20px;border-radius: 3px\"\n              prepend-icon=\"mdi-calendar\"\n              readonly\n          ></v-text-field>\n        </v-col>\n      </v-row>\n    </template>\n    <v-text-field\n        style=\"margin-top: 20px\"\n        label=\"ðŸ˜³ to do ...\"\n        solo\n        v-model=\"taskTitle\"\n    ></v-text-field>\n    <v-container grid-list-md text-xs-center>\n      <v-layout row wrap>\n        <v-row>\n          <template v-if=\"typeOfTaskSelect==='time'\">\n            <v-flex xs4 style=\"margin-top: -10px\">\n              <v-text-field\n                  label=\"hours\"\n                  solo\n                  :rules=\"codeRules\"\n                  v-model=\"taskHours\"\n              ></v-text-field>\n            </v-flex>\n            <v-flex xs4 style=\"margin-top: -10px\">\n              <v-text-field\n                  label=\"minutes\"\n                  solo\n                  v-model=\"taskMinutes\"\n              ></v-text-field>\n            </v-flex>\n          </template>\n          <template style=\"margin-top: -10px\" v-if=\"typeOfTaskSelect==='my type'\">\n            <v-flex xs4 style=\"margin-top: -10px\">\n              <v-text-field\n                  label=\"count\"\n                  solo\n                  :rules=\"codeRules\"\n                  v-model=\"taskCount\"\n              ></v-text-field>\n            </v-flex>\n            <v-flex xs4 style=\"margin-top: -10px\">\n              <v-text-field\n                  label=\"type\"\n                  solo\n                  :rules=\"codeRules\"\n                  v-model=\"taskMyType\"\n              ></v-text-field>\n            </v-flex>\n          </template>\n          <v-flex xs4>\n            <v-select\n                style=\"margin-top: -10px\"\n                v-model=\"typeOfTaskSelect\"\n                :items=\"items\"\n                label=\"time\"\n                solo\n            ></v-select>\n          </v-flex>\n        </v-row>\n      </v-layout>\n    </v-container>\n    <v-btn @click=\"creatTask\" color=\"white\" style=\"margin-top: -10px;width: 100%;height: 40px\">creat</v-btn>\n\n  </div>\n</template>\n\n<script>\n\n\nexport default {\n  name: \"creatTask\",\n  data() {\n    return {\n      isNewTask: false,\n      datesTask: ['2019-09-10', '2019-09-20'],\n      taskTitle: \"\",\n      items: ['time', 'my type'],\n      typeOfTaskSelect: \"time\",\n      taskHours: \"\",\n      taskMinutes: \"\",\n      taskCount: \"\",\n      taskMyType: \"\",\n\n      codeRules: [\n        v => !!v || 'code is required',\n        v => (v && v.length <= 20) || 'code must be 4 characters',\n      ],\n    }\n  },\n  computed: {\n    dateRangeText() {\n      return this.datesTask.join(' ~ ')\n    },\n  },\n  methods: {\n    creatTask() {\n      let num = 0;\n      let type = \"\";\n      if (this.typeOfTaskSelect === \"time\") {\n        if (isNaN(parseInt(this.taskHours))) {\n          alert(\"hours should be integer\")\n          return\n        }\n        if (isNaN(parseInt(this.taskMinutes))) {\n          alert(\"minutes should be integer\")\n          return;\n        }\n        num = (parseInt(this.taskHours)*60+parseInt(this.taskMinutes))*60\n        type = \"time\"\n      } else {\n        if (isNaN(parseInt(this.taskCount))) {\n          alert(\"count should be integer\")\n          return;\n        }\n        num = parseInt(this.taskCount)\n        type = this.taskMyType\n      }\n\n      if(this.makeDate(this.datesTask[0]).getTime()/1000>this.makeDate(this.datesTask[1]).getTime()/1000){\n        let tmp = this.datesTask[0]\n        this.datesTask[0] = this.datesTask[1]\n        this.datesTask[1] = tmp\n      }\n\n\n      let newTask = {\n        timeStart: this.makeDate(this.datesTask[0]).getTime()/1000,//seconds\n        timeEnd: this.makeDate(this.datesTask[1]).getTime()/1000,//seconds\n        title: this.taskTitle,\n        num: num,//if type==time - seconds\n        type: type,\n      }\n      this.$store.state.tasks.push(newTask)\n      localStorage.setItem('tasks', JSON.stringify(this.$store.state.tasks))\n      console.log(newTask)\n      this.$emit(\"isNewTaskChange\",false)\n    },\n    makeHoursAndMinutesStr(date) {\n      let hours = date.getHours()\n      let minutes = date.getMinutes()\n      hours = hours.toString().length === 1 ? '0' + hours : hours\n      minutes = minutes.toString().length === 1 ? '0' + minutes : minutes\n      return hours + ':' + minutes\n    },\n    makeDate(date, time, seconds, milliseconds) {\n      date = date === undefined ? \"\" : date\n      time = time === undefined ? \"\" : \"T\" + time\n      if (seconds !== undefined) {\n        seconds = seconds.toString().length === 1 ? '0' + seconds : seconds\n      }\n      seconds = seconds === undefined ? \"\" : \":\" + seconds\n      milliseconds = milliseconds === undefined ? \"\" : \".\" + milliseconds\n      console.log(\"make Date = \", date + time + seconds + milliseconds)\n\n      return new Date(date + time + seconds + milliseconds)\n    },\n    getCurrentWeek() {\n      // console.log(parseInt(new Date().get()))\n\n      let day = (new Date()).getDay() - 1\n      if (day === -1) {\n        day = 6\n      }\n\n      let startDate = new Date((new Date()).getTime() - day * 1000 * 60 * 60 * 24)\n      let endDate = new Date(startDate.getTime() + 1000 * 60 * 60 * 24 * 6)\n\n      let startMonth = startDate.getUTCMonth() + 1\n      let endMOnth = endDate.getUTCMonth() + 1\n\n      startMonth.toString().length === 1 ? startMonth = \"0\" + startMonth : startMonth = \"\" + startMonth\n      endMOnth.toString().length === 1 ? endMOnth = \"0\" + endMOnth : startMonth = \"\" + endMOnth\n\n      let startDay = startDate.getUTCDate()\n      let endDay = endDate.getUTCDate()\n\n      startDay.toString().length === 1 ? startDay = \"0\" + startDay : startDay = \"\" + startDay\n      endDay.toString().length === 1 ? endDay = \"0\" + endDay : endDay = \"\" + endDay\n\n      let startDateStr = startDate.getFullYear() + \"-\" + startMonth + \"-\" + startDay\n      let endDateStr = endDate.getFullYear() + \"-\" + endMOnth + \"-\" + endDay\n      console.log(startDateStr)\n      console.log(endDateStr)\n\n      console.log(new Date(startDateStr))\n      console.log(new Date(endDateStr))\n      this.datesTask = [startDateStr, endDateStr]\n    },\n  },\n\n  beforeMount() {\n    this.getCurrentWeek()\n  },\n}\n</script>\n\n<style scoped>\n\n</style>\n\n"]}]}