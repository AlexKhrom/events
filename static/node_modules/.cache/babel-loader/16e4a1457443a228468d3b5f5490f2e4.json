{"remainingRequest":"/Users/mac/go/src/events/static/node_modules/babel-loader/lib/index.js!/Users/mac/go/src/events/static/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mac/go/src/events/static/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/go/src/events/static/src/components/tasks/ListTasks.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/go/src/events/static/src/components/tasks/ListTasks.vue","mtime":1660589369581},{"path":"/Users/mac/go/src/events/static/babel.config.js","mtime":1653650336335},{"path":"/Users/mac/go/src/events/static/node_modules/cache-loader/dist/cjs.js","mtime":1656160197065},{"path":"/Users/mac/go/src/events/static/node_modules/babel-loader/lib/index.js","mtime":1656160197672},{"path":"/Users/mac/go/src/events/static/node_modules/cache-loader/dist/cjs.js","mtime":1656160197065},{"path":"/Users/mac/go/src/events/static/node_modules/vue-loader/lib/index.js","mtime":1656160198005}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucGFyc2UtaW50LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudGltZXJzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS5ub3cuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5kYXRlLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEZvb3RlciBmcm9tICJAL2NvbXBvbmVudHMvRm9vdGVyIjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxpc3RUYXNrcyIsCiAgY29tcG9uZW50czogewogICAgRm9vdGVyOiBGb290ZXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0YXNrSG91cnM6IDAsCiAgICAgIHRhc2tNaW51dGVzOiAwLAogICAgICB0YXNrTnVtOiAwLAogICAgICBpc0FkZE51bTogZmFsc2UsCiAgICAgIGlzVGFza0luZm86IGZhbHNlLAogICAgICBjaG9zZW5UYXNrSWQ6IC0xCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgb3BlbkNoYW5nZVRhc2s6IGZ1bmN0aW9uIG9wZW5DaGFuZ2VUYXNrKHRhc2tJZCkgewogICAgICB0aGlzLmlzQWRkTnVtID0gdHJ1ZTsKICAgICAgdGhpcy5jaG9zZW5UYXNrSWQgPSB0YXNrSWQ7CiAgICAgIGNvbnNvbGUubG9nKCdoaScpOwogICAgfSwKICAgIGNoYW5nZVRhc2s6IGZ1bmN0aW9uIGNoYW5nZVRhc2soKSB7CiAgICAgIHZhciBpbmRleCA9IHRoaXMuZmluZEluZGV4VGFza3ModGhpcy5jaG9zZW5UYXNrSWQpOwogICAgICB2YXIgdGFzayA9IHRoaXMuJHN0b3JlLnN0YXRlLnRhc2tzW2luZGV4XTsKICAgICAgY29uc29sZS5sb2coewogICAgICAgIHRhc2s6IHRhc2sKICAgICAgfSk7CgogICAgICBpZiAocGFyc2VJbnQodGhpcy50YXNrTnVtKSA+IDAgfHwgcGFyc2VJbnQodGhpcy50YXNrSG91cnMpID49IDAgJiYgcGFyc2VJbnQodGhpcy50YXNrTWludXRlcykgPj0gMCkgewogICAgICAgIGlmICh0YXNrLnR5cGUgPT09ICd0aW1lJykgewogICAgICAgICAgY29uc29sZS5sb2coImhpIHRoZXJlIik7CiAgICAgICAgICBjb25zb2xlLmxvZygnY2FsYyA9ICcsIHBhcnNlSW50KHRoaXMuJHN0b3JlLnN0YXRlLnRhc2tzW2luZGV4XS5udW0pICsgcGFyc2VJbnQoKHBhcnNlSW50KHRoaXMudGFza0hvdXJzKSAqIDYwICsgcGFyc2VJbnQodGhpcy50YXNrTWludXRlcykpICogNjApKTsKICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnRhc2tzW2luZGV4XS5udW0gPSBwYXJzZUludCh0aGlzLiRzdG9yZS5zdGF0ZS50YXNrc1tpbmRleF0ubnVtKSArIHBhcnNlSW50KChwYXJzZUludCh0aGlzLnRhc2tIb3VycykgKiA2MCArIHBhcnNlSW50KHRoaXMudGFza01pbnV0ZXMpKSAqIDYwKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUudGFza3NbaW5kZXhdLm51bSA9IHBhcnNlSW50KHRoaXMuJHN0b3JlLnN0YXRlLnRhc2tzW2luZGV4XS5udW0pICsgcGFyc2VJbnQodGhpcy50YXNrTnVtKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0YXNrcycsIEpTT04uc3RyaW5naWZ5KHRoaXMuJHN0b3JlLnN0YXRlLnRhc2tzKSk7CiAgICAgIGNvbnNvbGUubG9nKHRhc2spOwogICAgICB0aGlzLmlzQWRkTnVtID0gZmFsc2U7CiAgICAgIHRoaXMudGFza0hvdXJzID0gMDsKICAgICAgdGhpcy50YXNrTWludXRlcyA9IDA7CiAgICAgIHRoaXMudGFza051bSA9IDA7CiAgICB9LAogICAgZGVsZXRlVGFzazogZnVuY3Rpb24gZGVsZXRlVGFzayhpZCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGluZGV4ID0gdGhpcy5maW5kSW5kZXhUYXNrcyhpZCk7CiAgICAgIHZhciB0YXNrID0gdGhpcy4kc3RvcmUuc3RhdGUudGFza3NbaW5kZXhdOyAvLyBjb25zb2xlLmxvZygiaW5kZXggPSAiLCBpbmRleCkKICAgICAgLy8gY29uc29sZS5sb2coe2V2ZW50fSkKCiAgICAgIHZhciB3YWl0U2Vjb25kcyA9IDM7CiAgICAgIHRhc2sud2FpdFNlY29uZHMgPSB3YWl0U2Vjb25kczsKICAgICAgdmFyIGludGVydmFsSWQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKCF0YXNrLmRlbGV0ZWQpIHsKICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndGFza3MnLCBKU09OLnN0cmluZ2lmeShfdGhpcy4kc3RvcmUuc3RhdGUudGFza3MpKTsKCiAgICAgICAgICBfdGhpcy4kZm9yY2VVcGRhdGUoKTsKCiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBpZiAoLS13YWl0U2Vjb25kcyA8IDApIHsKICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7CgogICAgICAgICAgdmFyIF9pbmRleCA9IF90aGlzLmZpbmRJbmRleFRhc2tzKGlkKTsKCiAgICAgICAgICBfdGhpcy5kZWxldGVFdmVudEZyb21CRChpZCk7CgogICAgICAgICAgX3RoaXMuJHN0b3JlLnN0YXRlLnRhc2tzLnNwbGljZShfaW5kZXgsIDEpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0YXNrLndhaXRTZWNvbmRzID0gd2FpdFNlY29uZHM7CiAgICAgICAgfQoKICAgICAgICBfdGhpcy4kZm9yY2VVcGRhdGUoKTsKICAgICAgfSwgMTAwMCk7IC8vIHRoaXMuJHN0b3JlLnN0YXRlLmV2ZW50cy5zcGxpY2UoaW5kZXgsIDEpCgogICAgICB0YXNrLmRlbGV0ZWQgPSBEYXRlLm5vdygpOwogICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZXZlbnRzJywgSlNPTi5zdHJpbmdpZnkodGhpcy4kc3RvcmUuc3RhdGUuZXZlbnRzKSk7CiAgICB9LAogICAgY2FtZWJhY2tUYXNrOiBmdW5jdGlvbiBjYW1lYmFja1Rhc2soaWQpIHsKICAgICAgdmFyIGluZGV4ID0gdGhpcy5maW5kSW5kZXhUYXNrcyhpZCk7CiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnRhc2tzW2luZGV4XS5kZWxldGVkID0gMDsKICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTsKICAgIH0sCiAgICB0aW1lTGVmdDogZnVuY3Rpb24gdGltZUxlZnQoZGF0ZSkgewogICAgICAvLyBjb25zb2xlLmxvZyhkYXRlKQogICAgICAvLyBsZXQgYXJyID0gbW9tZW50KGRhdGUpLmZyb21Ob3coKS5zcGxpdCgnICcpCiAgICAgIC8vIGNvbnNvbGUubG9nKGFycikKICAgICAgLy8gYXJyLnNwbGljZSgwLDEpCiAgICAgIC8vIGNvbnNvbGUubG9nKGFycikKICAgICAgLy8gcmV0dXJuICLQvtGB0YLQsNC70L7RgdGMICIrYXJyLmpvaW4oIiAiKQogICAgICByZXR1cm4gbW9tZW50KGRhdGUpLmZyb21Ob3coKTsKICAgIH0sCiAgICBjYWxjUHJvZ3Jlc3M6IGZ1bmN0aW9uIGNhbGNQcm9ncmVzcyh0YXNrSWQpIHsKICAgICAgdmFyIHRhc2sgPSB0aGlzLiRzdG9yZS5zdGF0ZS50YXNrc1t0aGlzLmZpbmRJbmRleFRhc2tzKHRhc2tJZCldOwoKICAgICAgaWYgKHRhc2sudHlwZSA9PT0gJ3RpbWUnKSB7CiAgICAgICAgcmV0dXJuIHRoaXMubWFrZU1pbnV0ZXNBbmRIb3Vyc1N0cihwYXJzZUludChwYXJzZUludCh0YXNrLm51bSkgLyAzNjAwKSwgcGFyc2VJbnQodGFzay5udW0pICUgMzYwMCAvIDYwKSArICIvIiArIHRoaXMubWFrZU1pbnV0ZXNBbmRIb3Vyc1N0cihwYXJzZUludChwYXJzZUludCh0YXNrLnRhcmdldCkgLyAzNjAwKSwgcGFyc2VJbnQodGFzay50YXJnZXQpICUgMzYwMCAvIDYwKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdGFzay5udW0gKyAnIC8gJyArIHRhc2sudGFyZ2V0OwogICAgICB9CiAgICB9LAogICAgY2FsY1BlcmNlbnQ6IGZ1bmN0aW9uIGNhbGNQZXJjZW50KHRhc2spIHsKICAgICAgdmFyIG51bSA9IDA7CgogICAgICBpZiAodGFzay5udW0gIT09IHVuZGVmaW5lZCkgewogICAgICAgIG51bSA9IHRhc2subnVtOwogICAgICB9IC8vIGNvbnNvbGUubG9nKCdwZXJjZW50ZWdlID0gJywgbnVtL3Rhc2sudGFyZ2V0KjEwMCkKCgogICAgICByZXR1cm4gbnVtIC8gdGFzay50YXJnZXQgKiAxMDAgPiAxMDAgPyAxMDAgOiBudW0gLyB0YXNrLnRhcmdldCAqIDEwMDsKICAgIH0sCiAgICBtYWtlTWludXRlc0FuZEhvdXJzU3RyOiBmdW5jdGlvbiBtYWtlTWludXRlc0FuZEhvdXJzU3RyKGhvdXJzLCBtaW51dGVzKSB7CiAgICAgIGhvdXJzID0gaG91cnMudG9TdHJpbmcoKS5sZW5ndGggPT09IDEgPyAnMCcgKyBob3VycyA6IGhvdXJzOwogICAgICBtaW51dGVzID0gbWludXRlcy50b1N0cmluZygpLmxlbmd0aCA9PT0gMSA/ICcwJyArIG1pbnV0ZXMgOiBtaW51dGVzOwogICAgICByZXR1cm4gaG91cnMgKyAnOicgKyBtaW51dGVzOwogICAgfSwKICAgIGZpbmRJbmRleFRhc2tzOiBmdW5jdGlvbiBmaW5kSW5kZXhUYXNrcyhpZCkgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuJHN0b3JlLnN0YXRlLnRhc2tzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLnRhc2tzW2ldLmlkID09PSBpZCkgewogICAgICAgICAgcmV0dXJuIGk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gLTE7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoHA;AACA;AAEA;EACAA,iBADA;EAEAC;IAAAC;EAAA,CAFA;EAGAC,IAHA,kBAGA;IACA;MACAC,YADA;MAEAC,cAFA;MAGAC,UAHA;MAIAC,eAJA;MAKAC,iBALA;MAMAC;IANA;EAQA,CAZA;EAaAC;IACAC,cADA,0BACAC,MADA,EACA;MACA;MACA;MACAC;IACA,CALA;IAMAC,UANA,wBAMA;MACA;MACA;MACAD;QAAAE;MAAA;;MACA;QACA;UACAF;UACAA;UACA;QACA,CAJA,MAIA;UACA;QACA;MACA;;MACAG;MACAH;MACA;MACA;MACA;MACA;IACA,CAzBA;IA0BAI,UA1BA,sBA0BAC,EA1BA,EA0BA;MAAA;;MACA;MACA,0CAFA,CAIA;MACA;;MAEA;MACAH;MACA;QACA;UACAI;UACAH;;UACA;;UACA;QACA;;QACA;UACAG;;UACA;;UACA;;UACA;QACA,CALA,MAKA;UACAJ;QACA;;QACA;MACA,CAhBA,EAgBA,IAhBA,EATA,CA2BA;;MAEAA;MACA;MACAC;IACA,CA1DA;IA2DAI,YA3DA,wBA2DAF,EA3DA,EA2DA;MACA;MACA;MACA;IACA,CA/DA;IAgEAG,QAhEA,oBAgEAC,IAhEA,EAgEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA,CAxEA;IAyEAC,YAzEA,wBAyEAX,MAzEA,EAyEA;MACA;;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA;IACA,CAhFA;IAiFAY,WAjFA,uBAiFAT,IAjFA,EAiFA;MACA;;MACA;QACAU;MACA,CAJA,CAKA;;;MACA;IACA,CAxFA;IAyFAC,sBAzFA,kCAyFAC,KAzFA,EAyFAC,OAzFA,EAyFA;MACAD;MACAC;MACA;IACA,CA7FA;IA8FAC,cA9FA,0BA8FAX,EA9FA,EA8FA;MACA;QACA;UACA;QACA;MACA;;MACA;IACA;EArGA;AAbA","names":["name","components","Footer","data","taskHours","taskMinutes","taskNum","isAddNum","isTaskInfo","chosenTaskId","methods","openChangeTask","taskId","console","changeTask","task","localStorage","deleteTask","id","clearInterval","camebackTask","timeLeft","date","calcProgress","calcPercent","num","makeMinutesAndHoursStr","hours","minutes","findIndexTasks"],"sourceRoot":"src/components/tasks","sources":["ListTasks.vue"],"sourcesContent":["<template>\n  <div>\n    <div v-for=\"(task) in this.$store.state.tasks\"\n         :key=\"task.id\"\n    >\n      <div @click=\"isTaskInfo=true\"\n          style=\"display: flex;justify-content: space-between;margin-top: 20px;padding:5px;\">\n        <div>\n          <div :style=\"task.deleted?'opacity: 0.5':''\"\n               style=\"font-size: 18px;text-transform: capitalize;display: flex;align-items: center;\">{{ task.title }}\n          </div>\n          <span :style=\"task.deleted?'opacity: 0.5':''\"  style=\"color: #555;font-size: 15px;display: block;padding-top: 10px\">{{\n              timeLeft(new Date(task.timeEnd * 1000))\n            }}\n          </span>\n\n        </div>\n        <div @click.stop>\n          <span v-if=\"task.deleted\" style=\"color: #555;font-size: 12px;padding-right: 10px\">{{\n              task.waitSeconds\n            }}с</span>\n          <!--          <v-btn v-if=\"!event.deleted\" @click=\"changeEvent(event.id)\" icon>✏️</v-btn>-->\n          <v-btn v-if=\"!task.deleted\" @click=\"openChangeTask(task.id)\" icon>✏️</v-btn>\n          <v-btn v-if=\"task.deleted\" @click=\"camebackTask(task.id)\" text small>вернуть ↩︎</v-btn>\n          <v-btn v-else @click=\"deleteTask(task.id)\" icon>🗑</v-btn>\n          <span v-if=\"!task.deleted\" style=\"color: #555;font-size: 13px;display: block;text-align: right;padding-right: 5px\">\n              {{ calcProgress(task.id) }}\n\n          </span>\n        </div>\n      </div>\n      <div :style=\"{border: '2px solid green',opacity:'0.3'}\"\n      ></div>\n      <div\n          :style=\"{position:'relative',top:'-4px',border: '2px solid green',width:''+calcPercent(task)+'%',display:calcPercent(task)===0?'none':''}\"\n      ></div>\n    </div>\n\n    <template v-if=\"isAddNum\">\n      <div class=\"picker\" @click=\"isAddNum=false\">\n        <div class=\"picker__content\" @click.stop>\n          <slot>\n            <div style=\"background-color: white;padding: 20px;border-radius: 3px; width: 320px\">\n              <v-container grid-list-md text-xs-center>\n                <v-layout row wrap>\n                  <v-row>\n                    <div style=\"display: flex;justify-content: space-between;padding:5px;color: #777777;width: 100%\">\n                      <div>\n                        <div class=\"text-h5\">\n                          {{ $store.state.tasks[findIndexTasks(chosenTaskId)].title }}\n                        </div>\n\n                      </div>\n                      <div>\n                        {{ calcProgress(chosenTaskId) }}\n                      </div>\n                    </div>\n                    <template v-if=\"$store.state.tasks[findIndexTasks(chosenTaskId)].type==='time'\">\n                      <v-flex xs6>\n                        <v-text-field\n                            label=\"hours\"\n                            outlined\n                            v-model=\"taskHours\"\n                        ></v-text-field>\n                      </v-flex>\n                      <v-flex xs6>\n                        <v-text-field\n                            label=\"minutes\"\n                            outlined\n                            v-model=\"taskMinutes\"\n                        ></v-text-field>\n                      </v-flex>\n                    </template>\n                    <template v-else>\n                      <v-flex xs12>\n                        <v-text-field\n                            :label=\"$store.state.tasks[findIndexTasks(chosenTaskId)].type\"\n                            outlined\n                            v-model=\"taskNum\"\n                        ></v-text-field>\n                      </v-flex>\n                    </template>\n                    <v-btn class=\"mb-2\" width=\"290px\"\n                           @click=\"changeTask\"\n                           style=\"margin-top: 30px;\"\n                           height=\"50px\"\n                           color=\"white\">add\n                    </v-btn>\n                  </v-row>\n                </v-layout>\n              </v-container>\n            </div>\n          </slot>\n        </div>\n      </div>\n    </template>\n\n\n    <template v-if=\"isTaskInfo\">\n      <div class=\"picker\" @click=\"isTaskInfo=false\">\n        <div class=\"picker__content\" @click.stop>\n          <slot>\n            <h1>Hello World</h1>\n          </slot>\n        </div>\n      </div>\n    </template>\n\n\n    <Footer>\n\n    </Footer>\n  </div>\n</template>\n\n<script>\nimport Footer from \"@/components/Footer\";\nimport moment from \"moment\";\n\nexport default {\n  name: \"ListTasks\",\n  components: {Footer},\n  data() {\n    return {\n      taskHours: 0,\n      taskMinutes: 0,\n      taskNum: 0,\n      isAddNum: false,\n      isTaskInfo: false,\n      chosenTaskId: -1,\n    }\n  },\n  methods: {\n    openChangeTask(taskId) {\n      this.isAddNum = true\n      this.chosenTaskId = taskId\n      console.log('hi')\n    },\n    changeTask() {\n      let index = this.findIndexTasks(this.chosenTaskId)\n      let task = this.$store.state.tasks[index]\n      console.log({task})\n      if (parseInt(this.taskNum) > 0 || parseInt(this.taskHours) >= 0 && parseInt(this.taskMinutes) >= 0) {\n        if (task.type === 'time') {\n          console.log(\"hi there\")\n          console.log('calc = ', parseInt(this.$store.state.tasks[index].num) + parseInt((parseInt(this.taskHours) * 60 + parseInt(this.taskMinutes)) * 60))\n          this.$store.state.tasks[index].num = parseInt(this.$store.state.tasks[index].num) + parseInt((parseInt(this.taskHours) * 60 + parseInt(this.taskMinutes)) * 60)\n        } else {\n          this.$store.state.tasks[index].num = parseInt(this.$store.state.tasks[index].num) + parseInt(this.taskNum)\n        }\n      }\n      localStorage.setItem('tasks', JSON.stringify(this.$store.state.tasks))\n      console.log(task)\n      this.isAddNum = false\n      this.taskHours = 0\n      this.taskMinutes = 0\n      this.taskNum = 0\n    },\n    deleteTask(id) {\n      let index = this.findIndexTasks(id)\n      let task = this.$store.state.tasks[index]\n\n      // console.log(\"index = \", index)\n      // console.log({event})\n\n      let waitSeconds = 3\n      task.waitSeconds = waitSeconds\n      let intervalId = setInterval(() => {\n        if (!task.deleted) {\n          clearInterval(intervalId)\n          localStorage.setItem('tasks', JSON.stringify(this.$store.state.tasks))\n          this.$forceUpdate()\n          return\n        }\n        if (--waitSeconds < 0) {\n          clearInterval(intervalId);\n          let index = this.findIndexTasks(id)\n          this.deleteEventFromBD(id)\n          this.$store.state.tasks.splice(index, 1)\n        } else {\n          task.waitSeconds = waitSeconds\n        }\n        this.$forceUpdate()\n      }, 1000);\n\n      // this.$store.state.events.splice(index, 1)\n\n      task.deleted = Date.now();\n      this.$forceUpdate();\n      localStorage.setItem('events', JSON.stringify(this.$store.state.events))\n    },\n    camebackTask(id) {\n      let index = this.findIndexTasks(id)\n      this.$store.state.tasks[index].deleted = 0\n      this.$forceUpdate();\n    },\n    timeLeft(date) {\n      // console.log(date)\n      // let arr = moment(date).fromNow().split(' ')\n      // console.log(arr)\n      // arr.splice(0,1)\n      // console.log(arr)\n      // return \"осталось \"+arr.join(\" \")\n      return moment(date).fromNow()\n    },\n    calcProgress(taskId) {\n      let task = this.$store.state.tasks[this.findIndexTasks(taskId)]\n      if (task.type === 'time') {\n        return this.makeMinutesAndHoursStr(parseInt(parseInt(task.num) / 3600), parseInt(task.num) % 3600 / 60) + \"/\" + this.makeMinutesAndHoursStr(parseInt(parseInt(task.target) / 3600), parseInt(task.target) % 3600 / 60)\n      } else {\n        return task.num + ' / ' + task.target\n      }\n    },\n    calcPercent(task) {\n      let num = 0\n      if (task.num !== undefined) {\n        num = task.num\n      }\n      // console.log('percentege = ', num/task.target*100)\n      return num / task.target * 100 > 100 ? 100 : num / task.target * 100\n    },\n    makeMinutesAndHoursStr(hours, minutes) {\n      hours = hours.toString().length === 1 ? '0' + hours : hours\n      minutes = minutes.toString().length === 1 ? '0' + minutes : minutes\n      return hours + ':' + minutes\n    },\n    findIndexTasks(id) {\n      for (let i = 0; i < this.$store.state.tasks.length; i++) {\n        if (this.$store.state.tasks[i].id === id) {\n          return i\n        }\n      }\n      return -1\n    },\n  }\n}\n</script>\n\n<style scoped>\n.picker {\n  color: white;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  position: fixed;\n  z-index: 100;\n  overflow: auto;\n  display: flex;\n  padding-top: 80px;\n}\n\n.picker__content {\n  /*overflow-y: scroll;*/\n  display: block;\n  width: 290px;\n  margin: auto;\n\n\n  min-height: 100%;\n  justify-content: space-between;\n  z-index: 200;\n}\n</style>"]}]}