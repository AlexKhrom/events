{"remainingRequest":"/Users/mac/Desktop/newProject/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/Desktop/newProject/src/App.vue?vue&type=style&index=0&id=7ba5bd90&scoped=true&lang=css&","dependencies":[{"path":"/Users/mac/Desktop/newProject/src/App.vue","mtime":1656250382982},{"path":"/Users/mac/Desktop/newProject/node_modules/css-loader/dist/cjs.js","mtime":1656160197442},{"path":"/Users/mac/Desktop/newProject/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1656160198444},{"path":"/Users/mac/Desktop/newProject/node_modules/postcss-loader/src/index.js","mtime":1656160197665},{"path":"/Users/mac/Desktop/newProject/node_modules/cache-loader/dist/cjs.js","mtime":1656160197065},{"path":"/Users/mac/Desktop/newProject/node_modules/vue-loader/lib/index.js","mtime":1656160198005}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KYm9keSB7DQogIG1pbi1oZWlnaHQ6IDIwMHZoOw0KfQ0KDQoucGlja2VyIHsNCiAgdG9wOiAwOw0KICBib3R0b206IDA7DQogIHJpZ2h0OiAwOw0KICBsZWZ0OiAwOw0KICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNSk7DQogIHBvc2l0aW9uOiBmaXhlZDsNCiAgZGlzcGxheTogZmxleDsNCn0NCg0KLnBpY2tlcl9fY29udGVudCB7DQogIGRpc3BsYXk6IGJsb2NrOw0KICB3aWR0aDogMjkwcHg7DQogIG1hcmdpbjogYXV0bzsNCiAgbWFyZ2luLXRvcDogODBweDsNCiAgbWluLWhlaWdodDogMTAwJTsNCiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOw0KDQp9DQo="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuKA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\r\n  <v-app style=\"padding: 20px;\">\r\n    <template v-if=\"page==='add'\">\r\n      <v-btn class=\"mb-2\" @click=\"page='list'\" color=\"primary\">Show all</v-btn>\r\n      <v-btn @click=\"add(title)\" class=\"mb-2\" v-for=\"title in $store.state.titles\" :key=\"title\">{{ title }}</v-btn>\r\n      <v-text-field\r\n          height=\"5\"\r\n          label=\"ü•¥ –Ω–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ\"\r\n          solo\r\n          v-model=\"newEvent\"\r\n          @cancel=\"createEvent\"\r\n          @\r\n      ></v-text-field>\r\n      <v-btn @click=\"createEvent\">add</v-btn>\r\n    </template>\r\n    <template v-else>\r\n\r\n      <v-btn class=\"mb-2\" style=\"display: flex\" @click=\"page='add'\" color=\"primary\">+ Add</v-btn>\r\n\r\n      <template v-if=\"isChangeEvent\">\r\n        <div class=\"picker\" @click=\"isChangeEvent=false\">\r\n          <div class=\"picker__content\" @click.stop>\r\n            <slot>\r\n              <v-row justify=\"space-around\">\r\n                <v-time-picker\r\n                    format=\"ampm\"\r\n                    v-model=\"timePicker\"\r\n                ></v-time-picker>\r\n                <v-date-picker\r\n                    v-model=\"datePicker\"\r\n                    color=\"primary lighten-1\"\r\n                ></v-date-picker>\r\n                <v-btn class=\"mb-2\" width=\"290px\"\r\n                       @click=\"saveEventChanges\"\r\n                       color=\"primary\">save\r\n                </v-btn>\r\n\r\n              </v-row>\r\n              {{ timePicker }}\r\n              {{ datePicker }}\r\n            </slot>\r\n          </div>\r\n        </div>\r\n      </template>\r\n\r\n\r\n      <div style=\"display: flex;justify-content: space-between;\" v-for=\"(event,index) in $store.state.events\"\r\n           :key=\"event.title+event.dt\">\r\n        <div :style=\"event.deleted?'opacity: 0.5':''\"\r\n             style=\"font-size: 18px;text-transform: capitalize;display: flex;align-items: center;\">{{ event.title }}\r\n        </div>\r\n        <div>\r\n          <span v-if=\"!event.deleted\" style=\"color: #555;font-size: 12px\">{{ $moment(event.dt).fromNow() }}</span>\r\n          <span v-else style=\"color: #555;font-size: 12px;padding-right: 10px\">{{ event.waitSeconds }}—Å</span>\r\n          <v-btn v-if=\"!event.deleted\" @click=\"changeEvent(event.dt)\" icon>‚úèÔ∏è</v-btn>\r\n          <v-btn v-if=\"event.deleted\" @click=\"camebackEvent(event.dt)\" text small>–≤–µ—Ä–Ω—É—Ç—å ‚Ü©Ô∏é</v-btn>\r\n          <v-btn v-else @click=\"deleteEvent(event.dt)\" icon>üóë</v-btn>\r\n        </div>\r\n      </div>\r\n      {{ timePicker }}\r\n    </template>\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\n// import {Bar} from 'vue-chartjs/legacy'\r\n\r\n\r\nexport default {\r\n\r\n  name: 'App',\r\n  // components: {Bar},\r\n  data() {\r\n    return {\r\n      page: 'add',\r\n      isChangeEvent: false,\r\n      newEvent: \"\",\r\n      timePicker: \"\",\r\n      selectedEventIndex: -1,\r\n      datePicker: (new Date(Date.now() - (new Date()).getTimezoneOffset() * 60000)).toISOString().substr(0, 10),\r\n\r\n    }\r\n  },\r\n  methods: {\r\n    add(title) {\r\n      this.$store.state.events.push({\r\n        title,\r\n        dt: Date.now()\r\n      })\r\n      localStorage.setItem('events', JSON.stringify(this.$store.state.events))\r\n      this.page = 'list';\r\n    },\r\n    findIndexEvents(id) {\r\n      for (let i = 0; i < this.$store.state.events.length; i++) {\r\n        if (this.$store.state.events[i].dt === id) {\r\n          return i\r\n        }\r\n      }\r\n      return -1\r\n    },\r\n    deleteEvent(id) {\r\n      let index = this.findIndexEvents(id)\r\n      let event = this.$store.state.events[index]\r\n\r\n      console.log(\"index = \", index)\r\n      console.log({event})\r\n\r\n      let waitSeconds = 3\r\n      event.waitSeconds = waitSeconds\r\n      let intervalId = setInterval(() => {\r\n        if (!event.deleted) {\r\n          clearInterval(intervalId)\r\n          localStorage.setItem('events', JSON.stringify(this.$store.state.events))\r\n          this.$forceUpdate()\r\n          return\r\n        }\r\n        if (--waitSeconds < 0) {\r\n          clearInterval(intervalId);\r\n          let index = this.findIndexEvents(id)\r\n          this.$store.state.events.splice(index, 1)\r\n        } else {\r\n          event.waitSeconds = waitSeconds\r\n        }\r\n        this.$forceUpdate()\r\n      }, 1000);\r\n\r\n      // this.$store.state.events.splice(index, 1)\r\n\r\n      event.deleted = Date.now();\r\n      this.$forceUpdate();\r\n      localStorage.setItem('events', JSON.stringify(this.$store.state.events))\r\n    },\r\n    camebackEvent(id) {\r\n      let index = this.findIndexEvents(id)\r\n      this.$store.state.events[index].deleted = 0\r\n      this.$forceUpdate();\r\n    },\r\n    createEvent() {\r\n      if (this.newEvent !== \"\") {\r\n        // alert(\"newEvent\")\r\n        this.$store.state.titles.push(this.newEvent)\r\n        console.log(this.$store.state.titles)\r\n        this.newEvent = \"\"\r\n        localStorage.setItem('titles', JSON.stringify(this.$store.state.titles))\r\n        this.$forceUpdate();\r\n      }\r\n    },\r\n    changeEvent(id) {\r\n      let index = this.findIndexEvents(id)\r\n      let date = new Date(this.$store.state.events[index].dt)\r\n      this.selectedEventIndex = index\r\n      this.timePicker = date.getHours() + \":\" + date.getMinutes()\r\n      this.datePicker = (new Date(date - (new Date()).getTimezoneOffset() * 60000)).toISOString().substr(0, 10)\r\n      this.isChangeEvent = true\r\n    },\r\n    saveEventChanges() {\r\n      let date = new Date(this.timePicker + \" \" + this.datePicker)\r\n      // alert(date + \" - \" + new Date())\r\n      this.$store.state.events[this.selectedEventIndex].dt = date\r\n      localStorage.setItem('events', JSON.stringify(this.$store.state.events))\r\n      this.isChangeEvent = false\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nbody {\r\n  min-height: 200vh;\r\n}\r\n\r\n.picker {\r\n  top: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  left: 0;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  position: fixed;\r\n  display: flex;\r\n}\r\n\r\n.picker__content {\r\n  display: block;\r\n  width: 290px;\r\n  margin: auto;\r\n  margin-top: 80px;\r\n  min-height: 100%;\r\n  justify-content: space-between;\r\n\r\n}\r\n</style>\r\n"]}]}