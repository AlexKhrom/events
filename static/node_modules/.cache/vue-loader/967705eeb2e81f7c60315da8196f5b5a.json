{"remainingRequest":"/Users/mac/go/src/events/static/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/go/src/events/static/src/components/AddEvent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/go/src/events/static/src/components/AddEvent.vue","mtime":1661003402661},{"path":"/Users/mac/go/src/events/static/node_modules/cache-loader/dist/cjs.js","mtime":1656160197065},{"path":"/Users/mac/go/src/events/static/node_modules/babel-loader/lib/index.js","mtime":1656160197672},{"path":"/Users/mac/go/src/events/static/node_modules/cache-loader/dist/cjs.js","mtime":1656160197065},{"path":"/Users/mac/go/src/events/static/node_modules/vue-loader/lib/index.js","mtime":1656160198005}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDcmVhdFRhc2sgZnJvbSAiQC9jb21wb25lbnRzL3Rhc2tzL0NyZWF0VGFzayI7CmltcG9ydCBGb290ZXIgZnJvbSAiQC9jb21wb25lbnRzL0Zvb3RlciI7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czoge0Zvb3RlciwgQ3JlYXRUYXNrfSwKCiAgbmFtZTogImFkZEV2ZW50IiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGltZVBpY2tlcjogIiIsCiAgICAgIHNlbGVjdGVkRXZlbnRJbmRleDogLTEsCiAgICAgIG5ld0V2ZW50VG9BZGQ6IHt9LAogICAgICBuZXdFdmVudDogIiIsCiAgICAgIHRpbWVyRGVsZXRlVGl0bGU6IGZhbHNlLAogICAgICB0aW1lcklkOiAwLAogICAgICBkaWFsb2c6IGZhbHNlLAogICAgICB0aXRsZVRvRGVsZXRlOiB7fSwKICAgICAgdGl0bGVJbmRleDogMCwKICAgICAgdGl0bGVUb0RlbGV0ZUlEOiAtMSwKICAgICAgaXNOZXdUYXNrOmZhbHNlLAoKICAgICAgc3RhcnRFdmVudFRpbWU6IG51bGwsCiAgICAgIGVuZEV2ZW50VGltZTogbnVsbCwKICAgICAgaXNQaWNrRXZlbnREdXJhdGlvbjogZmFsc2UsCiAgICAgIGlzRXZlbnRXaXRoRHVyYXRpb246IGZhbHNlLAogICAgICBkYXRlUGlja2VyOiAobmV3IERhdGUoRGF0ZS5ub3coKSAtIChuZXcgRGF0ZSgpKS5nZXRUaW1lem9uZU9mZnNldCgpICogNjAwMDApKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCksCgogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGRhdGVSYW5nZVRleHQoKSB7CiAgICAgIHJldHVybiB0aGlzLmRhdGVzVGFzay5qb2luKCcgfiAnKQogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIHNvcnRFdmVudHMoKSB7CiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmV2ZW50cy5zb3J0KChhLCBiKSA9PgogICAgICAgICAgYS5kdCA8IGIuZHQgPyAxIDogLTEpCiAgICB9LAogICAgYXN5bmMgbWFrZVJlcXVlc3QoZXZlbnQpIHsKICAgICAgY29uc29sZS5sb2coJ21ha2UgcmVxdWVzdCA6JywgZXZlbnQpCiAgICAgIGxldCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL25ld0V2ZW50JywgewogICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGV2ZW50KQogICAgICB9KTsKCiAgICAgIGlmIChyZXNwb25zZS5vaykgeyAvLyDQtdGB0LvQuCBIVFRQLdGB0YLQsNGC0YPRgSDQsiDQtNC40LDQv9Cw0LfQvtC90LUgMjAwLTI5OQogICAgICAgIC8vINC/0L7Qu9GD0YfQsNC10Lwg0YLQtdC70L4g0L7RgtCy0LXRgtCwICjRgdC8LiDQv9GA0L4g0Y3RgtC+0YIg0LzQtdGC0L7QtCDQvdC40LbQtSkKICAgICAgICBjb25zb2xlLmxvZygib2tra2siKQogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUubG9nKCJub3Qgb2siKQogICAgICB9CiAgICB9LAogICAgYWRkRXZlbnQobmV3VGl0bGUsIGluZGV4LCBwYXJhbSkgewogICAgICBjb25zb2xlLmxvZygiaGkgYWRkZXZlbnQuIHRpdGxlIC0iLCBuZXdUaXRsZS50aXRsZSwgIlxuY2xpY2sgb24gOiAiLCBwYXJhbSkKCiAgICAgIGlmIChuZXdUaXRsZS53aXRoRHVyYXRpb24pIHsKICAgICAgICB0aGlzLmlzUGlja0V2ZW50RHVyYXRpb24gPSB0cnVlCgogICAgICAgIHRoaXMuc3RhcnRFdmVudFRpbWUgPSB0aGlzLm1ha2VIb3Vyc0FuZE1pbnV0ZXNTdHIobmV3IERhdGUoKSkKICAgICAgICB0aGlzLmVuZEV2ZW50VGltZSA9IHRoaXMubWFrZUhvdXJzQW5kTWludXRlc1N0cihuZXcgRGF0ZSgpKQogICAgICAgIHRoaXMubmV3RXZlbnRUb0FkZCA9IHsKICAgICAgICAgIHRpdGxlOiBuZXdUaXRsZS50aXRsZSwKICAgICAgICAgIGR0OiBEYXRlLm5vdygpLAogICAgICAgICAgd2l0aER1cmF0aW9uOiBuZXdUaXRsZS53aXRoRHVyYXRpb24sCiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGxldCBldmVudCA9IHsKICAgICAgICAgIHRpdGxlOiBuZXdUaXRsZS50aXRsZSwKICAgICAgICAgIGR0OiBEYXRlLm5vdygpLAogICAgICAgICAgd2l0aER1cmF0aW9uOiBuZXdUaXRsZS53aXRoRHVyYXRpb24sCiAgICAgICAgfQogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmV2ZW50cy5wdXNoKGV2ZW50KQoKICAgICAgICB0aGlzLm1ha2VSZXF1ZXN0KGV2ZW50KQoKICAgICAgICB0aGlzLnNvcnRFdmVudHMoKQogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdldmVudHMnLCBKU09OLnN0cmluZ2lmeSh0aGlzLiRzdG9yZS5zdGF0ZS5ldmVudHMpKQoKICAgICAgICB0aGlzLnBhZ2UgPSAnbGlzdCc7CiAgICAgIH0KCiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnRpdGxlcy5zcGxpY2UoaW5kZXgsIDEpCiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnRpdGxlcy51bnNoaWZ0KG5ld1RpdGxlKQogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndGl0bGVzJywgSlNPTi5zdHJpbmdpZnkodGhpcy4kc3RvcmUuc3RhdGUudGl0bGVzKSkKICAgIH0sCiAgICBhZGRFdmVudFdpdGhEdXJhdGlvbigpIHsKICAgICAgbGV0IGRhdGUgPSBuZXcgRGF0ZSgpCiAgICAgIGRhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCkKCiAgICAgIGxldCBub3dNb250aCA9IGRhdGUuZ2V0TW9udGgoKS50b1N0cmluZygpLmxlbmd0aCA8IDIgPyAnMCcgKyAoZGF0ZS5nZXRNb250aCgpICsgMSkgOiAoZGF0ZS5nZXRNb250aCgpICsgMSkKICAgICAgbGV0IGRheSA9IGRhdGUuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkubGVuZ3RoIDwgMiA/ICcwJyArIChkYXRlLmdldERhdGUoKSkgOiAoZGF0ZS5nZXREYXRlKCkpCiAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGUuZ2V0RnVsbFllYXIoKSArICItIiArIG5vd01vbnRoICsgIi0iICsgZGF0ZS5nZXREYXRlKCkgKyAiVCIgKyB0aGlzLnN0YXJ0RXZlbnRUaW1lKQogICAgICAvLyBjb25zb2xlLmxvZygobmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpICsgIi0iICsgbm93TW9udGggKyAiLSIgKyBkYXRlLmdldERhdGUoKSArICJUIiArIHRoaXMuc3RhcnRFdmVudFRpbWUpKS5nZXRUaW1lKCkpCiAgICAgIGNvbnNvbGUubG9nKCJtYWtlIHN0YXJ0IGRhdGU6IiwgdGhpcy5tYWtlRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCkgKyAiLSIgKyBub3dNb250aCArICItIiArIGRheSwgdGhpcy5zdGFydEV2ZW50VGltZSwgKG5ldyBEYXRlKS5nZXRTZWNvbmRzKCksIChuZXcgRGF0ZSkuZ2V0TWlsbGlzZWNvbmRzKCkpLmdldFRpbWUoKSwpCgogICAgICAvLyBjb25zb2xlLmxvZyhuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCkgKyAiLSIgKyBub3dNb250aCArICItIiArIGRhdGUuZ2V0RGF0ZSgpICsgIiAiICsgdGhpcy5zdGFydEV2ZW50VGltZSkpCiAgICAgIGxldCBldmVudCA9IHsKICAgICAgICB0aXRsZTogdGhpcy5uZXdFdmVudFRvQWRkLnRpdGxlLAogICAgICAgIGR0OiB0aGlzLm1ha2VEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSArICItIiArIG5vd01vbnRoICsgIi0iICsgZGF5LCB0aGlzLnN0YXJ0RXZlbnRUaW1lLCAobmV3IERhdGUpLmdldFNlY29uZHMoKSwgKG5ldyBEYXRlKS5nZXRNaWxsaXNlY29uZHMoKSkuZ2V0VGltZSgpLAogICAgICAgIHRpbWVTdGFydDogdGhpcy5tYWtlRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCkgKyAiLSIgKyBub3dNb250aCArICItIiArIGRheSwgdGhpcy5zdGFydEV2ZW50VGltZSkuZ2V0VGltZSgpLAogICAgICAgIHRpbWVFbmQ6IHRoaXMubWFrZURhdGUoZGF0ZS5nZXRGdWxsWWVhcigpICsgIi0iICsgbm93TW9udGggKyAiLSIgKyBkYXksIHRoaXMuZW5kRXZlbnRUaW1lKS5nZXRUaW1lKCksCiAgICAgICAgd2l0aER1cmF0aW9uOiB0aGlzLm5ld0V2ZW50VG9BZGQud2l0aER1cmF0aW9uLAogICAgICB9CiAgICAgIGNvbnNvbGUubG9nKCJldmVudCA9ICIsIGV2ZW50KQogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5ldmVudHMucHVzaChldmVudCkKCiAgICAgIHRoaXMubWFrZVJlcXVlc3QoZXZlbnQpCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuJHN0b3JlLnN0YXRlLmV2ZW50cykKICAgICAgdGhpcy5zdGFydEV2ZW50VGltZSA9IG51bGwKICAgICAgdGhpcy5lbmRFdmVudFRpbWUgPSBudWxsCgogICAgICB0aGlzLnNvcnRFdmVudHMoKQogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZXZlbnRzJywgSlNPTi5zdHJpbmdpZnkodGhpcy4kc3RvcmUuc3RhdGUuZXZlbnRzKSkKICAgICAgdGhpcy5pc1BpY2tFdmVudER1cmF0aW9uID0gZmFsc2UKICAgICAgdGhpcy5wYWdlID0gJ2xpc3QnOwogICAgfSwKICAgIGZpbmRJbmRleEV2ZW50cyhpZCkgewogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuJHN0b3JlLnN0YXRlLmV2ZW50cy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS5ldmVudHNbaV0uZHQgPT09IGlkKSB7CiAgICAgICAgICByZXR1cm4gaQogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gLTEKICAgIH0sCiAgICBkZWxldGVUaXRsZURvd24oZXZlbnQpIHsKICAgICAgaWYgKGV2ZW50ID09PSAnY2xpY2snICYmICgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cgfHwgbmF2aWdhdG9yLm1zTWF4VG91Y2hQb2ludHMpKSB7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgICAgdGhpcy50aW1lcklkID0gc2V0VGltZW91dCh0aGlzLmhhbmRsZXJGdW5jLCA1MDApCiAgICB9LAogICAgaGFuZGxlckZ1bmMoKSB7CiAgICAgIHRoaXMudGltZXJEZWxldGVUaXRsZSA9IHRydWUKICAgICAgY29uc29sZS5sb2coJ2hpJykKICAgIH0sCiAgICBkZWxldGVUaXRsZVVwKHRpdGxlLCBpbmRleCwgZXZlbnQpIHsKICAgICAgaWYgKGV2ZW50ID09PSAnY2xpY2snICYmICgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cgfHwgbmF2aWdhdG9yLm1zTWF4VG91Y2hQb2ludHMpKSB7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgICAgaWYgKHRoaXMudGltZXJEZWxldGVUaXRsZSkgewogICAgICAgIGNvbnNvbGUubG9nKHRpdGxlLCBpbmRleCkKICAgICAgICB0aGlzLnRpdGxlSW5kZXggPSBpbmRleAogICAgICAgIHRoaXMudGl0bGVUb0RlbGV0ZUlEID0gdGl0bGUuaWQKICAgICAgICB0aGlzLnRpdGxlVG9EZWxldGUgPSB0aXRsZQogICAgICAgIHRoaXMuZGlhbG9nID0gdHJ1ZQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYWRkRXZlbnQodGl0bGUsIGluZGV4LCBldmVudCkKICAgICAgfQogICAgICB0aGlzLnRpbWVyRGVsZXRlVGl0bGUgPSBmYWxzZQogICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcklkKQogICAgfSwKICAgIGRlbGV0ZVRpdGxlV2l0aEluZGV4KGluZGV4KSB7CiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnRpdGxlcy5zcGxpY2UoaW5kZXgsIDEpCiAgICAgIHRoaXMubWFrZURlbGV0ZVRpdGxlUmVzcCh0aGlzLnRpdGxlVG9EZWxldGVJRCkKICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RpdGxlcycsIEpTT04uc3RyaW5naWZ5KHRoaXMuJHN0b3JlLnN0YXRlLnRpdGxlcykpCiAgICAgIGNvbnNvbGUubG9nKCdkZWxldGUnKTsKICAgIH0sCiAgICBjcmVhdGVUaXRsZSgpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5tYWtlRGF0ZSgnMjAxOS0wOS0xMCcpKQogICAgICBpZiAodGhpcy5uZXdFdmVudCAhPT0gIiIpIHsKICAgICAgICAvLyBhbGVydCgibmV3RXZlbnQiKQogICAgICAgIGxldCBuZXdUaXRsZSA9IHsKICAgICAgICAgIHRpdGxlOiB0aGlzLm5ld0V2ZW50LAogICAgICAgICAgd2l0aER1cmF0aW9uOiB0aGlzLmlzRXZlbnRXaXRoRHVyYXRpb24KICAgICAgICB9CiAgICAgICAgdGhpcy5tYWtlQWRkVGl0bGVSZXNwKG5ld1RpdGxlKQogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnRpdGxlcy5wdXNoKG5ld1RpdGxlKQogICAgICAgIGNvbnNvbGUubG9nKHRoaXMuJHN0b3JlLnN0YXRlLnRpdGxlcykKICAgICAgICB0aGlzLm5ld0V2ZW50ID0gIiIKICAgICAgICB0aGlzLmlzRXZlbnRXaXRoRHVyYXRpb24gPSBmYWxzZQogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0aXRsZXMnLCBKU09OLnN0cmluZ2lmeSh0aGlzLiRzdG9yZS5zdGF0ZS50aXRsZXMpKQogICAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7CiAgICAgIH0KICAgIH0sCgogICAgYXN5bmMgbWFrZUdldFRpdGxlc1Jlc3AoKSB7CiAgICAgIGxldCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2dldFRpdGxlcycsIHsKICAgICAgICBtZXRob2Q6ICdHRVQnLAogICAgICB9KTsKCiAgICAgIGlmIChyZXNwb25zZS5vaykgeyAvLyDQtdGB0LvQuCBIVFRQLdGB0YLQsNGC0YPRgSDQsiDQtNC40LDQv9Cw0LfQvtC90LUgMjAwLTI5OQogICAgICAgIC8vINC/0L7Qu9GD0YfQsNC10Lwg0YLQtdC70L4g0L7RgtCy0LXRgtCwICjRgdC8LiDQv9GA0L4g0Y3RgtC+0YIg0LzQtdGC0L7QtCDQvdC40LbQtSkKICAgICAgICBsZXQgdGl0bGVzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpCiAgICAgICAgaWYgKHRpdGxlcyA9PT0gbnVsbCkgewogICAgICAgICAgdGl0bGVzID0gW10KICAgICAgICB9CiAgICAgICAgY29uc29sZS5sb2codGl0bGVzKQogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnRpdGxlcyA9IHRpdGxlcwogICAgICAgIGNvbnNvbGUubG9nKHRoaXMuJHN0b3JlLnN0YXRlLnRpdGxlcykKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndGl0bGVzJywgSlNPTi5zdHJpbmdpZnkodGhpcy4kc3RvcmUuc3RhdGUudGl0bGVzKSkKCiAgICAgICAgY29uc29sZS5sb2coIm9ra2trIikKICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5zdGF0dXMgPiAyOTkgJiYgcmVzcG9uc2Uuc3RhdHVzIDwgNTAwKSB7CiAgICAgICAgY29uc29sZS5sb2coImVyciIpCiAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2Uuc3RhdHVzID4gNTAwKSB7CiAgICAgICAgY29uc29sZS5sb2coInNvbWUgd3Jvbmcgb24gYmFja2VuZCIpCiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBtYWtlQWRkVGl0bGVSZXNwKHRpdGxlKSB7CiAgICAgIGxldCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL25ld1RpdGxlJywgewogICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHRpdGxlKQogICAgICB9KTsKCiAgICAgIGlmIChyZXNwb25zZS5vaykgeyAvLyDQtdGB0LvQuCBIVFRQLdGB0YLQsNGC0YPRgSDQsiDQtNC40LDQv9Cw0LfQvtC90LUgMjAwLTI5OQogICAgICAgIC8vINC/0L7Qu9GD0YfQsNC10Lwg0YLQtdC70L4g0L7RgtCy0LXRgtCwICjRgdC8LiDQv9GA0L4g0Y3RgtC+0YIg0LzQtdGC0L7QtCDQvdC40LbQtSkKICAgICAgICBjb25zb2xlLmxvZygib2tra2siKQogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUubG9nKCJub3Qgb2siKQogICAgICB9CiAgICB9LAogICAgYXN5bmMgbWFrZURlbGV0ZVRpdGxlUmVzcChpZCkgewogICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9kZWxldGVUaXRsZScsIHsKICAgICAgICBtZXRob2Q6ICdERUxFVEUnLAogICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtpZDogaWR9KSwKICAgICAgfSk7CiAgICAgIGlmIChyZXNwb25zZS5vaykgeyAvLyDQtdGB0LvQuCBIVFRQLdGB0YLQsNGC0YPRgSDQsiDQtNC40LDQv9Cw0LfQvtC90LUgMjAwLTI5OQogICAgICAgIC8vINC/0L7Qu9GD0YfQsNC10Lwg0YLQtdC70L4g0L7RgtCy0LXRgtCwICjRgdC8LiDQv9GA0L4g0Y3RgtC+0YIg0LzQtdGC0L7QtCDQvdC40LbQtSkKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLiRzdG9yZS5zdGF0ZS50aXRsZXMpCiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RpdGxlcycsIEpTT04uc3RyaW5naWZ5KHRoaXMuJHN0b3JlLnN0YXRlLnRpdGxlcykpCgogICAgICAgIGNvbnNvbGUubG9nKCJva2trayIpCiAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2Uuc3RhdHVzID4gMjk5ICYmIHJlc3BvbnNlLnN0YXR1cyA8IDUwMCkgewogICAgICAgIGNvbnNvbGUubG9nKCJlcnIiKQoKICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5zdGF0dXMgPiA1MDApIHsKICAgICAgICBjb25zb2xlLmxvZygic29tZSB3cm9uZyBvbiBiYWNrZW5kIikKICAgICAgfQogICAgfSwKICAgIGNoYW5nZUlzTmV3VGFzayhib29sKXsKICAgICAgdGhpcy5pc05ld1Rhc2sgPSBib29sCiAgICB9LAogICAgbWFrZUhvdXJzQW5kTWludXRlc1N0cihkYXRlKSB7CiAgICAgIGxldCBob3VycyA9IGRhdGUuZ2V0SG91cnMoKQogICAgICBsZXQgbWludXRlcyA9IGRhdGUuZ2V0TWludXRlcygpCiAgICAgIGhvdXJzID0gaG91cnMudG9TdHJpbmcoKS5sZW5ndGggPT09IDEgPyAnMCcgKyBob3VycyA6IGhvdXJzCiAgICAgIG1pbnV0ZXMgPSBtaW51dGVzLnRvU3RyaW5nKCkubGVuZ3RoID09PSAxID8gJzAnICsgbWludXRlcyA6IG1pbnV0ZXMKICAgICAgcmV0dXJuIGhvdXJzICsgJzonICsgbWludXRlcwogICAgfSwKICAgIG1ha2VEYXRlKGRhdGUsIHRpbWUsIHNlY29uZHMsIG1pbGxpc2Vjb25kcykgewogICAgICBkYXRlID0gZGF0ZSA9PT0gdW5kZWZpbmVkID8gIiIgOiBkYXRlCiAgICAgIHRpbWUgPSB0aW1lID09PSB1bmRlZmluZWQgPyAiIiA6ICJUIiArIHRpbWUKICAgICAgaWYgKHNlY29uZHMgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHNlY29uZHMgPSBzZWNvbmRzLnRvU3RyaW5nKCkubGVuZ3RoID09PSAxID8gJzAnICsgc2Vjb25kcyA6IHNlY29uZHMKICAgICAgfQogICAgICBzZWNvbmRzID0gc2Vjb25kcyA9PT0gdW5kZWZpbmVkID8gIiIgOiAiOiIgKyBzZWNvbmRzCiAgICAgIG1pbGxpc2Vjb25kcyA9IG1pbGxpc2Vjb25kcyA9PT0gdW5kZWZpbmVkID8gIiIgOiAiLiIgKyBtaWxsaXNlY29uZHMKICAgICAgY29uc29sZS5sb2coIm1ha2UgRGF0ZSA9ICIsIGRhdGUgKyB0aW1lICsgc2Vjb25kcyArIG1pbGxpc2Vjb25kcykKCiAgICAgIHJldHVybiBuZXcgRGF0ZShkYXRlICsgdGltZSArIHNlY29uZHMgKyBtaWxsaXNlY29uZHMpCiAgICB9LAogICAgb3Blbk5ld1Rhc2soKSB7CiAgICAgIHRoaXMuaXNOZXdUYXNrID0gdHJ1ZQogICAgfSwKICB9LAogIGJlZm9yZU1vdW50KCkgewogICAgdGhpcy5tYWtlR2V0VGl0bGVzUmVzcCgpCiAgfSwKfQo="},{"version":3,"sources":["AddEvent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuIA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddEvent.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div style=\"height: 100%;\">\n<!--    <div style=\"display:inline-block;margin: auto;width:100%\">-->\n<!--      <v-container>-->\n<!--        <v-layout row wrap align-center>-->\n    <div style=\"display: grid;grid-template-columns: repeat(2, 1fr);gap: 20px\">\n      <div v-for=\"(title,index) in $store.state.titles\" :key=\"title.title\">\n        <v-btn @touchstart=\"deleteTitleDown('touch')\" @mousedown=\"deleteTitleDown('click')\"\n               @touchend=\"deleteTitleUp(title,index,'touch')\" @mouseup=\"deleteTitleUp(title,index,'click')\"\n               style=\"height: 100px;width: 100%\">\n          {{ title.title }}\n        </v-btn>\n      </div>\n    </div>\n<!--        </v-layout>-->\n<!--      </v-container>-->\n<!--    </div>-->\n    <div style=\"margin-top:20px;display: flex;justify-content: center;text-align: center\">\n      <v-text-field\n          style=\"margin:20px 20px 20px 0\"\n          label=\"🥴 новое событие\"\n          solo\n          v-model=\"newEvent\"\n          @cancel=\"createTitle\"\n      ></v-text-field>\n\n      <v-checkbox\n          style=\"padding-top: 15px;min-width: 130px\"\n\n          v-model=\"isEventWithDuration\"\n          label=\"with duration\"\n      ></v-checkbox>\n    </div>\n\n    <v-btn @click=\"createTitle\" color=\"primary\" style=\"margin-top: -30px;width: 100%;height: 50px\">add</v-btn>\n    <v-btn @click=\"this.openNewTask\" color=\"primary\" style=\"margin-top:20px;width: 100%;height: 50px\">new task\n    </v-btn>\n\n    <template v-if=\"isNewTask\">\n      <div class=\"picker\" @click=\"isNewTask=false;\">\n        <div class=\"picker__content\" @click.stop>\n          <slot>\n            <CreatTask @isNewTaskChange=\"changeIsNewTask\">\n\n            </CreatTask>\n          </slot>\n        </div>\n      </div>\n    </template>\n\n    <template v-if=\"isPickEventDuration\">\n      <div class=\"picker\" @click=\"isPickEventDuration=false\">\n        <div class=\"picker__content\" @click.stop>\n          <slot>\n            <div>\n              <h1>Plan your event:</h1>\n              <v-row\n                  justify=\"space-around\"\n                  align=\"center\"\n              >\n                <v-col style=\"width: 350px; flex: 0 1 auto;\">\n                  <h2>Start:</h2>\n                  <v-time-picker\n                      format=\"24hr\"\n                      v-model=\"startEventTime\"\n                      :max=\"endEventTime\"\n                  ></v-time-picker>\n                </v-col>\n                <v-col style=\"width: 350px; flex: 0 1 auto;\">\n                  <h2>End:</h2>\n                  <v-time-picker\n                      format=\"24hr\"\n                      v-model=\"endEventTime\"\n                      :min=\"startEventTime\"\n                  ></v-time-picker>\n                  <v-btn class=\"mb-2\" width=\"290px\"\n                         @click=\"addEventWithDuration\"\n                         style=\"margin-top: 30px;\"\n                         height=\"50px\"\n                         color=\"white\">save\n                  </v-btn>\n                </v-col>\n<!--                <div style=\"display:block;height: 150px;width: 1px\"></div>-->\n              </v-row>\n            </div>\n          </slot>\n        </div>\n      </div>\n    </template>\n\n\n    <template>\n      <v-row justify=\"center\">\n        <v-dialog\n            v-model=\"dialog\"\n            persistent\n            max-width=\"290\"\n        >\n          <v-card>\n            <v-card-title class=\"text-h5\">\n              Delete {{ titleToDelete.title }} ?\n            </v-card-title>\n            <!--            <v-card-text>Let Google help apps determine location. This means sending anonymous location data to Google,-->\n            <!--              even when no apps are running.-->\n            <!--            </v-card-text>-->\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn\n                  color=\"darken-1\"\n                  text\n                  @click=\"dialog = false;\"\n              >\n                No\n              </v-btn>\n              <v-btn\n                  color=\"green darken-1\"\n                  text\n                  @click=\"dialog = false;deleteTitleWithIndex(titleIndex)\"\n              >\n                Yes\n              </v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n      </v-row>\n    </template>\n\n    <Footer >\n\n    </Footer>\n  </div>\n\n</template>\n\n<script>\nimport CreatTask from \"@/components/tasks/CreatTask\";\nimport Footer from \"@/components/Footer\";\n\nexport default {\n  components: {Footer, CreatTask},\n\n  name: \"addEvent\",\n  data() {\n    return {\n      timePicker: \"\",\n      selectedEventIndex: -1,\n      newEventToAdd: {},\n      newEvent: \"\",\n      timerDeleteTitle: false,\n      timerId: 0,\n      dialog: false,\n      titleToDelete: {},\n      titleIndex: 0,\n      titleToDeleteID: -1,\n      isNewTask:false,\n\n      startEventTime: null,\n      endEventTime: null,\n      isPickEventDuration: false,\n      isEventWithDuration: false,\n      datePicker: (new Date(Date.now() - (new Date()).getTimezoneOffset() * 60000)).toISOString().substr(0, 10),\n\n    }\n  },\n  computed: {\n    dateRangeText() {\n      return this.datesTask.join(' ~ ')\n    },\n  },\n  methods: {\n    sortEvents() {\n      this.$store.state.events.sort((a, b) =>\n          a.dt < b.dt ? 1 : -1)\n    },\n    async makeRequest(event) {\n      console.log('make request :', event)\n      let response = await fetch('/api/newEvent', {\n        method: 'POST',\n        body: JSON.stringify(event)\n      });\n\n      if (response.ok) { // если HTTP-статус в диапазоне 200-299\n        // получаем тело ответа (см. про этот метод ниже)\n        console.log(\"okkkk\")\n      } else {\n        console.log(\"not ok\")\n      }\n    },\n    addEvent(newTitle, index, param) {\n      console.log(\"hi addevent. title -\", newTitle.title, \"\\nclick on : \", param)\n\n      if (newTitle.withDuration) {\n        this.isPickEventDuration = true\n\n        this.startEventTime = this.makeHoursAndMinutesStr(new Date())\n        this.endEventTime = this.makeHoursAndMinutesStr(new Date())\n        this.newEventToAdd = {\n          title: newTitle.title,\n          dt: Date.now(),\n          withDuration: newTitle.withDuration,\n        }\n      } else {\n        let event = {\n          title: newTitle.title,\n          dt: Date.now(),\n          withDuration: newTitle.withDuration,\n        }\n        this.$store.state.events.push(event)\n\n        this.makeRequest(event)\n\n        this.sortEvents()\n        localStorage.setItem('events', JSON.stringify(this.$store.state.events))\n\n        this.page = 'list';\n      }\n\n      this.$store.state.titles.splice(index, 1)\n      this.$store.state.titles.unshift(newTitle)\n      localStorage.setItem('titles', JSON.stringify(this.$store.state.titles))\n    },\n    addEventWithDuration() {\n      let date = new Date()\n      date.setHours(0, 0, 0, 0)\n\n      let nowMonth = date.getMonth().toString().length < 2 ? '0' + (date.getMonth() + 1) : (date.getMonth() + 1)\n      let day = date.getDate().toString().length < 2 ? '0' + (date.getDate()) : (date.getDate())\n      // console.log(date.getFullYear() + \"-\" + nowMonth + \"-\" + date.getDate() + \"T\" + this.startEventTime)\n      // console.log((new Date(date.getFullYear() + \"-\" + nowMonth + \"-\" + date.getDate() + \"T\" + this.startEventTime)).getTime())\n      console.log(\"make start date:\", this.makeDate(date.getFullYear() + \"-\" + nowMonth + \"-\" + day, this.startEventTime, (new Date).getSeconds(), (new Date).getMilliseconds()).getTime(),)\n\n      // console.log(new Date(date.getFullYear() + \"-\" + nowMonth + \"-\" + date.getDate() + \" \" + this.startEventTime))\n      let event = {\n        title: this.newEventToAdd.title,\n        dt: this.makeDate(date.getFullYear() + \"-\" + nowMonth + \"-\" + day, this.startEventTime, (new Date).getSeconds(), (new Date).getMilliseconds()).getTime(),\n        timeStart: this.makeDate(date.getFullYear() + \"-\" + nowMonth + \"-\" + day, this.startEventTime).getTime(),\n        timeEnd: this.makeDate(date.getFullYear() + \"-\" + nowMonth + \"-\" + day, this.endEventTime).getTime(),\n        withDuration: this.newEventToAdd.withDuration,\n      }\n      console.log(\"event = \", event)\n      this.$store.state.events.push(event)\n\n      this.makeRequest(event)\n      console.log(this.$store.state.events)\n      this.startEventTime = null\n      this.endEventTime = null\n\n      this.sortEvents()\n      localStorage.setItem('events', JSON.stringify(this.$store.state.events))\n      this.isPickEventDuration = false\n      this.page = 'list';\n    },\n    findIndexEvents(id) {\n      for (let i = 0; i < this.$store.state.events.length; i++) {\n        if (this.$store.state.events[i].dt === id) {\n          return i\n        }\n      }\n      return -1\n    },\n    deleteTitleDown(event) {\n      if (event === 'click' && ('ontouchstart' in window || navigator.msMaxTouchPoints)) {\n        return\n      }\n      this.timerId = setTimeout(this.handlerFunc, 500)\n    },\n    handlerFunc() {\n      this.timerDeleteTitle = true\n      console.log('hi')\n    },\n    deleteTitleUp(title, index, event) {\n      if (event === 'click' && ('ontouchstart' in window || navigator.msMaxTouchPoints)) {\n        return\n      }\n      if (this.timerDeleteTitle) {\n        console.log(title, index)\n        this.titleIndex = index\n        this.titleToDeleteID = title.id\n        this.titleToDelete = title\n        this.dialog = true\n      } else {\n        this.addEvent(title, index, event)\n      }\n      this.timerDeleteTitle = false\n      clearTimeout(this.timerId)\n    },\n    deleteTitleWithIndex(index) {\n      this.$store.state.titles.splice(index, 1)\n      this.makeDeleteTitleResp(this.titleToDeleteID)\n      this.$forceUpdate();\n      localStorage.setItem('titles', JSON.stringify(this.$store.state.titles))\n      console.log('delete');\n    },\n    createTitle() {\n      console.log(this.makeDate('2019-09-10'))\n      if (this.newEvent !== \"\") {\n        // alert(\"newEvent\")\n        let newTitle = {\n          title: this.newEvent,\n          withDuration: this.isEventWithDuration\n        }\n        this.makeAddTitleResp(newTitle)\n        this.$store.state.titles.push(newTitle)\n        console.log(this.$store.state.titles)\n        this.newEvent = \"\"\n        this.isEventWithDuration = false\n        localStorage.setItem('titles', JSON.stringify(this.$store.state.titles))\n        this.$forceUpdate();\n      }\n    },\n\n    async makeGetTitlesResp() {\n      let response = await fetch('/api/getTitles', {\n        method: 'GET',\n      });\n\n      if (response.ok) { // если HTTP-статус в диапазоне 200-299\n        // получаем тело ответа (см. про этот метод ниже)\n        let titles = await response.json()\n        if (titles === null) {\n          titles = []\n        }\n        console.log(titles)\n        this.$store.state.titles = titles\n        console.log(this.$store.state.titles)\n        localStorage.setItem('titles', JSON.stringify(this.$store.state.titles))\n\n        console.log(\"okkkk\")\n      } else if (response.status > 299 && response.status < 500) {\n        console.log(\"err\")\n      } else if (response.status > 500) {\n        console.log(\"some wrong on backend\")\n      }\n    },\n    async makeAddTitleResp(title) {\n      let response = await fetch('/api/newTitle', {\n        method: 'POST',\n        body: JSON.stringify(title)\n      });\n\n      if (response.ok) { // если HTTP-статус в диапазоне 200-299\n        // получаем тело ответа (см. про этот метод ниже)\n        console.log(\"okkkk\")\n      } else {\n        console.log(\"not ok\")\n      }\n    },\n    async makeDeleteTitleResp(id) {\n      let response = await fetch('/api/deleteTitle', {\n        method: 'DELETE',\n        body: JSON.stringify({id: id}),\n      });\n      if (response.ok) { // если HTTP-статус в диапазоне 200-299\n        // получаем тело ответа (см. про этот метод ниже)\n        console.log(this.$store.state.titles)\n        localStorage.setItem('titles', JSON.stringify(this.$store.state.titles))\n\n        console.log(\"okkkk\")\n      } else if (response.status > 299 && response.status < 500) {\n        console.log(\"err\")\n\n      } else if (response.status > 500) {\n        console.log(\"some wrong on backend\")\n      }\n    },\n    changeIsNewTask(bool){\n      this.isNewTask = bool\n    },\n    makeHoursAndMinutesStr(date) {\n      let hours = date.getHours()\n      let minutes = date.getMinutes()\n      hours = hours.toString().length === 1 ? '0' + hours : hours\n      minutes = minutes.toString().length === 1 ? '0' + minutes : minutes\n      return hours + ':' + minutes\n    },\n    makeDate(date, time, seconds, milliseconds) {\n      date = date === undefined ? \"\" : date\n      time = time === undefined ? \"\" : \"T\" + time\n      if (seconds !== undefined) {\n        seconds = seconds.toString().length === 1 ? '0' + seconds : seconds\n      }\n      seconds = seconds === undefined ? \"\" : \":\" + seconds\n      milliseconds = milliseconds === undefined ? \"\" : \".\" + milliseconds\n      console.log(\"make Date = \", date + time + seconds + milliseconds)\n\n      return new Date(date + time + seconds + milliseconds)\n    },\n    openNewTask() {\n      this.isNewTask = true\n    },\n  },\n  beforeMount() {\n    this.makeGetTitlesResp()\n  },\n}\n</script>\n\n<style scoped>\n.titles {\n  margin: -3em 0 0 -2em;\n\n  /* Выравнивание по центру */\n  text-align: center;\n}\n\n.title {\n  display: inline-block;\n\n  vertical-align: top;\n\n  /* Убираем выравнивание по центру */\n  text-align: left;\n\n  margin: 3em 0 0 2em;\n}\n\n.picker {\n  color: white;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  position: fixed;\n  z-index: 100;\n  overflow: auto;\n  display: flex;\n  padding-top: 80px;\n}\n\n.picker__content {\n  /*overflow-y: scroll;*/\n  display: block;\n  width: 290px;\n  margin: auto;\n\n\n  min-height: 100%;\n  justify-content: space-between;\n  z-index: 200;\n}\n</style>"]}]}